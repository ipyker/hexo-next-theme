{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":0},{"_id":"source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":0},{"_id":"source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":0},{"_id":"source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":0},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/1.jpg","path":"images/bar/1.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/3.jpg","path":"images/bar/3.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/42.jpg","path":"images/bar/42.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/6.jpg","path":"images/bar/6.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/beats.png","path":"images/bar/beats.png","modified":0,"renderable":0},{"_id":"source/images/bar/elasticsearch.png","path":"images/bar/elasticsearch.png","modified":0,"renderable":0},{"_id":"source/images/bar/gitcommand.jpg","path":"images/bar/gitcommand.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/gitlab.jpg","path":"images/bar/gitlab.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/http.jpg","path":"images/bar/http.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/https.jpg","path":"images/bar/https.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/markdown.jpg","path":"images/bar/markdown.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/mysql.jpg","path":"images/bar/mysql.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/nginx-variable.jpg","path":"images/bar/nginx-variable.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/playbook.jpg","path":"images/bar/playbook.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/xpack.png","path":"images/bar/xpack.png","modified":0,"renderable":0},{"_id":"source/images/pic/cerebro.png","path":"images/pic/cerebro.png","modified":0,"renderable":0},{"_id":"source/images/pic/http-cache.png","path":"images/pic/http-cache.png","modified":0,"renderable":0},{"_id":"source/images/pic/language.png","path":"images/pic/language.png","modified":0,"renderable":0},{"_id":"source/images/pic/multiline.jpg","path":"images/pic/multiline.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/shouquanma.png","path":"images/pic/shouquanma.png","modified":0,"renderable":0},{"_id":"source/images/pic/tomcat1.png","path":"images/pic/tomcat1.png","modified":0,"renderable":0},{"_id":"source/images/pic/welcome-gitlab.png","path":"images/pic/welcome-gitlab.png","modified":0,"renderable":0},{"_id":"source/images/pic/x-pack.png","path":"images/pic/x-pack.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/headbg.jpg","path":"images/headbg.jpg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/images/sidebar-bg1.jpg","path":"images/sidebar-bg1.jpg","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/affix.js","path":"js/affix.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/exturl.js","path":"js/exturl.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/js.cookie.js","path":"js/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/post-details.js","path":"js/post-details.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/scroll-cookie.js","path":"js/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/scrollspy.js","path":"js/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"source/images/bar/0.jpg","path":"images/bar/0.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/11.jpg","path":"images/bar/11.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/12.jpg","path":"images/bar/12.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/25.jpg","path":"images/bar/25.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/37.jpg","path":"images/bar/37.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/39.jpg","path":"images/bar/39.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/44.jpg","path":"images/bar/44.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/5.jpg","path":"images/bar/5.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/nginx.jpg","path":"images/bar/nginx.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/prometheus.jpg","path":"images/bar/prometheus.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/systemctl.jpg","path":"images/bar/systemctl.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-02.jpg","path":"images/bar/zabbix-02.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-03.jpg","path":"images/bar/zabbix-03.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-05.jpg","path":"images/bar/zabbix-05.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/tls.jpg","path":"images/pic/tls.jpg","modified":0,"renderable":0},{"_id":"themes/nexT/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":1},{"_id":"source/images/bar/14.jpg","path":"images/bar/14.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/16.jpg","path":"images/bar/16.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/18.jpg","path":"images/bar/18.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/20.jpg","path":"images/bar/20.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/23.jpg","path":"images/bar/23.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/28.jpg","path":"images/bar/28.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/35.jpg","path":"images/bar/35.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/7.jpg","path":"images/bar/7.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/aliyun.jpg","path":"images/bar/aliyun.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/elastic-k8s.png","path":"images/bar/elastic-k8s.png","modified":0,"renderable":0},{"_id":"source/images/bar/kernel.jpg","path":"images/bar/kernel.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/tomcat.jpg","path":"images/bar/tomcat.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-01.jpg","path":"images/bar/zabbix-01.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config011.png","path":"images/pic/zabbix/zabbix-config011.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config014.png","path":"images/pic/zabbix/zabbix-config014.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config015.png","path":"images/pic/zabbix/zabbix-config015.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config016.png","path":"images/pic/zabbix/zabbix-config016.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config017.png","path":"images/pic/zabbix/zabbix-config017.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config018.png","path":"images/pic/zabbix/zabbix-config018.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config019.png","path":"images/pic/zabbix/zabbix-config019.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config023.png","path":"images/pic/zabbix/zabbix-config023.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config024.png","path":"images/pic/zabbix/zabbix-config024.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config025.png","path":"images/pic/zabbix/zabbix-config025.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config027.png","path":"images/pic/zabbix/zabbix-config027.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config029.png","path":"images/pic/zabbix/zabbix-config029.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config031.png","path":"images/pic/zabbix/zabbix-config031.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config033.png","path":"images/pic/zabbix/zabbix-config033.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config034.png","path":"images/pic/zabbix/zabbix-config034.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config035.png","path":"images/pic/zabbix/zabbix-config035.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config037.png","path":"images/pic/zabbix/zabbix-config037.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config042.png","path":"images/pic/zabbix/zabbix-config042.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config043.png","path":"images/pic/zabbix/zabbix-config043.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix1.png","path":"images/pic/zabbix/zabbix1.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix2.png","path":"images/pic/zabbix/zabbix2.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/images/reward/alipay.png","path":"images/reward/alipay.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/js/src/clicklove.js","path":"js/src/clicklove.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/bookmark/LICENSE","path":"lib/bookmark/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/bookmark/README.md","path":"lib/bookmark/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/bookmark/bookmark.min.js","path":"lib/bookmark/bookmark.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/bookmark/index.js","path":"lib/bookmark/index.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/bookmark/package.json","path":"lib/bookmark/package.json","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-nest/LICENSE","path":"lib/canvas-nest/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-nest/README.md","path":"lib/canvas-nest/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-nest/canvas-nest-nomobile.min.js","path":"lib/canvas-nest/canvas-nest-nomobile.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-ribbon/LICENSE","path":"lib/canvas-ribbon/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-ribbon/README.md","path":"lib/canvas-ribbon/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fancybox/LICENSE","path":"lib/fancybox/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fancybox/README.md","path":"lib/fancybox/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery_lazyload/LICENSE","path":"lib/jquery_lazyload/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/LICENSE","path":"lib/pace/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/README.md","path":"lib/pace/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/quicklink/LICENSE","path":"lib/quicklink/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/quicklink/README.md","path":"lib/quicklink/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/quicklink/quicklink.umd.js","path":"lib/quicklink/quicklink.umd.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/LICENSE","path":"lib/three/LICENSE","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/README.md","path":"lib/three/README.md","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/gulpfile.js","path":"lib/three/gulpfile.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/package.json","path":"lib/three/package.json","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/yarn.lock","path":"lib/three/yarn.lock","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"source/images/bar/32.jpg","path":"images/bar/32.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config002.png","path":"images/pic/zabbix/zabbix-config002.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config004.png","path":"images/pic/zabbix/zabbix-config004.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config005.png","path":"images/pic/zabbix/zabbix-config005.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config007.png","path":"images/pic/zabbix/zabbix-config007.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config009.png","path":"images/pic/zabbix/zabbix-config009.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config010.png","path":"images/pic/zabbix/zabbix-config010.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config012.png","path":"images/pic/zabbix/zabbix-config012.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config013.png","path":"images/pic/zabbix/zabbix-config013.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config020.png","path":"images/pic/zabbix/zabbix-config020.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config021.png","path":"images/pic/zabbix/zabbix-config021.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config022.png","path":"images/pic/zabbix/zabbix-config022.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config030.png","path":"images/pic/zabbix/zabbix-config030.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config032.png","path":"images/pic/zabbix/zabbix-config032.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config036.png","path":"images/pic/zabbix/zabbix-config036.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config038.png","path":"images/pic/zabbix/zabbix-config038.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config039.png","path":"images/pic/zabbix/zabbix-config039.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config040.png","path":"images/pic/zabbix/zabbix-config040.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config041.png","path":"images/pic/zabbix/zabbix-config041.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/images/reward/wechatpay.png","path":"images/reward/wechatpay.png","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"source/images/bar/13.jpg","path":"images/bar/13.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/ansible.jpg","path":"images/bar/ansible.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/docker.jpg","path":"images/bar/docker.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-04.jpg","path":"images/bar/zabbix-04.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config001.png","path":"images/pic/zabbix/zabbix-config001.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config003.png","path":"images/pic/zabbix/zabbix-config003.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config008.png","path":"images/pic/zabbix/zabbix-config008.png","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config028.png","path":"images/pic/zabbix/zabbix-config028.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.min.css","path":"lib/fancybox/source/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/lib/CanvasRenderer.js","path":"lib/three/lib/CanvasRenderer.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/lib/Projector.js","path":"lib/three/lib/Projector.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/src/canvas_lines.js","path":"lib/three/src/canvas_lines.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/src/canvas_sphere.js","path":"lib/three/src/canvas_sphere.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/src/three-waves.js","path":"lib/three/src/three-waves.js","modified":0,"renderable":1},{"_id":"source/images/bar/15.jpg","path":"images/bar/15.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/8.jpg","path":"images/bar/8.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/9.jpg","path":"images/bar/9.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/kibana.jpg","path":"images/bar/kibana.jpg","modified":0,"renderable":0},{"_id":"source/images/pic/zabbix/zabbix-config026.png","path":"images/pic/zabbix/zabbix-config026.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.min.js","path":"lib/fancybox/source/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"source/images/pic/zabbix/zabbix-config006.png","path":"images/pic/zabbix/zabbix-config006.png","modified":0,"renderable":0},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"source/images/bar/36.jpg","path":"images/bar/36.jpg","modified":0,"renderable":0},{"_id":"source/images/bar/zabbix-06.jpg","path":"images/bar/zabbix-06.jpg","modified":0,"renderable":0},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"source/images/bar/29.jpg","path":"images/bar/29.jpg","modified":0,"renderable":0},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/nexT/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"d6be0e55d7c1b1604530cae2cac8d54888839928","modified":1553515520128},{"_id":"themes/nexT/.all-contributorsrc","hash":"d139a3b623b2e40bbff5c96ad44adf7dbdbc5be1","modified":1558634875000},{"_id":"themes/nexT/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1558634875000},{"_id":"themes/nexT/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1558634875000},{"_id":"themes/nexT/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1558634875000},{"_id":"themes/nexT/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1558634875000},{"_id":"themes/nexT/.gitignore","hash":"3558a8b174618c7a643aceb13233edd729813f9a","modified":1558634875000},{"_id":"themes/nexT/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1558634875000},{"_id":"themes/nexT/.travis.yml","hash":"3d1dc928c4a97933e64379cfde749dedf62f252c","modified":1558634875000},{"_id":"themes/nexT/LICENSE.md","hash":"18144d8ed58c75af66cb419d54f3f63374cd5c5b","modified":1558634875000},{"_id":"themes/nexT/README.md","hash":"7958c3f70b2133b479ddaf525cc4b6d87a37e04a","modified":1558634875000},{"_id":"themes/nexT/_config.yml","hash":"6fef56f3f7ff24135aa6cfb8272eb8a36210e26a","modified":1558972056884},{"_id":"themes/nexT/bower.json","hash":"9bc3900396a375f817db47d147bb6d207c661678","modified":1558634875000},{"_id":"themes/nexT/gulpfile.coffee","hash":"23bd9587807edc4dbecb5c5a29ab96ade24458b5","modified":1558634875000},{"_id":"themes/nexT/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1558634875000},{"_id":"themes/nexT/package.json","hash":"0284636ddd0e06ae593f4887819f3a35b08c1370","modified":1558634875000},{"_id":"source/_posts/Nginx-location.md","hash":"53dc8f7f1ba52a2b23918ddb97c709c57665a8cd","modified":1558636675990},{"_id":"source/_posts/aliyun-ecs-mail.md","hash":"f6c47e47618b13cf10699ba6f09f39aee9ec3cb5","modified":1558636530601},{"_id":"source/_posts/ansible-module.md","hash":"5c3319f97ae1f0f488c87c0ce1fbe4aaaaa8ac03","modified":1558636578762},{"_id":"source/_posts/ansible-playbook.md","hash":"8611cd7579752f40f1fb22196534268a5b480ee4","modified":1558636571015},{"_id":"source/_posts/centos-kernel-analysis.md","hash":"6be88c546492b947f0f4bf2c984324c98793a829","modified":1558636555416},{"_id":"source/_posts/elastic-x-pack.md","hash":"f8416a3853421de9e2effe343ec09375ee944f23","modified":1558636759861},{"_id":"source/_posts/filebeat.md","hash":"52c24b5e8ce6d520d67ee54bbb88a18ba9c86265","modified":1558636748536},{"_id":"source/_posts/git-command.md","hash":"f0514f1c4a2017148aa632cee8bcebac8217a699","modified":1558636739582},{"_id":"source/_posts/hexo-next.md","hash":"2967e065d99c832f8fbc99d5e5214377260ecba4","modified":1558855830604},{"_id":"source/_posts/http-header.md","hash":"7da210c4661dc797774de821a62275bf0c66b050","modified":1558636732089},{"_id":"source/_posts/https-tls.md","hash":"e3d60daa18c604365411f7de1c6d40c5f047677f","modified":1558636721701},{"_id":"source/_posts/install-docker-ce.md","hash":"f77feb4b00a8c96b6f0a8f4a75d4644a8ece7708","modified":1558717067301},{"_id":"source/_posts/install-efk.md","hash":"314faaf42c7694c08d2cf8ad6cb9140a38e88ecd","modified":1558847282455},{"_id":"source/_posts/install-gitlab-ce.md","hash":"03f16aabe47cf52ebfa3c16b48535154fb2aabcf","modified":1558636706929},{"_id":"source/_posts/markdown-format.md","hash":"bea24d7d297ee76a92c774bcb9f52c764916b98f","modified":1558944552894},{"_id":"source/_posts/mysql-status.md","hash":"a93c95a9be9d6c3be5f389df3b64cd754973f0b3","modified":1558636687189},{"_id":"source/_posts/nginx-variable.md","hash":"22752a6da1a8dca159708dbb4f3fc32ac08c125b","modified":1558636665959},{"_id":"source/_posts/prometheus.md","hash":"31971954c12571db8ee7054678cfce337c002c3a","modified":1558944557187},{"_id":"source/_posts/systemctl-unit.md","hash":"ccf90de99915ba6e5649f67de1537cf5ed06a3f2","modified":1558637335192},{"_id":"source/_posts/tomcat-apr.md","hash":"4f90593c552f523754f6ad60cfd8bbd5f8743f41","modified":1558636631995},{"_id":"source/_posts/zabbix-agent.md","hash":"5f55b02ffec540a606d8ea016646f05be3818eb0","modified":1558944429249},{"_id":"source/_posts/zabbix-item.md","hash":"17d1bc05c4b56ce5bbdac55726520a9cd3ef6952","modified":1558944437443},{"_id":"source/_posts/zabbix-server.md","hash":"5a8c396774a4dc20b4505d8cb88778ff99a4c7f1","modified":1558944442622},{"_id":"source/_posts/zabbix-summarize.md","hash":"a3becab9d5d2ec277eaffe523b506b3469459114","modified":1558944446487},{"_id":"source/_posts/zabbix-trigger.md","hash":"c426a0dfaaca6aafc9307b93306c8311d531d6c7","modified":1558944449891},{"_id":"source/_posts/zabbox-alert.md","hash":"974ce3559fe11cbd741a3c34f7f41a07c62a2bf7","modified":1558944456287},{"_id":"source/about/index.md","hash":"81f44cba2f821bed6644a003fbb603e49dedee3d","modified":1558955679929},{"_id":"source/about/index.html","hash":"533c638132e73685d124bdc07975e85c3532cc9e","modified":1558967605293},{"_id":"source/categories/index.md","hash":"4943137d32d9d5d077c1a655e7128fe0cc4c43cc","modified":1558765565293},{"_id":"source/guestbook/index.md","hash":"8b4afca74db806e2af71892bc610ba275c3db7db","modified":1558968042841},{"_id":"source/images/apple-touch-icon-next.png","hash":"531900f543a4db1ec5b4f0a3b20c9cc7c4120b53","modified":1558700193204},{"_id":"source/images/favicon-16x16-next.png","hash":"dad40a34bfcc79c3ea2a502d5b60ce25362b81cf","modified":1558700193212},{"_id":"source/images/favicon-32x32-next.png","hash":"7366345ff442a170ff75154bb955d5c1ce8036d0","modified":1558700193212},{"_id":"source/images/logo.svg","hash":"20f66224fee48857fb5e3b4587d0d8a8ebdc1055","modified":1558700193212},{"_id":"source/tags/index.md","hash":"3f884b29fbee406ca2d60e43b0626f82b9db4d0c","modified":1558765552435},{"_id":"themes/nexT/.github/CODE_OF_CONDUCT.md","hash":"c149f003d03501565e7688915cd8f2e99fbf8f42","modified":1558634875000},{"_id":"themes/nexT/.github/CONTRIBUTING.md","hash":"7ce6cdc8adcbfda68fcbcc54c8b9fd3434a37993","modified":1558634875000},{"_id":"themes/nexT/.github/ISSUE_TEMPLATE.md","hash":"00c25366764e6b9ccb40b877c60dc13b2916bbf7","modified":1558634875000},{"_id":"themes/nexT/.github/PULL_REQUEST_TEMPLATE.md","hash":"3239625bb2573e61f7bcce27a74882a9ff7021e9","modified":1558634875000},{"_id":"themes/nexT/.github/auto_assign.yml","hash":"cb68a1dca1c4623448c2ca899614a9f21df1b036","modified":1558634875000},{"_id":"themes/nexT/.github/config.yml","hash":"8a5cbf5aa9529390fe0a782758aca9c3a02f9dcf","modified":1558634875000},{"_id":"themes/nexT/.github/eslint-disable-bot.yml","hash":"16541fb7b80f5ab90135db96285badb63c4d7d3e","modified":1558634875000},{"_id":"themes/nexT/.github/mergeable.yml","hash":"0ee56e23bbc71e1e76427d2bd255a9879bd36e22","modified":1558634875000},{"_id":"themes/nexT/.github/lock.yml","hash":"585d2c471047be320aa62f2b74dad797bf09c530","modified":1558634875000},{"_id":"themes/nexT/.github/release-drafter.yml","hash":"c9fdbbdf712327a8ae1ed5972973a75802e245bc","modified":1558634875000},{"_id":"themes/nexT/.github/stale.yml","hash":"41bf97ee86b8940a0b2e754499ec77fd2b44b717","modified":1558634875000},{"_id":"themes/nexT/.github/support.yml","hash":"d75db6ffa7b4ca3b865a925f9de9aef3fc51925c","modified":1558634875000},{"_id":"themes/nexT/.github/topissuebot.yml","hash":"10665bf2b5aba351725715c71e94ad183a0e8f18","modified":1558634875000},{"_id":"themes/nexT/.github/weekly-digest.yml","hash":"404e4ccb7fcd6587bc9b0247a7a7ff256d21f2cb","modified":1558634875000},{"_id":"themes/nexT/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1558634875000},{"_id":"themes/nexT/docs/ALGOLIA-SEARCH.md","hash":"0d2f22ea09dd1ef63c66164e048d8239d2ccb2b8","modified":1558634875000},{"_id":"themes/nexT/docs/AUTHORS.md","hash":"7b24be2891167bdedb9284a682c2344ec63e50b5","modified":1558634875000},{"_id":"themes/nexT/docs/DATA-FILES.md","hash":"8e1962dd3e1b700169b3ae5bba43992f100651ce","modified":1558634875000},{"_id":"themes/nexT/docs/INSTALLATION.md","hash":"2bbdd6c1751b2b42ce9b9335da420c6026a483e9","modified":1558634875000},{"_id":"themes/nexT/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"212a36d57495990b5f56e46ca8dce1d76c199660","modified":1558634875000},{"_id":"themes/nexT/docs/LICENSE.txt","hash":"368bf2c29d70f27d8726dd914f1b3211cae4bbab","modified":1558634875000},{"_id":"themes/nexT/docs/MATH.md","hash":"026d2cff73c22a30ea39c50783557ff4913aceac","modified":1558634875000},{"_id":"themes/nexT/docs/UPDATE-FROM-5.1.X.md","hash":"ad57c168d12ba01cf144a1ea0627b2ffd1847d3e","modified":1558634875000},{"_id":"themes/nexT/languages/de.yml","hash":"9e524b2bdfb848504b93a51c5650e76bba5fa9e0","modified":1558634875000},{"_id":"themes/nexT/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1558634875000},{"_id":"themes/nexT/languages/en.yml","hash":"c540c3a0d7db2d4239293c8783881962640b6c34","modified":1558634875000},{"_id":"themes/nexT/languages/es.yml","hash":"1752429687861b5cedd063c6ebe5dacefbe7e5a7","modified":1558634875000},{"_id":"themes/nexT/languages/fa.yml","hash":"cd41db832af5e399590b70a5227cfe0b0e98e101","modified":1558634875000},{"_id":"themes/nexT/languages/fr.yml","hash":"7005c2b42c2c6e82bd7a1be5cc2f443b5fc79105","modified":1558634875000},{"_id":"themes/nexT/languages/id.yml","hash":"1c4868837f5109f1df863b04fe627352c31d404b","modified":1558634875000},{"_id":"themes/nexT/languages/it.yml","hash":"b30ff77ad8044e3b021a3b09187cd377dc789fd2","modified":1558634875000},{"_id":"themes/nexT/languages/ja.yml","hash":"1dc35e436da6214cdb3c2ff44bc4a06d0be5b9a0","modified":1558634875000},{"_id":"themes/nexT/languages/ko.yml","hash":"20bfaa7600d35235996c18e5c13dcef89c119626","modified":1558634875000},{"_id":"themes/nexT/languages/nl.yml","hash":"1c44b3cb2f817808607f3bf6ef47f58ce7599995","modified":1558634875000},{"_id":"themes/nexT/languages/pt-BR.yml","hash":"08b913a5cf4cc160083069cb4dfb2d66eecd1218","modified":1558634875000},{"_id":"themes/nexT/languages/pt.yml","hash":"8ddac820e2c17b484b56c0da8881e142b10e221b","modified":1558634875000},{"_id":"themes/nexT/languages/ru.yml","hash":"db0644e738d2306ac38567aa183ca3e859a3980f","modified":1558634875000},{"_id":"themes/nexT/languages/tr.yml","hash":"c5f0c20743b1dd52ccb256050b1397d023e6bcd9","modified":1558634875000},{"_id":"themes/nexT/languages/uk.yml","hash":"1eb59e581568da9a81d6e20541b4ada5fc1c55c0","modified":1558634875000},{"_id":"themes/nexT/languages/vi.yml","hash":"ba7aff8f88e03f69a0acf7f1b90ee03e077ee88e","modified":1558634875000},{"_id":"themes/nexT/languages/zh-CN.yml","hash":"fbbf3a0b664ae8e927c700b0a813692b94345156","modified":1558634875000},{"_id":"themes/nexT/languages/zh-HK.yml","hash":"7903b96912c605e630fb695534012501b2fad805","modified":1558634875000},{"_id":"themes/nexT/languages/zh-TW.yml","hash":"6e6d2cd8f4244cb1b349b94904cb4770935acefd","modified":1558634875000},{"_id":"themes/nexT/layout/_layout.swig","hash":"7d44fc49eba1d0cc5caf4634711dd3fffa963528","modified":1558775383168},{"_id":"themes/nexT/layout/archive.swig","hash":"7e8f3a41a68e912f2b2aaba905d314306ccaf794","modified":1558634875000},{"_id":"themes/nexT/layout/category.swig","hash":"dda0e6b2139decaf5e865d22ec9d45fdb615a703","modified":1558634875000},{"_id":"themes/nexT/layout/index.swig","hash":"c2a3896c64e96790edc10426ef586b6186a87f46","modified":1558634875000},{"_id":"themes/nexT/layout/page.swig","hash":"d8a6cbf6f611c5d68d5da430cb6dc7010ff2c7e0","modified":1558634875000},{"_id":"themes/nexT/layout/post.swig","hash":"f74929fd792541916eb25c2addfb35431be071ba","modified":1558634875000},{"_id":"themes/nexT/layout/schedule.swig","hash":"3268dd3d90d8b0e142cfa1a2ebb23355baeda148","modified":1558634875000},{"_id":"themes/nexT/layout/tag.swig","hash":"a6be69a90924c9d2f4d90fb4867234859bd2c2e9","modified":1558634875000},{"_id":"themes/nexT/scripts/merge-configs.js","hash":"33afe97284d34542015d358a720823feeebef120","modified":1558634875000},{"_id":"themes/nexT/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1558634875000},{"_id":"themes/nexT/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1558634875000},{"_id":"themes/nexT/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1558634875000},{"_id":"themes/nexT/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1558634875000},{"_id":"source/images/avatar.jpg","hash":"d415ffaf3157a079d8c5fc35c1ac56736256da0c","modified":1558765874722},{"_id":"themes/nexT/layout/_custom/sidebar.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558777745667},{"_id":"themes/nexT/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"source/images/bar/1.jpg","hash":"20ec429cac584672bfe974b0d0b0e3aaace99ebd","modified":1553357004353},{"_id":"source/images/bar/3.jpg","hash":"772cc34d670a67394f048ab4c4904b301c16495b","modified":1553357022864},{"_id":"source/images/bar/42.jpg","hash":"ee0db87420c90e7d1094932e1f8de0984f99c8e5","modified":1553403568964},{"_id":"source/images/bar/6.jpg","hash":"cd420156233418ffa06a7cc2c42d6b42d1efc00d","modified":1553356953121},{"_id":"source/images/bar/beats.png","hash":"bd0640099ff2265f53f6d1e55bd6cb1391472fe2","modified":1558356940009},{"_id":"source/images/bar/elasticsearch.png","hash":"061080ac7426a51fffafa0644c2ba7fd94463f06","modified":1558356940011},{"_id":"source/images/bar/gitcommand.jpg","hash":"9f7b7add770eb1345dba2decc32d0ade18a2bc05","modified":1557241327803},{"_id":"source/images/bar/gitlab.jpg","hash":"898ade9853ed181d21a69691d1c6ea45253d8836","modified":1553866728938},{"_id":"source/images/bar/http.jpg","hash":"fed4298d8b6e3e8831bbf21920c5cb0d8940c83e","modified":1553699666656},{"_id":"source/images/bar/https.jpg","hash":"7ddbf7f36d30fa7fa4bfa0ce6a843a0c21c80db0","modified":1553602989168},{"_id":"source/images/bar/markdown.jpg","hash":"af6d43429432bb5c623f6655ac7fa1ba63843790","modified":1553356966402},{"_id":"source/images/bar/mysql.jpg","hash":"b030d0e716acf323525a7dc6302c48f6f8f01ddc","modified":1553356977952},{"_id":"source/images/bar/nginx-variable.jpg","hash":"eabcfee98a77ff767af9cb2549f3d6cf70728e27","modified":1553403526577},{"_id":"source/images/bar/playbook.jpg","hash":"4a277e3710912cf0b991fe39e2cc8e46e95912e2","modified":1557245377339},{"_id":"source/images/bar/xpack.png","hash":"43e50ff7f1d4f12dfba14a337a4cc3f66ef85ed7","modified":1558356940016},{"_id":"source/images/pic/cerebro.png","hash":"de84fe740d7f6e7867e2f042113c7f5abfdf144b","modified":1558613362137},{"_id":"source/images/pic/http-cache.png","hash":"89934dca7bb847ad864a0afd80cf1225153599d9","modified":1555077389925},{"_id":"source/images/pic/language.png","hash":"d9f788d97861dcf48df39e76db8def7943a0ddef","modified":1553866320765},{"_id":"source/images/pic/multiline.jpg","hash":"1481fd7e7bb688b4b29b49d6861551ebbe35f8eb","modified":1558613362137},{"_id":"source/images/pic/shouquanma.png","hash":"b55a167280fa1eeb5b3223a3de82c312fc891c2c","modified":1553526151386},{"_id":"source/images/pic/tomcat1.png","hash":"bc1afbfca7f790a47c760f2da4f5bfe3566c2dd8","modified":1553602989168},{"_id":"source/images/pic/welcome-gitlab.png","hash":"374ace5280513d9c8eb8a7efb6747901481659d7","modified":1553866320765},{"_id":"source/images/pic/x-pack.png","hash":"16055d46f86bd08179e6791ce1485431f7ca91b3","modified":1558356940017},{"_id":"themes/nexT/.github/ISSUE_TEMPLATE/bug-report.md","hash":"c37a60580c901c79ccb22564b228a46e06207445","modified":1558634875000},{"_id":"themes/nexT/.github/ISSUE_TEMPLATE/custom-issue-template.md","hash":"57e1e06e845193e80c7df4a4454af28352526f7a","modified":1558634875000},{"_id":"themes/nexT/.github/ISSUE_TEMPLATE/feature-request.md","hash":"07c423cce4157b8e2dbf60907ccbf3f18c4cf98a","modified":1558634875000},{"_id":"themes/nexT/.github/ISSUE_TEMPLATE/non-english.md","hash":"0b0727ff4d5180ae67f930fb4f8e9488e33eda9f","modified":1558634875000},{"_id":"themes/nexT/docs/ru/DATA-FILES.md","hash":"d6d20f60f77a76c77f8e65d0c9adbd79d0274557","modified":1558634875000},{"_id":"themes/nexT/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1558634875000},{"_id":"themes/nexT/docs/ru/README.md","hash":"4d7ef717d0b57288e606996ee56c20ffd59d5a99","modified":1558634875000},{"_id":"themes/nexT/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"caa624092175d44e3d3a8c6ca23922718da2354c","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"b218e30df4126b6adc87684775ac4c86ea7f7958","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/CONTRIBUTING.md","hash":"650fcb9135b6f09d48e866c19e0dbccd831367f1","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/DATA-FILES.md","hash":"f3eec572a7d83542e2710a7404082014aaa1a5e7","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/INSTALLATION.md","hash":"b19a6e0ae96eb7c756fb5b1ba03934c7f9cbb3c3","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"115ffbde2b3ce01ef1f8c2b3833e6f6794650132","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/MATH.md","hash":"83feca62190abcca0332915ffe0eefe582573085","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/README.md","hash":"cdd7a8bdcf4a83ff4c74ee6c95c6bcc0b8c1831c","modified":1558634875000},{"_id":"themes/nexT/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"5da70d7fa0c988a66a469b9795d33d471a4a4433","modified":1558634875000},{"_id":"themes/nexT/layout/_custom/head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1558634875000},{"_id":"themes/nexT/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1558634875000},{"_id":"themes/nexT/layout/_macro/passage-end-tag.swig","hash":"fc5158971d0972512f14765574ffb295d481b7fa","modified":1558724167956},{"_id":"themes/nexT/layout/_macro/post-collapse.swig","hash":"89b0a0e64637bf5b0cfea0a23642df3d95eedfa4","modified":1558634875000},{"_id":"themes/nexT/layout/_macro/post.swig","hash":"bcde4d797bc53f5389f8aef97e24f0c9fd13e646","modified":1558792664820},{"_id":"themes/nexT/layout/_macro/sidebar.swig","hash":"480d93619479dcfcbec6906803bb38b2dfbeae53","modified":1558776763099},{"_id":"themes/nexT/layout/_partials/comments.swig","hash":"5352f96f4544c1520babf1cec7b44ddf2f8057b3","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/github-banner.swig","hash":"977d738825bd947ed85de3eb6a72221245899bbf","modified":1558793266912},{"_id":"themes/nexT/layout/_partials/footer.swig","hash":"f94de36fd61d5ecd8afb6d0c200302079174efb5","modified":1558774525825},{"_id":"themes/nexT/layout/_partials/pagination.swig","hash":"dbe321bcf3cf45917cc11a3e3f50d8572bac2c70","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/post-edit.swig","hash":"06dac109504812b63766a80ede9ddacbd42d227d","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/commons.swig","hash":"50be1762f60222379a8bef5e42ab1a0f3872b7ff","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/exturl.swig","hash":"61ae10d41f67ece004a025077fdb28724af05090","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/next-boot.swig","hash":"012e3ece672cc3b13d5e032139f328d3426d7d65","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/noscript.swig","hash":"edaff4766e0c05fd5c889d9dd32884d376bef9d9","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/scroll-cookie.swig","hash":"ccd13d73429ef91ef5e8b7d9fa43c8188facdf41","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/vendors.swig","hash":"83470eb401f78f4683907c48ad6760b90730daa3","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/baidu-push.swig","hash":"4ccf2abbfd070874265b0436a3eff21f7c998dfb","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/bookmark.swig","hash":"10b61a8bac671e375916a4d234c120117098a78f","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/chatra.swig","hash":"eefb68b69b4b0ed558ee0324ccd711990059b20d","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/copy-code.swig","hash":"9be7c2c9cef63006866d1232c5289901e46be7ed","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/mermaid.swig","hash":"d6e6ddda836bd9e2e8d9767a910c7d3280080e81","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/needsharebutton.swig","hash":"2c4a66be4677d3e4dec3f169ac8a769098dad1fe","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/pangu.swig","hash":"c28f9dc96ab735daeb7f599f86470aa5a83c03cf","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/pdf.swig","hash":"810a9b2a6059f46c4a2ddb178f1eaa4c5e23750b","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/quicklink.swig","hash":"7757bd285732e857996b99af9d917953589fac5e","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/rating.swig","hash":"cbe40cb67dad15ade967b0f396c1a95b6871f76a","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/schedule.swig","hash":"2398e5cd0cb466953b6e7a42c2b2caddebf3c348","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/tidio.swig","hash":"912368c41de675f458b267a49a99ae3e7e420ebb","modified":1558634875000},{"_id":"themes/nexT/scripts/filters/exturl.js","hash":"79ad823ca803cb00e0bfc648aa6c9d59711e0519","modified":1558634875000},{"_id":"themes/nexT/scripts/helpers/engine.js","hash":"60eb1554456d9d0e5afc4a2d16f1580a0aa02da8","modified":1558634875000},{"_id":"themes/nexT/scripts/helpers/next-url.js","hash":"799a042bbf497a4c7a2981aa2014ff28fa1bb382","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/button.js","hash":"f3b4f7ae7e58072bbf410d950a99a0b53cbc866d","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/center-quote.js","hash":"f13430d9d1c9773b390787c2f046bb1f12a79878","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/exturl.js","hash":"d605918cf819887e9555212dbe12da97fd887a0b","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/full-image.js","hash":"fcb41c1c81560ed49dc4024654388a28ee7d32b0","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/group-pictures.js","hash":"598220fa92ff3540dcab74f633ba41523daa8364","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/include-raw.js","hash":"5db59d56f4f4082382bf1c16722e6c383892b0c5","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/label.js","hash":"fc5b267d903facb7a35001792db28b801cccb1f8","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/mermaid.js","hash":"983c6c4adea86160ecc0ba2204bc312aa338121d","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/note.js","hash":"0a02bb4c15aec41f6d5f1271cdb5c65889e265d9","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/pdf.js","hash":"f780cc72bff91d2720626e7af69eed25e9c12a29","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/tabs.js","hash":"00ca6340d4fe0ccdae7525373e4729117775bbfa","modified":1558634875000},{"_id":"themes/nexT/scripts/tags/video.js","hash":"e5ff4c44faee604dd3ea9db6b222828c4750c227","modified":1558634875000},{"_id":"themes/nexT/source/css/main.styl","hash":"73e2335e14c750405b5a73505010a1e09e71d66d","modified":1558778556971},{"_id":"themes/nexT/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1558634875000},{"_id":"themes/nexT/source/images/apple-touch-icon-next.png","hash":"531900f543a4db1ec5b4f0a3b20c9cc7c4120b53","modified":1558700193204},{"_id":"themes/nexT/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1558634875000},{"_id":"themes/nexT/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1558634875000},{"_id":"themes/nexT/source/images/favicon-16x16-next.png","hash":"dad40a34bfcc79c3ea2a502d5b60ce25362b81cf","modified":1558700193212},{"_id":"themes/nexT/source/images/favicon-32x32-next.png","hash":"7366345ff442a170ff75154bb955d5c1ce8036d0","modified":1558700193212},{"_id":"themes/nexT/source/images/headbg.jpg","hash":"85e0b80411d54bf27bfffc1bbd40049ca1946dc3","modified":1558885948122},{"_id":"themes/nexT/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1558634875000},{"_id":"themes/nexT/source/images/logo.svg","hash":"20f66224fee48857fb5e3b4587d0d8a8ebdc1055","modified":1558700193212},{"_id":"themes/nexT/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1558634875000},{"_id":"themes/nexT/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1558634875000},{"_id":"themes/nexT/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1558634875000},{"_id":"themes/nexT/source/images/searchicon.png","hash":"025d64ba0160a3a2257dd2b3032b5f7c9dd9b82b","modified":1558634875000},{"_id":"themes/nexT/source/images/sidebar-bg1.jpg","hash":"56143c34ae82ae734b54f65af4d8d06fc3092029","modified":1558775864768},{"_id":"themes/nexT/source/js/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1558634875000},{"_id":"themes/nexT/source/js/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1558634875000},{"_id":"themes/nexT/source/js/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1558634875000},{"_id":"themes/nexT/source/js/js.cookie.js","hash":"e0afce539f1fb81d59e3c6f0a68d736e2fb45d93","modified":1558634875000},{"_id":"themes/nexT/source/js/motion.js","hash":"a16bc0b701646bf6653484675f4d5dc0f892d184","modified":1558634875000},{"_id":"themes/nexT/source/js/next-boot.js","hash":"e0615efab5f81ba0fd39c0527eac31144deac7ce","modified":1558634875000},{"_id":"themes/nexT/source/js/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1558634875000},{"_id":"themes/nexT/source/js/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1558634875000},{"_id":"themes/nexT/source/js/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1558634875000},{"_id":"themes/nexT/source/js/utils.js","hash":"81913c5f75d0949443833cf4269ad63bd7f9be6f","modified":1558634875000},{"_id":"source/images/bar/0.jpg","hash":"5122112eba55651d9fb982160eaf51cc3f237cdc","modified":1553357013818},{"_id":"source/images/bar/11.jpg","hash":"dc845f25ead88606c0ef40a9ba2689e3c809ddc7","modified":1553357501485},{"_id":"source/images/bar/12.jpg","hash":"01c14cb0dafa89755fa6d56366bd187e4f733378","modified":1553357520064},{"_id":"source/images/bar/25.jpg","hash":"15c21e56be49e0e8677509a661fd9855d628d350","modified":1553357873955},{"_id":"source/images/bar/37.jpg","hash":"a6e8ebafb7f339113e6b0479ef99bd6f49ea1c00","modified":1553358293507},{"_id":"source/images/bar/39.jpg","hash":"089eba8393ab7d5a8105adf6f2d46caaed24222f","modified":1553403494064},{"_id":"source/images/bar/44.jpg","hash":"5cf223855fd05b961a22ee935e526de0bc0e26a4","modified":1553403614532},{"_id":"source/images/bar/5.jpg","hash":"e322fcb931209a0c12f1df69d31da85e744d9681","modified":1553356992341},{"_id":"source/images/bar/nginx.jpg","hash":"3da99c0d508f72585eb9564673f74ccdfce4d9db","modified":1553357488204},{"_id":"source/images/bar/prometheus.jpg","hash":"ddcf444dd08e8367926cc81910e51c63e5577f56","modified":1556289122662},{"_id":"source/images/bar/systemctl.jpg","hash":"ed8449415e055c2f35ef10780910feacfdbbd681","modified":1558356940016},{"_id":"source/images/bar/zabbix-02.jpg","hash":"26fe72d7119977c01ff493602147debe7fe83a62","modified":1555077549230},{"_id":"source/images/bar/zabbix-03.jpg","hash":"c84d358df2fac3db521fe5c0dcdecca895d82c9f","modified":1553357799477},{"_id":"source/images/bar/zabbix-05.jpg","hash":"62e6dda8baec3890359d5b860291d46407bd2b96","modified":1556289122662},{"_id":"source/images/pic/tls.jpg","hash":"cbd3afe29b9a9d5286e107ee5249f9fdd264a840","modified":1553602989168},{"_id":"themes/nexT/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"themes/nexT/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"themes/nexT/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1558634875000},{"_id":"themes/nexT/source/images/avatar.jpg","hash":"d415ffaf3157a079d8c5fc35c1ac56736256da0c","modified":1558765874722},{"_id":"source/images/bar/14.jpg","hash":"aadba743ee97c06555ae486182c6d796cb23273c","modified":1553357615125},{"_id":"source/images/bar/16.jpg","hash":"ac4e5f55833628ce19258c1d9b0462f7c34c7036","modified":1553357659944},{"_id":"source/images/bar/18.jpg","hash":"c9e42307f8462b54a77d615db0568cbbe1cb0a56","modified":1553357698066},{"_id":"source/images/bar/20.jpg","hash":"97bc5b8e9807287f0b249e020948ab0f39c8059e","modified":1553357744370},{"_id":"source/images/bar/23.jpg","hash":"f15f3cd7a874ce47b452af9db42dd3c8973a915e","modified":1553357820167},{"_id":"source/images/bar/28.jpg","hash":"cd9348ac01bd5305c845af9675a37fc25a49391a","modified":1553358065617},{"_id":"source/images/bar/35.jpg","hash":"16bc623ca7e1c1257f99912a19e6091e635be8b6","modified":1553358249663},{"_id":"source/images/bar/7.jpg","hash":"d1aa303837c9eb2e01eeddb900d9d9f529b993eb","modified":1553357444543},{"_id":"source/images/bar/aliyun.jpg","hash":"241c9ff2b8acf2189495a07fc6dfa0ef669b98ca","modified":1553357835000},{"_id":"source/images/bar/elastic-k8s.png","hash":"4d5701d96467b1e6c18948ecd0f5a8103b627dc4","modified":1558356940010},{"_id":"source/images/bar/kernel.jpg","hash":"88cfc5e0ca681d1003e47cf36c7b11c033b892ea","modified":1553357680514},{"_id":"source/images/bar/tomcat.jpg","hash":"b350075c1f0fd0b1ad644b6536cb0934911f7fc6","modified":1553602989168},{"_id":"source/images/bar/zabbix-01.jpg","hash":"6915f40cc0f203e40d7fcb771b8f0793a2345ae0","modified":1555077549229},{"_id":"source/images/pic/zabbix/zabbix-config011.png","hash":"de76ce596395099216bc06a67f4aeddb3dc4b331","modified":1555214721052},{"_id":"source/images/pic/zabbix/zabbix-config014.png","hash":"1ccbd6cf303773b58c7cb5c36b6c6b09474e13b4","modified":1555224167136},{"_id":"source/images/pic/zabbix/zabbix-config015.png","hash":"083f64f50ff025c42ffbc23035956877a060bda4","modified":1555222737749},{"_id":"source/images/pic/zabbix/zabbix-config016.png","hash":"62d8d831e8ad84bc654043574361a2f7b5a704f4","modified":1555222833562},{"_id":"source/images/pic/zabbix/zabbix-config017.png","hash":"0080e9750b7b8ee2a4836123beee214f2b60fa11","modified":1555224506586},{"_id":"source/images/pic/zabbix/zabbix-config018.png","hash":"c4105e8ed25eb72f2bd55951908fa2140e448a5a","modified":1555237215884},{"_id":"source/images/pic/zabbix/zabbix-config019.png","hash":"fe78fdd516f75ddab3c389d83156636d18daef09","modified":1555230522905},{"_id":"source/images/pic/zabbix/zabbix-config023.png","hash":"e21b3c7541012d6486a6e0334a1f86a45e53d4a3","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config024.png","hash":"ec65345b5c582dd892f9a692f6c33227b0f76f68","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config025.png","hash":"57bb2c80b1271e2ee39d93350d54dd012e1787c1","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config027.png","hash":"7faf357c870db01723441169800fd6e72c9f812a","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config029.png","hash":"2eb8aaec04a722d8c2b86f42b5524c6caf41c30c","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config031.png","hash":"fc7798b4b2e3217b2fbceb4083fe5ccbdd764435","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config033.png","hash":"13ab08f5f8517d77ccc71ee6e32cee4db9ff187c","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config034.png","hash":"6ad1e1cdb9fb561abe9bb6791b0c654ad813178a","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config035.png","hash":"cf386ce64e84646e3adcfc3b692f6dc7e6d88164","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config037.png","hash":"2d908db85daf40787c6bd9b9435f8e5f9af91744","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config042.png","hash":"f14c98474a23fd1b71b2611b7b44c868ccdb1366","modified":1556289122692},{"_id":"source/images/pic/zabbix/zabbix-config043.png","hash":"87cd698636914f88a4e72aa4a693984f02e76bbc","modified":1556289122692},{"_id":"source/images/pic/zabbix/zabbix1.png","hash":"31931351749a8e815cd71a3be8db45b7aab7454c","modified":1555077389925},{"_id":"source/images/pic/zabbix/zabbix2.png","hash":"44027de4ad5aa697d68064231d77798502680791","modified":1555077389925},{"_id":"themes/nexT/layout/_macro/menu/menu-badge.swig","hash":"65c5e585982dae7ae1542cada71858b4ea1f73d6","modified":1558634875000},{"_id":"themes/nexT/layout/_macro/menu/menu-item.swig","hash":"fb33f499022cd02722f834fcef1a0e193362cfde","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/head/external-fonts.swig","hash":"fc6bafc8c633afadc538c5afa5620ea2a1cdcb84","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/head/head-unique.swig","hash":"02bb5748e8540b024e7f4008a9e640890b45280f","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/head/head.swig","hash":"2c09932a01e222293ba974b89b6ee14376e9e5b0","modified":1558724625848},{"_id":"themes/nexT/layout/_partials/header/brand.swig","hash":"648bf7eda66629592cb915c4004534b3913cbc22","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/header/index.swig","hash":"2082f5077551123e695e8afec471c9c44b436acb","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/header/menu.swig","hash":"71af31fea5913fd30c233e555ef13cf2c9768f72","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/header/sub-menu.swig","hash":"5adc60100e129c1d0307bdcaa0c7b8e8375a6ea4","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/page/breadcrumb.swig","hash":"0fa4fadb39467b01cede49f21b22e86b1a2da805","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/page/page-header.swig","hash":"2940df694fff28e8bf71b6546b4162f1e38227db","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/post/post-copyright.swig","hash":"3615db591dd910fb9fa96542734c7ec0ef05019c","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/post/post-related.swig","hash":"eea95b785c9c36d28e1839619793f66e89773bee","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/post/reward.swig","hash":"d44f025eb93c99ddf90202d8293ccf80689a00c7","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/post/wechat-subscriber.swig","hash":"ef11b5be5bfb2f0affe82cf521c002b37fef9819","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/search/algolia-search.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/search/index.swig","hash":"7d1693416a5dc098f4723a53da2e2d1fc2d6e075","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/search/swiftype.swig","hash":"a5587bd1f60d35e58618576cec45e662aa44ea1f","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/share/add-this.swig","hash":"15b542f5b06b7532234af367340b9ed9fcebb0ac","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/share/baidushare.swig","hash":"6f181cc188ecbe5e607fd989756e470d4cb9765d","modified":1558634875000},{"_id":"themes/nexT/layout/_partials/share/likely.swig","hash":"b45e934d24d76ec6b6a790e92bdb3d56186b0e2a","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/pages/post-details.swig","hash":"5b05f165547391bf231e52f56f3d925efc09bc44","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/schemes/gemini.swig","hash":"ffc8e8836714ea79abeb77b75859634615652877","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/schemes/mist.swig","hash":"108b157fbd1ac3baaf19ae87234fa8728ab79556","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/schemes/muse.swig","hash":"0097e45e7b671f8006b8b2d3c4f95cacc76a983c","modified":1558634875000},{"_id":"themes/nexT/layout/_scripts/schemes/pisces.swig","hash":"e42604fbb17648484e5f12afe230d826de089388","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/analytics-with-widget.swig","hash":"a5723950c343d220270bfd27bd30050eda6c3fb3","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/application-insights.swig","hash":"798d67e4a736613ab899eabe6529091bbcda7850","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/baidu-analytics.swig","hash":"591b2ccd9713ccb922b9fcf5e278b6de9c5ec30b","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/busuanzi-counter.swig","hash":"7ce7465e10dad5e14cce17a71154c79051c95126","modified":1558774401382},{"_id":"themes/nexT/layout/_third-party/analytics/cnzz-analytics.swig","hash":"08cd47ef8572121b7811342d3c9a84a338a18191","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/facebook-sdk.swig","hash":"3d01fa6edc0ad73f81813613f2e8a610777f1852","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/firestore.swig","hash":"fae69a0e1a1d42f7bb44e594a29857d94594698b","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/google-analytics.swig","hash":"9fa1ca7059243197d8fbbd35108c36629a254570","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/growingio.swig","hash":"4a966b7ffe2d80ff1b3dd0fd14b355766dc5c70f","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/index.swig","hash":"438c6f5e6665d72f4ea7ee206011d669246f6102","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/lean-analytics.swig","hash":"c754f699c90f6278b9159eff1855c17bc713ee96","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/tencent-analytics.swig","hash":"f240a50cd9b627620d9a374a29cf95f0c5e99d7c","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/tencent-mta.swig","hash":"92e04a2b9e0c3df594bc22235d1894e5ad458dfc","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/analytics/vkontakte-api.swig","hash":"0dd5b315d1da55dbfc10f51a1f8952f72eba2720","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/changyan.swig","hash":"3533167c4295637b91d90f3bae7c651cd128bb6e","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/disqus.swig","hash":"3cfeafefc672d9a7704650ebfb2f9d8668b38d9a","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/disqusjs.swig","hash":"c77a2e7ef5f449a445fb4d36b055721fba4a81af","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/gitalk.swig","hash":"e8f91c571ceb4b80aafebc4d36b89fb41b1ae040","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/gitment.swig","hash":"388efc86af7f19c05ad0e26720cd24ee012d20b9","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/index.swig","hash":"2cbaae65a020bbb0e9265364488aff8bf84fa48d","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/livere.swig","hash":"5856d5f701e51dfae1fd6fb486cefde67effd555","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/comments/valine.swig","hash":"4a908b613518878b9b69576c5dba4a5185f552ab","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/math/index.swig","hash":"a7e304b05a44279d3e4f611908d7faef9dc14d7c","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/math/katex.swig","hash":"c2cb2f384bc30d31cdccf9794a729c03e687b45c","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/math/mathjax.swig","hash":"601774d8672577aefbcefac82c94b01f0338da31","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/search/algolia-search.swig","hash":"0a13dfd2de52a96901039098c6fc7b515edfc50b","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/search/index.swig","hash":"ea94aa85034c6d1b6bb865aecea55c73f8a14501","modified":1558634875000},{"_id":"themes/nexT/layout/_third-party/search/localsearch.swig","hash":"b3eaab6a269aa3fcbafe24fd06f0c9206dc12716","modified":1558634875000},{"_id":"themes/nexT/source/css/_custom/custom.styl","hash":"77d385dda7c799ee0aaf41df3444961a0e8f0f61","modified":1558885317678},{"_id":"themes/nexT/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1558634875000},{"_id":"themes/nexT/source/css/_mixins/Pisces.styl","hash":"2e8fb29aa92325df39054b5450757858c6cebc41","modified":1558634875000},{"_id":"themes/nexT/source/css/_mixins/base.styl","hash":"2036bbb73afd43251982ce824f06c6e88d35a2ef","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/Gemini.styl","hash":"a8aa41625b94cf17a7f473ed10dcbe683b1db705","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/Pisces.styl","hash":"fc15e277d1504532a09b7b1bd31f900ad95ec4b8","modified":1558634875000},{"_id":"themes/nexT/source/css/_variables/base.styl","hash":"640f25a63770af5566ccc9cec79c40a4f1c0b29e","modified":1558634875000},{"_id":"themes/nexT/source/images/reward/alipay.png","hash":"f9f2493860e5e6c1fb93410e0a552d34f85a3a3b","modified":1558700193461},{"_id":"themes/nexT/source/js/schemes/muse.js","hash":"e9bfa6b343b67625f58757efce46ccdaac8f308c","modified":1558634875000},{"_id":"themes/nexT/source/js/schemes/pisces.js","hash":"9eb63cba0327d3d11b6cbfcbe40b88e97a8378a3","modified":1558634875000},{"_id":"themes/nexT/source/js/src/clicklove.js","hash":"9e8e79d69ad8338761272f86fe5cad0ad5e503cc","modified":1558723913897},{"_id":"themes/nexT/source/lib/bookmark/.eslintignore","hash":"3d3910611724b7584a29297a3f7132334a3ad091","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/.eslintrc.js","hash":"76bec2314ec3477b18e357f9992cf42a9524a3f7","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/.gitignore","hash":"5410a1bef9807f666cd92a0d2020f700e67e4096","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/LICENSE","hash":"1440355648a72be5b7625fe6fa055b462fcc78b0","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/README.md","hash":"ecfb09270cf202fb2228e9a79fa970b60be69222","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/bookmark.min.js","hash":"9e525329553335c2484f6faf9e933a6bbee9ab6d","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/index.js","hash":"5e5cba645a1a4531ccbb4782df2f7a075626393f","modified":1544895426000},{"_id":"themes/nexT/source/lib/bookmark/package.json","hash":"013ff96fc03cd4ed7b17059af207e53f94953202","modified":1544895426000},{"_id":"themes/nexT/source/lib/canvas-nest/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1544895339000},{"_id":"themes/nexT/source/lib/canvas-nest/README.md","hash":"70a34de41d0736f3727c98b6f17c0a24c9cc3537","modified":1544895339000},{"_id":"themes/nexT/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1544895339000},{"_id":"themes/nexT/source/lib/canvas-nest/canvas-nest-nomobile.min.js","hash":"956eada198babd00f028e8908767cb158926c3f3","modified":1544895339000},{"_id":"themes/nexT/source/lib/canvas-ribbon/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1544895354000},{"_id":"themes/nexT/source/lib/canvas-ribbon/README.md","hash":"07e86d67c508a3f974c45ff61cd0760d79bcebc5","modified":1544895354000},{"_id":"themes/nexT/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1544895354000},{"_id":"themes/nexT/source/lib/fancybox/.bower.json","hash":"d8bf9cb15d9d91c7ad022ba2954b5b4d326f17f7","modified":1552839610000},{"_id":"themes/nexT/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1552839610000},{"_id":"themes/nexT/source/lib/fancybox/LICENSE","hash":"8624bcdae55baeef00cd11d5dfcfa60f68710a02","modified":1552839610000},{"_id":"themes/nexT/source/lib/fancybox/README.md","hash":"a40db80eb6386b085ff810fd3e302f12e76b8df7","modified":1552839610000},{"_id":"themes/nexT/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1552059556000},{"_id":"themes/nexT/source/lib/fastclick/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1552059556000},{"_id":"themes/nexT/source/lib/fastclick/README.md","hash":"a79e7b87a27497922f34e1013d7299f838badc79","modified":1552059556000},{"_id":"themes/nexT/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1552059556000},{"_id":"themes/nexT/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1558634875000},{"_id":"themes/nexT/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1544895529000},{"_id":"themes/nexT/source/lib/jquery_lazyload/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1544895529000},{"_id":"themes/nexT/source/lib/jquery_lazyload/README.md","hash":"195a44ef23a22f166f7e56d37eaf27647b4f8b19","modified":1544895529000},{"_id":"themes/nexT/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1544895529000},{"_id":"themes/nexT/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1544895529000},{"_id":"themes/nexT/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1544895529000},{"_id":"themes/nexT/source/lib/pace/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/README.md","hash":"33b87ed998d59f117dc329f999a4ffc744b41e79","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1544895517000},{"_id":"themes/nexT/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1544895517000},{"_id":"themes/nexT/source/lib/quicklink/LICENSE","hash":"78d636bebe5b99f30e0e0676ef71805ebf00c9b9","modified":1558450357000},{"_id":"themes/nexT/source/lib/quicklink/README.md","hash":"350a184f2d44ef0dd7e4dcece0b7cb1d16e15187","modified":1558450357000},{"_id":"themes/nexT/source/lib/quicklink/quicklink.umd.js","hash":"d18dc2633f75d7f3801649f4c4af4b11a291750c","modified":1558450357000},{"_id":"themes/nexT/source/lib/three/.gitignore","hash":"e691fe9e685cbd50bcd7e138f4ca3503e7b0eaa4","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/README.md","hash":"5096005b6bfa0e554b245c6c1ffe10e7edc8130d","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/canvas_lines.min.js","hash":"97f0e67570574dc8597c5819970508d4e7f7af25","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/canvas_sphere.min.js","hash":"333fed4c256c7081e07c7844c097b7970b45b248","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/gulpfile.js","hash":"edd1868be72fde796b0b1f3a7a0316b3c896962a","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/package.json","hash":"68c5104de7461d425a5dbe521cea0cf00af289c3","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/three-waves.min.js","hash":"704e860183acbaaf8de1be65fe5c958e8105f4bf","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/yarn.lock","hash":"9c71c0a7c033fc709c1e683157b1f12037024694","modified":1544895381000},{"_id":"themes/nexT/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1558634875000},{"_id":"themes/nexT/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1558634875000},{"_id":"themes/nexT/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1558634875000},{"_id":"source/images/bar/32.jpg","hash":"7cc5909d3737cd4d18ee1e5cd82769562d7f3975","modified":1553358210408},{"_id":"source/images/pic/zabbix/zabbix-config002.png","hash":"6db85b3dcd969dda814cb9c425d66620cbc9e8ab","modified":1555078881655},{"_id":"source/images/pic/zabbix/zabbix-config004.png","hash":"af3c037130be5f1cf79ff233902b83663ed84510","modified":1555078908687},{"_id":"source/images/pic/zabbix/zabbix-config005.png","hash":"e7426e227e78b5a2c6a94141961182a6a1dc4367","modified":1555078921733},{"_id":"source/images/pic/zabbix/zabbix-config007.png","hash":"a52d19889300897c88ea1e3337b7889295141b16","modified":1555078951708},{"_id":"source/images/pic/zabbix/zabbix-config009.png","hash":"ff59364da3bc3d660cddc8c56b6957bb1db124a4","modified":1555079482401},{"_id":"source/images/pic/zabbix/zabbix-config010.png","hash":"dd3ac2756df294ff3937a9c593e7d86881da0983","modified":1555214654277},{"_id":"source/images/pic/zabbix/zabbix-config012.png","hash":"1a4c5cd1d0d91a86fcd6308ba9332ac60845181d","modified":1555215833643},{"_id":"source/images/pic/zabbix/zabbix-config013.png","hash":"9e75aa1cf2253ad3c7dba1a765c32c0430aa4a3e","modified":1555217056390},{"_id":"source/images/pic/zabbix/zabbix-config020.png","hash":"76d39b3ba31d9cbdbd812cf21dd23cc3b180c32b","modified":1555234372623},{"_id":"source/images/pic/zabbix/zabbix-config021.png","hash":"9ebfe24bd97c2340ad0c7fcd0268def4cc0f99cb","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config022.png","hash":"1038dc19684fef2ee1cb133b367d574e76fc7500","modified":1556289122672},{"_id":"source/images/pic/zabbix/zabbix-config030.png","hash":"c4ee43e1aa74300afd7505e1e3c716e41fe3b82e","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config032.png","hash":"39fe9b2146acfe83bf9681405e216b1aad87661c","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config036.png","hash":"707abed4aec50af6fa363a3fef6960fc6691700a","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config038.png","hash":"1c08f57c2e7193d14c570425561f0f6adeaa42fe","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config039.png","hash":"dcede024c7640928482cee4cf84f5099fcab5198","modified":1556289122682},{"_id":"source/images/pic/zabbix/zabbix-config040.png","hash":"ed1df089699b1c00ea19b1f8e429c8fec092465b","modified":1556289122692},{"_id":"source/images/pic/zabbix/zabbix-config041.png","hash":"9061365de71b5d2daeb50193b420a5e16d078474","modified":1556289122692},{"_id":"themes/nexT/source/images/reward/wechatpay.png","hash":"56fe7d934e8506f4df54cd81bf6c3f93de0a8791","modified":1558700193464},{"_id":"themes/nexT/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1558634875000},{"_id":"source/images/bar/13.jpg","hash":"3783e1e0f2b8c4ed71e6528c502a7e6810398b63","modified":1553357589561},{"_id":"source/images/bar/ansible.jpg","hash":"4c580ec5e227eab616e1418e54954ad6c0dbf7aa","modified":1553357948267},{"_id":"source/images/bar/docker.jpg","hash":"f85aef5813fd792fe4510704c980b06c60a01c1f","modified":1553358184025},{"_id":"source/images/bar/zabbix-04.jpg","hash":"218fe635bac0778c19e87a2f10e9260c37490db7","modified":1556289122662},{"_id":"source/images/pic/zabbix/zabbix-config001.png","hash":"62ccc84dce63e0a9704474ffcdcb61f215bca482","modified":1555078850399},{"_id":"source/images/pic/zabbix/zabbix-config003.png","hash":"5d9be33daa41e25627e0f05a3b83dedfe37de6ca","modified":1555078897176},{"_id":"source/images/pic/zabbix/zabbix-config008.png","hash":"635907314c737d46fbdaeb64842e2d5b91871a0f","modified":1555078964206},{"_id":"source/images/pic/zabbix/zabbix-config028.png","hash":"d365230f5e97be7e9cfc18429ca79f4df9a2b793","modified":1556289122672},{"_id":"themes/nexT/source/css/_common/components/back-to-top-sidebar.styl","hash":"fe5ff961b86004a306778c7d33a85b32e5e00e48","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/back-to-top.styl","hash":"c8b3225396cb444d8baeb94bac78e5216b992a81","modified":1558845842056},{"_id":"themes/nexT/source/css/_common/components/buttons.styl","hash":"b98c65006e2546fbf3870c16fbbcbc009dbaab15","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/components.styl","hash":"9d71f34fa13a41b8c8cd2fbdf3fdea608385277c","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pagination.styl","hash":"ce826aedf42b9eca424a044452f5d193866726a6","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/rainbow.styl","hash":"ce2aae8f3ed8ceac3a2417e0481044cf69c788aa","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/scrollbar.styl","hash":"d7b8bcf2a6031296c84bb4f4ecfb037af01d2d82","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/outline/outline.styl","hash":"7e51ea64611ab5d678c112b4688d4db4fd2737e2","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/base.styl","hash":"6d900b4159eeb869196a619602578bf4d83a117b","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/helpers.styl","hash":"8e0740a9ad349ce5555122325da872923135a698","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/mobile.styl","hash":"9a190ef2f49bdbf69604b48ad1dc7197895ee9b6","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/normalize.styl","hash":"7ffde343bdf10add1f052f3c4308a15180eb4404","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/scaffolding/tables.styl","hash":"33456264a74d1bba38264d14713544d67d003733","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Gemini/index.styl","hash":"9a2d298dbdcbfd758518fd74b63897bc80ce15a5","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/_base.styl","hash":"0bef9f0dc134215bc4d0984ba3a16a1a0b6f87ec","modified":1558885667198},{"_id":"themes/nexT/source/css/_schemes/Mist/_header.styl","hash":"8e56c62719a2aa460e7a783a649fccce917896fc","modified":1558923842987},{"_id":"themes/nexT/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/_menu.styl","hash":"27fe1d8dbf3d6aa83c71f6483ab577d9ed0b17b2","modified":1558871577550},{"_id":"themes/nexT/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fa33213aceed7bf4bf25437ca9c1a00f7734ae65","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/_search.styl","hash":"7359880e8d85312861fe0871f58b662e627dae0c","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/index.styl","hash":"45313102d34e811a24cd1d435b0a2b97d1200a68","modified":1558923934615},{"_id":"themes/nexT/source/css/_schemes/Muse/_layout.styl","hash":"6565b4a309325596768d0d32e022c80ef23066cb","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Muse/_logo.styl","hash":"fc160583f742c94316a0fee05c18468033173534","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Muse/_menu.styl","hash":"1edf4e69d0ec0dc9cefed6c35d3e803e0da4093d","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Muse/_search.styl","hash":"7359880e8d85312861fe0871f58b662e627dae0c","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/_brand.styl","hash":"57044a6d19eb418c1c3d28787e82c69efa9e0ca6","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/_layout.styl","hash":"75737591682a2bafa71db4c03fb79e970ac0e7aa","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/_menu.styl","hash":"b6dac5bbf20f090cf4b67d156f030d7170dfb39c","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/_sidebar.styl","hash":"6400c98a9fd2b9a8502269f33355bd7ab3ff793b","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/_sub-menu.styl","hash":"b5b936dddb7b4de4720cd1e8428b30a2f06d63fb","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Pisces/index.styl","hash":"232aedbd44243b3b80c4503c947060d3269c1afc","modified":1558634875000},{"_id":"themes/nexT/source/lib/bookmark/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895426000},{"_id":"themes/nexT/source/lib/canvas-nest/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895339000},{"_id":"themes/nexT/source/lib/canvas-ribbon/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895354000},{"_id":"themes/nexT/source/lib/fancybox/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1552839610000},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1552839610000},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1552839610000},{"_id":"themes/nexT/source/lib/fastclick/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1552059556000},{"_id":"themes/nexT/source/lib/fastclick/lib/fastclick.js","hash":"9782a228f911ef442a03390a0064b40102fc1682","modified":1552059556000},{"_id":"themes/nexT/source/lib/fastclick/lib/fastclick.min.js","hash":"4496faa08c7d2979747f15c7b79cdf79e5a91cc1","modified":1552059556000},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1558634875000},{"_id":"themes/nexT/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1558634875000},{"_id":"themes/nexT/source/lib/jquery_lazyload/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895529000},{"_id":"themes/nexT/source/lib/pace/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895517000},{"_id":"themes/nexT/source/lib/quicklink/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1558450357000},{"_id":"themes/nexT/source/lib/three/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/lib/CanvasRenderer.js","hash":"cf8e1ce6e884023ad0d692cf30f399862407fb40","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/lib/Projector.js","hash":"1ad16e96cea2a8a9155bb429c83ef9bdd341ce99","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/src/canvas_lines.js","hash":"650310ff6783671f8ceccf01f840b20d9c87b491","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/src/canvas_sphere.js","hash":"7614790c67d3e79e3390fe688f6b01afad7e3bb1","modified":1544895381000},{"_id":"themes/nexT/source/lib/three/src/three-waves.js","hash":"e98e442f14920e9fb8691846dca3a2225d403048","modified":1544895381000},{"_id":"source/images/bar/15.jpg","hash":"dd4b6be4dfc443890ee7df15c365240d87c5648e","modified":1553357640597},{"_id":"source/images/bar/8.jpg","hash":"2e4712e4eea5ec877085644e44d09bfc135a3fd8","modified":1553357463054},{"_id":"source/images/bar/9.jpg","hash":"892218f0145fdb23bbb2c31ccd908d809980f9ce","modified":1553357475951},{"_id":"source/images/bar/kibana.jpg","hash":"2bb5bcc3893928637752148c20691e8722c4e291","modified":1558356940013},{"_id":"source/images/pic/zabbix/zabbix-config026.png","hash":"1bef3ee370134448e103c330c32f16777e08acc8","modified":1556289122672},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1552839610000},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1558634875000},{"_id":"source/images/pic/zabbix/zabbix-config006.png","hash":"bb7107ca2b900dc3dcfa4160ec55da7b5030dbf2","modified":1555078943067},{"_id":"themes/nexT/source/css/_common/components/footer/footer.styl","hash":"4f9799091b29cff06b447faca7af278862211d89","modified":1558923558782},{"_id":"themes/nexT/source/css/_common/components/header/github-banner.styl","hash":"ca97f0b6990eef947039faede80c56d9c4381ee1","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/header/header.styl","hash":"6c4990d375b640ee4551e62c48c1cbe4c3d62212","modified":1558883994033},{"_id":"themes/nexT/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/header/menu.styl","hash":"a410ed529afd46ddf4a96ecf0de6599488716887","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/header/site-meta.styl","hash":"c0d9e18a9210fdcaf33e488518b3b288eb58c0a1","modified":1558883909669},{"_id":"themes/nexT/source/css/_common/components/highlight/diff.styl","hash":"71d8d1cc22a2a7627a6db7240f0c4902a14f9bea","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/header/site-nav.styl","hash":"cc6ee18f47f2e1e06df6fa0eadb37079e580fd11","modified":1558883882517},{"_id":"themes/nexT/source/css/_common/components/highlight/highlight.styl","hash":"e9dd8de7d98f1478ac7d351624fffd3d8738c905","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/archive.styl","hash":"6904fd7ea6455e008d9884558b68254608af9a3c","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/breadcrumb.styl","hash":"2d142c6f39853916256ad8fc79eb6b85f4001ae8","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/pages.styl","hash":"f1d52954b9a5d1ca8e224382349f525e598dd923","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/schedule.styl","hash":"80addb9b725e329915c05c27b9fadaf56457a9b3","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/pages/tag-cloud.styl","hash":"61ca40856e5cacd48e0fa9728fde4605c7dd4c94","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-collapse.styl","hash":"6a75bb1f2435f4e895cbbb5abbddf6e8f7257804","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-eof.styl","hash":"c961d37190d9bec58a36306c7e716c4e72c4582f","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-copyright.styl","hash":"2356226157e8068b0e9bbe2f7d0f74e1ab49199b","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-expand.styl","hash":"1385862a5c0bd845015d165aadbd1a6add7b72d7","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-gallery.styl","hash":"0bf899fab331add63f0c8ead31ca3a3db2ad74d9","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-meta.styl","hash":"b082d07b13a3d55b4c032fd351dfa9a4fd74edec","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-nav.styl","hash":"496f931e3a7e313ba8088fb91bb20789cace72c9","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-reading_progress.styl","hash":"3f33bb862c2aa993f54987fbb345da067b79b112","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-reward.styl","hash":"5440013a081201ca791582db98159dce93ea9e75","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-title.styl","hash":"8e058c99dd7d41f0bd34c7c28b6ac9fbb17dcb5e","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-type.styl","hash":"d5c8ffed7f2c701052b7a53abaf5ef437374ea72","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post-widgets.styl","hash":"a6c24393dffbdd94dd5c01cdbec5e180b0bfbbbd","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/post/post.styl","hash":"a3170630d8e085889a4bdc20eb7f09c5a0479c47","modified":1558791937645},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"9224b566cd2632f64c1a964e2c786cee93b93286","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-author.styl","hash":"707527c9950a7459355c8abcf4751c0964de0bc1","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"cc83816614f21c7e1d8d3f867d547ff7c658cec4","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-button.styl","hash":"517d541a80d59ad99a3f648be74891e0c7bc72a8","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"c2d9c3b6fbfa65544e6b5a55d3cb2149df04a8a9","modified":1558776778047},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"8a24b56524a388fbabd408ffc8ba9b56eb9e01ce","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"9a3bfc878ca797946815bed23cd6f92b24a16358","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"c01609176929590f8f347075a9a12b661acd661e","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/sidebar/sidebar.styl","hash":"985a3a47bdd6c1f158ad9a90067ffe047836b8cb","modified":1558923703215},{"_id":"themes/nexT/source/css/_common/components/sidebar/site-state.styl","hash":"967fb3a3c6c851b34ec5df2d945dc266ed63d146","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/blockquote-center.styl","hash":"58ec00eebe68d0eebd2eea435c710063877447df","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/full-image.styl","hash":"6ec8ea7b11a146777b6b8da0f71f0cc1dbd129df","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/label.styl","hash":"d7501ae01fc45fa15b00d1bc5233b9fffa20a3c9","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/note.styl","hash":"21b32840d8b3a14b10770153114778304ba6d1b0","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/pdf.styl","hash":"da8d34729fb6eb0fcb8ee81e67d2be3c02bc1bc4","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/tabs.styl","hash":"fcda60fecff1479adaf6521cf629cda2506337a8","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/tags/tags.styl","hash":"cbc0be5a3285b469858ec9ead48e2ea90bd47ae1","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/algolia-search.styl","hash":"fc58498d4f5081fcf6218e9e18c5bf2328275bef","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/copy-code.styl","hash":"688ca3eccc26727d050ad098b32b40934719588a","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/gitalk.styl","hash":"ac7753d536341aa824d7bce0332735e838916995","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/gitment.styl","hash":"f1d9ee1f86a179741f2478f8c70ca11ab578810e","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/han.styl","hash":"7059e24235b7c57a07f3f8abaa06b0bd6a7eda2f","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/localsearch.styl","hash":"9fac89c8146eb2675721a26f528d7d0f8be7debe","modified":1558888527943},{"_id":"themes/nexT/source/css/_common/components/third-party/math.styl","hash":"ef66c0a08e4243a25e41408d70ca66682b8dcea1","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/needsharebutton.styl","hash":"61466e3e5459960b5802a267751a0c8018918b0b","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/related-posts.styl","hash":"3ae3f3c276d444862033fd3434c632ad0d2f84e6","modified":1558634875000},{"_id":"themes/nexT/source/css/_common/components/third-party/third-party.styl","hash":"03c4fa9573fddd930552784cf484fd2ee7825323","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1558634875000},{"_id":"themes/nexT/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1558634875000},{"_id":"themes/nexT/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"27f034e5db8c32e268e2959b9a7c1258d36e4510","modified":1552839610000},{"_id":"themes/nexT/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1558634875000},{"_id":"source/images/bar/36.jpg","hash":"6eea937ab14cfdbc2d49f949a5c188793974581b","modified":1553358276147},{"_id":"source/images/bar/zabbix-06.jpg","hash":"cf8879168d8ac53c6b251c64a2e6eea1d845ca89","modified":1556289122672},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1558634875000},{"_id":"source/images/bar/29.jpg","hash":"d12af2d79c59952f751901f2cec0807d538f268b","modified":1553358150763},{"_id":"themes/nexT/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1558634875000},{"_id":"themes/nexT/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1544895381000},{"_id":"public/atom.xml","hash":"c4303ee7e24fb4c1c558030fbacabd7e6f5d2e26","modified":1558971868299},{"_id":"public/search.xml","hash":"6bea9abf3669d4434f94cd3a20f685f846b04c8a","modified":1558971868526},{"_id":"public/about/index.html","hash":"19b4138b95acd705aa632891851cf75f1d84ad08","modified":1558971868567},{"_id":"public/categories/index.html","hash":"1549470adc0bcfb3d97be4e283aa1f01e3fa5a50","modified":1558971868567},{"_id":"public/guestbook/index.html","hash":"2446624ce63344afc39dce68227762c5c13c4c78","modified":1558971868567},{"_id":"public/tags/index.html","hash":"58eea6013ed038d27a9b8d3c535cae3f1130e313","modified":1558971868567},{"_id":"public/2019/05/01/hexo-next.html","hash":"4784fa771495d0dcad76c8a84ca1ced296143832","modified":1558971868567},{"_id":"public/2019/03/21/install-docker-ce.html","hash":"9f385ba568daad53534fc65e131a84c30576d873","modified":1558971868567},{"_id":"public/2019/03/15/install-efk.html","hash":"0993f818bc796670234ea0054ea373c9284098e2","modified":1558971868568},{"_id":"public/2019/03/14/filebeat.html","hash":"75b67e3c315e98767748da6413a5f9f66b813a58","modified":1558971868568},{"_id":"public/2019/03/13/elastic-x-pack.html","hash":"a13ed6f0e996c8dce604b2c3c1ce035f161ecbc1","modified":1558971868568},{"_id":"public/2019/01/12/prometheus.html","hash":"e7122cd8a5c7aee139c4b49e0ec42864ad3136ef","modified":1558971868568},{"_id":"public/2018/12/14/tomcat-apr.html","hash":"cd0e3912d225cd8152840702f775b51e2d26fe08","modified":1558971868568},{"_id":"public/2018/11/30/git-command.html","hash":"8a234c84ccf6024c104caa20f4f9547af216a5e3","modified":1558971868568},{"_id":"public/2018/11/29/install-gitlab-ce.html","hash":"85f9e6311dbd0d27940afb684082e01a00cccf40","modified":1558971868568},{"_id":"public/2018/10/22/mysql-status.html","hash":"04a9c261f16ec95e6d00a477daee461851bec81a","modified":1558971868568},{"_id":"public/2018/09/13/zabbox-alert.html","hash":"50751270e9d2013f06062fba4ca669c2360e37b0","modified":1558971868568},{"_id":"public/2018/09/13/zabbix-trigger.html","hash":"b06ba9835902fb313594ea5f6705b93422b70568","modified":1558971868568},{"_id":"public/2018/09/12/zabbix-item.html","hash":"303aeb1d7d91ae4449bf7bb81c06dd458fd0bd65","modified":1558971868568},{"_id":"public/2018/09/11/zabbix-agent.html","hash":"dec63581f3d6165bbf5468680373b3a91d4fdb61","modified":1558971868569},{"_id":"public/2018/09/11/zabbix-server.html","hash":"58f210a6d1f49e24922a896e80a038aa7302b81b","modified":1558971868569},{"_id":"public/2018/09/11/zabbix-summarize.html","hash":"baa022d5602e84f21ad7ec9a6a1aa79f115ec6fb","modified":1558971868569},{"_id":"public/2018/03/25/aliyun-ecs-mail.html","hash":"e0828311ff52894b29ea78ce1821c8eb52beffa8","modified":1558971868569},{"_id":"public/2018/03/23/ansible-playbook.html","hash":"57cf5170a2eb746cb457e80f2f039499b25a456c","modified":1558971868569},{"_id":"public/2018/03/22/ansible-module.html","hash":"2196ba63bd1e99f622b309ff7a87f421f6f90c19","modified":1558971868569},{"_id":"public/2018/01/23/nginx-variable.html","hash":"a4a8579ab951fefcf44520e760a742f43468d826","modified":1558971868569},{"_id":"public/2018/01/23/Nginx-location.html","hash":"a69d77f44fef340bc8d53d7cf96f8f335b258756","modified":1558971868570},{"_id":"public/2017/12/26/http-header.html","hash":"a1eb93c131b769f95d157df93606ac6df803d30c","modified":1558971868570},{"_id":"public/2017/11/21/centos-kernel-analysis.html","hash":"fcf147291af0b3952c0a38a58c3533ea61f513be","modified":1558971868570},{"_id":"public/2017/11/16/systemctl-unit.html","hash":"649ad16ae98baa159a6bdbbb5ae2abe6be7fe44a","modified":1558971868570},{"_id":"public/2017/10/26/https-tls.html","hash":"5ba3148233e4ecd20fb3d4a6393786e01881f9dd","modified":1558971868570},{"_id":"public/2017/07/23/markdown-format.html","hash":"06bcdbf9eb4b1b80c0dc11454dd52ff3e2b07afa","modified":1558971868571},{"_id":"public/archives/index.html","hash":"30ed741040ec21c45ad1004ea03140a1e30cca05","modified":1558971868571},{"_id":"public/archives/page/2/index.html","hash":"821a3040a9dc27d48d52479add0e331291ebdda1","modified":1558971868571},{"_id":"public/archives/page/3/index.html","hash":"7eee21fc3238ad62e63a157e629fb6019fcc63d6","modified":1558971868571},{"_id":"public/archives/page/4/index.html","hash":"918076ad5307ad114c438e49684eb944ba3fff3b","modified":1558971868571},{"_id":"public/archives/2017/index.html","hash":"99a13ecf849f7c8ecd3d95765903f1df47bfab6f","modified":1558971868571},{"_id":"public/archives/2017/07/index.html","hash":"bb7708d065fb12f6104b73b76aea39937f854e18","modified":1558971868571},{"_id":"public/archives/2017/10/index.html","hash":"6c7ed309a43602c22a64c537ddda6db7220ae2d2","modified":1558971868571},{"_id":"public/archives/2017/11/index.html","hash":"2c311bac73aa22a58ff8bf032171edf5905039f5","modified":1558971868571},{"_id":"public/archives/2017/12/index.html","hash":"2594c21038abf923fa7db19eca8a40a928bb59a9","modified":1558971868571},{"_id":"public/archives/2018/index.html","hash":"70ffc3b70fee79bbe3e9bfd705e0195b045388bb","modified":1558971868571},{"_id":"public/archives/2018/page/2/index.html","hash":"75928e3b0f95456650d0ca5648197e58e8f7a5dd","modified":1558971868571},{"_id":"public/archives/2018/01/index.html","hash":"2ab10d6e729df8ed3e973c4f99cf2049623a577c","modified":1558971868571},{"_id":"public/archives/2018/03/index.html","hash":"b88cb0c166bfa17d7231a6db2b28ee30d7f78b3b","modified":1558971868571},{"_id":"public/archives/2018/09/index.html","hash":"f4cff11f0354366bddbad74828d78808ec130699","modified":1558971868571},{"_id":"public/archives/2018/10/index.html","hash":"3ad31390f62d6c7373074455c52ed3f4f1a3c50a","modified":1558971868571},{"_id":"public/archives/2018/11/index.html","hash":"7c014c0ba62da6ddc54cd0134e042fe9e8851f7c","modified":1558971868571},{"_id":"public/archives/2018/12/index.html","hash":"cbae31858426a7b3542506fced5f8443e148dda0","modified":1558971868571},{"_id":"public/archives/2019/index.html","hash":"6b28b754f54fe7d707718daee9b683f069e388fb","modified":1558971868571},{"_id":"public/archives/2019/01/index.html","hash":"abd0ff88dec2c594758273d1a956c91887f0535f","modified":1558971868571},{"_id":"public/archives/2019/03/index.html","hash":"5303503ef597a46ef9f6c72232a0443fc9c63b6c","modified":1558971868572},{"_id":"public/archives/2019/05/index.html","hash":"50ecd50877b974c026d104326f7084db02dfb8ef","modified":1558971868572},{"_id":"public/categories/Linux/index.html","hash":"b8a854fb7bf0d9f25692cdf86e73804dec80a9e5","modified":1558971868572},{"_id":"public/categories/hexo/index.html","hash":"16ba1c6380ac9ba002a18ad1299af808a0e77c79","modified":1558971868572},{"_id":"public/categories/web/index.html","hash":"2afed76ad295706c72f6b31fda53d8bca378c1bb","modified":1558971868572},{"_id":"public/categories/docker/index.html","hash":"8cd6197200e4966cdf800a6b53fc92c2945800a2","modified":1558971868572},{"_id":"public/categories/CI-CD/index.html","hash":"541c3cede064320d9cdb7f5d54b4c32a73660f50","modified":1558971868572},{"_id":"public/categories/Zabbix/index.html","hash":"f33f4e7c8a8b0778139a542a8d0ead88884db50a","modified":1558971868572},{"_id":"public/categories/elastic/index.html","hash":"ab8436526e70e2b1d9a17c133035330802b239f0","modified":1558971868572},{"_id":"public/categories/markdown/index.html","hash":"fe95125cb21a73cbee6286f857d3403a176f9274","modified":1558971868572},{"_id":"public/categories/prometheus/index.html","hash":"4ef3cdea1d5d93a1d13992037972cc4f6ba16c52","modified":1558971868572},{"_id":"public/categories/SQL/index.html","hash":"4dd7c7aa33f83520c22d80ab63bb9a84661c57a2","modified":1558971868572},{"_id":"public/index.html","hash":"d337477cbafcd16326149c3a18a658b6d504b33a","modified":1558971868572},{"_id":"public/page/2/index.html","hash":"a9c3319a984eb7f616db03dbad004fbf1aebcad3","modified":1558971868572},{"_id":"public/page/3/index.html","hash":"4857d405eb7e182cbab5d598198c72d455251a1a","modified":1558971868572},{"_id":"public/tags/aliyun/index.html","hash":"6d74393af4ddc070a5e0eac419fc835b21075f3a","modified":1558971868572},{"_id":"public/tags/Linux/index.html","hash":"0396b5b5a7fc152459db6b23490680302668a141","modified":1558971868573},{"_id":"public/tags/hexo/index.html","hash":"0b4f9a144f114e3fef504085b5650bc2b957e192","modified":1558971868573},{"_id":"public/tags/https/index.html","hash":"8314bb6bb8d6a20853b2f29cbe1bc93e1ddb6e5a","modified":1558971868573},{"_id":"public/tags/docker/index.html","hash":"4ed5e98b29a300bd5df08511935dc6cbbec1df45","modified":1558971868573},{"_id":"public/tags/kubernetes/index.html","hash":"5d409cdc7af0c911560b0d250c46e904925847aa","modified":1558971868573},{"_id":"public/tags/git/index.html","hash":"032d7cde7aeb099c03af65298e3d25b029af897e","modified":1558971868573},{"_id":"public/tags/nginx/index.html","hash":"7ee19d8ee251559c53be6987f5abbade33a1836e","modified":1558971868573},{"_id":"public/tags/tomcat/index.html","hash":"eda18d5091100a7edb892e103d15f71b969a73ee","modified":1558971868573},{"_id":"public/tags/zabbix/index.html","hash":"c5cfc8c54973040aefd238ce3776b33cdcbcc6bc","modified":1558971868573},{"_id":"public/tags/ansible/index.html","hash":"17be28e7d94c3584918cd57bfcdb712d49410c89","modified":1558971868573},{"_id":"public/tags/x-pack/index.html","hash":"d6a697e07a0e17ccf0168e6086a0577776e301b4","modified":1558971868573},{"_id":"public/tags/elasticsearch/index.html","hash":"e9df9fb15efb995e67c27f4e2ba862c658dfd3a8","modified":1558971868573},{"_id":"public/tags/filebeat/index.html","hash":"fef3da91b0a348df109445d3eb82ac309a146ad6","modified":1558971868573},{"_id":"public/tags/kibana/index.html","hash":"acf25d45ab5ba9cfd0863c8a6c54e0d1219f8e9d","modified":1558971868573},{"_id":"public/tags/markdown/index.html","hash":"729c22780bcbfb0dbd5af446facf87346dab07b8","modified":1558971868573},{"_id":"public/tags/prometheus/index.html","hash":"58d211a20d2bf7890def0f9e8745d4098c9efa28","modified":1558971868574},{"_id":"public/tags/efk/index.html","hash":"4123f73d734a5ca004eb12ceed06b6349b70e2c7","modified":1558971868574},{"_id":"public/tags/mysql/index.html","hash":"b1369aae851b4dad976c2eee75f54d7d7a40aab1","modified":1558971868574},{"_id":"public/CNAME","hash":"d6be0e55d7c1b1604530cae2cac8d54888839928","modified":1558971868610},{"_id":"public/images/apple-touch-icon-next.png","hash":"531900f543a4db1ec5b4f0a3b20c9cc7c4120b53","modified":1558971868610},{"_id":"public/images/favicon-16x16-next.png","hash":"dad40a34bfcc79c3ea2a502d5b60ce25362b81cf","modified":1558971868610},{"_id":"public/images/favicon-32x32-next.png","hash":"7366345ff442a170ff75154bb955d5c1ce8036d0","modified":1558971868610},{"_id":"public/images/logo.svg","hash":"20f66224fee48857fb5e3b4587d0d8a8ebdc1055","modified":1558971868610},{"_id":"public/images/bar/3.jpg","hash":"772cc34d670a67394f048ab4c4904b301c16495b","modified":1558971868610},{"_id":"public/images/bar/1.jpg","hash":"20ec429cac584672bfe974b0d0b0e3aaace99ebd","modified":1558971868610},{"_id":"public/images/bar/42.jpg","hash":"ee0db87420c90e7d1094932e1f8de0984f99c8e5","modified":1558971868610},{"_id":"public/images/bar/beats.png","hash":"bd0640099ff2265f53f6d1e55bd6cb1391472fe2","modified":1558971868610},{"_id":"public/images/bar/elasticsearch.png","hash":"061080ac7426a51fffafa0644c2ba7fd94463f06","modified":1558971868610},{"_id":"public/images/bar/gitcommand.jpg","hash":"9f7b7add770eb1345dba2decc32d0ade18a2bc05","modified":1558971868610},{"_id":"public/images/bar/gitlab.jpg","hash":"898ade9853ed181d21a69691d1c6ea45253d8836","modified":1558971868610},{"_id":"public/images/bar/http.jpg","hash":"fed4298d8b6e3e8831bbf21920c5cb0d8940c83e","modified":1558971868610},{"_id":"public/images/bar/https.jpg","hash":"7ddbf7f36d30fa7fa4bfa0ce6a843a0c21c80db0","modified":1558971868610},{"_id":"public/images/bar/mysql.jpg","hash":"b030d0e716acf323525a7dc6302c48f6f8f01ddc","modified":1558971868610},{"_id":"public/images/bar/markdown.jpg","hash":"af6d43429432bb5c623f6655ac7fa1ba63843790","modified":1558971868611},{"_id":"public/images/bar/nginx-variable.jpg","hash":"eabcfee98a77ff767af9cb2549f3d6cf70728e27","modified":1558971868611},{"_id":"public/images/bar/playbook.jpg","hash":"4a277e3710912cf0b991fe39e2cc8e46e95912e2","modified":1558971868611},{"_id":"public/images/bar/xpack.png","hash":"43e50ff7f1d4f12dfba14a337a4cc3f66ef85ed7","modified":1558971868611},{"_id":"public/images/pic/cerebro.png","hash":"de84fe740d7f6e7867e2f042113c7f5abfdf144b","modified":1558971868611},{"_id":"public/images/pic/http-cache.png","hash":"89934dca7bb847ad864a0afd80cf1225153599d9","modified":1558971868611},{"_id":"public/images/pic/language.png","hash":"d9f788d97861dcf48df39e76db8def7943a0ddef","modified":1558971868611},{"_id":"public/images/pic/shouquanma.png","hash":"b55a167280fa1eeb5b3223a3de82c312fc891c2c","modified":1558971868611},{"_id":"public/images/pic/multiline.jpg","hash":"1481fd7e7bb688b4b29b49d6861551ebbe35f8eb","modified":1558971868611},{"_id":"public/images/pic/tomcat1.png","hash":"bc1afbfca7f790a47c760f2da4f5bfe3566c2dd8","modified":1558971868611},{"_id":"public/images/pic/welcome-gitlab.png","hash":"374ace5280513d9c8eb8a7efb6747901481659d7","modified":1558971868611},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1558971868611},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1558971868611},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1558971868611},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1558971868611},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1558971868611},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1558971868611},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1558971868611},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1558971868611},{"_id":"public/images/headbg.jpg","hash":"85e0b80411d54bf27bfffc1bbd40049ca1946dc3","modified":1558971868611},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1558971868611},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1558971868611},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1558971868611},{"_id":"public/images/searchicon.png","hash":"025d64ba0160a3a2257dd2b3032b5f7c9dd9b82b","modified":1558971868611},{"_id":"public/images/sidebar-bg1.jpg","hash":"56143c34ae82ae734b54f65af4d8d06fc3092029","modified":1558971868611},{"_id":"public/images/pic/zabbix/zabbix-config011.png","hash":"de76ce596395099216bc06a67f4aeddb3dc4b331","modified":1558971868611},{"_id":"public/images/pic/zabbix/zabbix-config015.png","hash":"083f64f50ff025c42ffbc23035956877a060bda4","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config018.png","hash":"c4105e8ed25eb72f2bd55951908fa2140e448a5a","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config019.png","hash":"fe78fdd516f75ddab3c389d83156636d18daef09","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config023.png","hash":"e21b3c7541012d6486a6e0334a1f86a45e53d4a3","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config024.png","hash":"ec65345b5c582dd892f9a692f6c33227b0f76f68","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config025.png","hash":"57bb2c80b1271e2ee39d93350d54dd012e1787c1","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config033.png","hash":"13ab08f5f8517d77ccc71ee6e32cee4db9ff187c","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config035.png","hash":"cf386ce64e84646e3adcfc3b692f6dc7e6d88164","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config037.png","hash":"2d908db85daf40787c6bd9b9435f8e5f9af91744","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config042.png","hash":"f14c98474a23fd1b71b2611b7b44c868ccdb1366","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config043.png","hash":"87cd698636914f88a4e72aa4a693984f02e76bbc","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix1.png","hash":"31931351749a8e815cd71a3be8db45b7aab7454c","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix2.png","hash":"44027de4ad5aa697d68064231d77798502680791","modified":1558971868612},{"_id":"public/lib/bookmark/LICENSE","hash":"1440355648a72be5b7625fe6fa055b462fcc78b0","modified":1558971868612},{"_id":"public/lib/canvas-nest/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/canvas-ribbon/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/fancybox/LICENSE","hash":"8624bcdae55baeef00cd11d5dfcfa60f68710a02","modified":1558971868612},{"_id":"public/lib/fastclick/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1558971868612},{"_id":"public/lib/jquery_lazyload/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/pace/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/quicklink/LICENSE","hash":"78d636bebe5b99f30e0e0676ef71805ebf00c9b9","modified":1558971868612},{"_id":"public/lib/three/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1558971868612},{"_id":"public/lib/three/yarn.lock","hash":"9c71c0a7c033fc709c1e683157b1f12037024694","modified":1558971868612},{"_id":"public/images/pic/zabbix/zabbix-config004.png","hash":"af3c037130be5f1cf79ff233902b83663ed84510","modified":1558971868613},{"_id":"public/images/pic/zabbix/zabbix-config005.png","hash":"e7426e227e78b5a2c6a94141961182a6a1dc4367","modified":1558971868613},{"_id":"public/images/pic/zabbix/zabbix-config007.png","hash":"a52d19889300897c88ea1e3337b7889295141b16","modified":1558971868613},{"_id":"public/images/pic/zabbix/zabbix-config009.png","hash":"ff59364da3bc3d660cddc8c56b6957bb1db124a4","modified":1558971868613},{"_id":"public/live2dw/assets/koharu.model.json","hash":"ceccdefd776b7c9475a29cff0842796e4f58b7e9","modified":1558971868613},{"_id":"public/live2dw/assets/koharu.physics.json","hash":"2fbf886979212357ba293bd35884f2cb5b26b6a6","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/01.mtn","hash":"61d7d590d9feb71b32fd6bd142b59410d75bc1fa","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/03.mtn","hash":"a72b697a92a7cff40d15774b143b465b34cee5e6","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/02.mtn","hash":"efc99efdff39c93372cff0f6d62c4e748e1a5593","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/04.mtn","hash":"32c888667455a3ff6f1b04f910c1a5cc4de30af0","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/05.mtn","hash":"637e00442da4042cd4b0ed2cc62ffb1559881814","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/06.mtn","hash":"df10cc1d333c96da1296a4853c1ddbd44d8a11f3","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/08.mtn","hash":"9b95ef8548b979d1fca557c74f8d66fb15b34578","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/07.mtn","hash":"d8c9410135c81604eba665b59808089808e0851a","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/09.mtn","hash":"ecf1283b72e1c4b7e3a97343cd97726813f18790","modified":1558971868613},{"_id":"public/live2dw/assets/mtn/idle.mtn","hash":"058d4628ab04bf42c279501ba4fa37116d384e41","modified":1558971868613},{"_id":"public/live2dw/lib/L2Dwidget.min.js","hash":"5f1a807437cc723bcadc3791d37add5ceed566a2","modified":1558971868613},{"_id":"public/assets/css/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1558971868613},{"_id":"public/assets/js/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1558971868613},{"_id":"public/assets/js/Meting.min.js","hash":"a0585220b918d78649a7893279e1ec4fb5abe835","modified":1558971868614},{"_id":"public/images/bar/6.jpg","hash":"cd420156233418ffa06a7cc2c42d6b42d1efc00d","modified":1558971869060},{"_id":"public/images/pic/x-pack.png","hash":"16055d46f86bd08179e6791ce1485431f7ca91b3","modified":1558971869066},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1558971869070},{"_id":"public/images/bar/0.jpg","hash":"5122112eba55651d9fb982160eaf51cc3f237cdc","modified":1558971869070},{"_id":"public/images/bar/11.jpg","hash":"dc845f25ead88606c0ef40a9ba2689e3c809ddc7","modified":1558971869070},{"_id":"public/images/bar/39.jpg","hash":"089eba8393ab7d5a8105adf6f2d46caaed24222f","modified":1558971869070},{"_id":"public/images/bar/44.jpg","hash":"5cf223855fd05b961a22ee935e526de0bc0e26a4","modified":1558971869070},{"_id":"public/images/bar/5.jpg","hash":"e322fcb931209a0c12f1df69d31da85e744d9681","modified":1558971869070},{"_id":"public/images/bar/systemctl.jpg","hash":"ed8449415e055c2f35ef10780910feacfdbbd681","modified":1558971869070},{"_id":"public/images/bar/prometheus.jpg","hash":"ddcf444dd08e8367926cc81910e51c63e5577f56","modified":1558971869070},{"_id":"public/images/bar/zabbix-03.jpg","hash":"c84d358df2fac3db521fe5c0dcdecca895d82c9f","modified":1558971869071},{"_id":"public/images/pic/tls.jpg","hash":"cbd3afe29b9a9d5286e107ee5249f9fdd264a840","modified":1558971869071},{"_id":"public/images/bar/aliyun.jpg","hash":"241c9ff2b8acf2189495a07fc6dfa0ef669b98ca","modified":1558971869071},{"_id":"public/images/bar/elastic-k8s.png","hash":"4d5701d96467b1e6c18948ecd0f5a8103b627dc4","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config014.png","hash":"1ccbd6cf303773b58c7cb5c36b6c6b09474e13b4","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config016.png","hash":"62d8d831e8ad84bc654043574361a2f7b5a704f4","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config017.png","hash":"0080e9750b7b8ee2a4836123beee214f2b60fa11","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config027.png","hash":"7faf357c870db01723441169800fd6e72c9f812a","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config029.png","hash":"2eb8aaec04a722d8c2b86f42b5524c6caf41c30c","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config031.png","hash":"fc7798b4b2e3217b2fbceb4083fe5ccbdd764435","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config034.png","hash":"6ad1e1cdb9fb561abe9bb6791b0c654ad813178a","modified":1558971869071},{"_id":"public/images/reward/alipay.png","hash":"f9f2493860e5e6c1fb93410e0a552d34f85a3a3b","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config002.png","hash":"6db85b3dcd969dda814cb9c425d66620cbc9e8ab","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config010.png","hash":"dd3ac2756df294ff3937a9c593e7d86881da0983","modified":1558971869071},{"_id":"public/images/pic/zabbix/zabbix-config012.png","hash":"1a4c5cd1d0d91a86fcd6308ba9332ac60845181d","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config020.png","hash":"76d39b3ba31d9cbdbd812cf21dd23cc3b180c32b","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config021.png","hash":"9ebfe24bd97c2340ad0c7fcd0268def4cc0f99cb","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config022.png","hash":"1038dc19684fef2ee1cb133b367d574e76fc7500","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config030.png","hash":"c4ee43e1aa74300afd7505e1e3c716e41fe3b82e","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config032.png","hash":"39fe9b2146acfe83bf9681405e216b1aad87661c","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config036.png","hash":"707abed4aec50af6fa363a3fef6960fc6691700a","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config038.png","hash":"1c08f57c2e7193d14c570425561f0f6adeaa42fe","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config040.png","hash":"ed1df089699b1c00ea19b1f8e429c8fec092465b","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config039.png","hash":"dcede024c7640928482cee4cf84f5099fcab5198","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config041.png","hash":"9061365de71b5d2daeb50193b420a5e16d078474","modified":1558971869072},{"_id":"public/images/reward/wechatpay.png","hash":"56fe7d934e8506f4df54cd81bf6c3f93de0a8791","modified":1558971869072},{"_id":"public/images/pic/zabbix/zabbix-config001.png","hash":"62ccc84dce63e0a9704474ffcdcb61f215bca482","modified":1558971869073},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1558971869073},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1558971869073},{"_id":"public/images/pic/zabbix/zabbix-config006.png","hash":"bb7107ca2b900dc3dcfa4160ec55da7b5030dbf2","modified":1558971869073},{"_id":"public/live2dw/lib/L2Dwidget.min.js.map","hash":"3290fe2df45f065b51a1cd7b24ec325cbf9bb5ce","modified":1558971869073},{"_id":"public/js/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1558971869084},{"_id":"public/js/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1558971869084},{"_id":"public/js/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1558971869085},{"_id":"public/js/js.cookie.js","hash":"e0afce539f1fb81d59e3c6f0a68d736e2fb45d93","modified":1558971869085},{"_id":"public/js/next-boot.js","hash":"e0615efab5f81ba0fd39c0527eac31144deac7ce","modified":1558971869085},{"_id":"public/js/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1558971869085},{"_id":"public/js/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1558971869085},{"_id":"public/js/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1558971869086},{"_id":"public/js/src/clicklove.js","hash":"9e8e79d69ad8338761272f86fe5cad0ad5e503cc","modified":1558971869086},{"_id":"public/js/schemes/muse.js","hash":"e9bfa6b343b67625f58757efce46ccdaac8f308c","modified":1558971869086},{"_id":"public/js/schemes/pisces.js","hash":"9eb63cba0327d3d11b6cbfcbe40b88e97a8378a3","modified":1558971869086},{"_id":"public/lib/bookmark/index.js","hash":"5e5cba645a1a4531ccbb4782df2f7a075626393f","modified":1558971869086},{"_id":"public/lib/bookmark/bookmark.min.js","hash":"9e525329553335c2484f6faf9e933a6bbee9ab6d","modified":1558971869086},{"_id":"public/lib/bookmark/package.json","hash":"9f06f3432c12b68a2c2fe3f318455b35a965a1da","modified":1558971869086},{"_id":"public/lib/canvas-nest/canvas-nest-nomobile.min.js","hash":"956eada198babd00f028e8908767cb158926c3f3","modified":1558971869086},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1558971869086},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1558971869086},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1558971869086},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1558971869086},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1558971869087},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1558971869087},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1558971869087},{"_id":"public/lib/quicklink/quicklink.umd.js","hash":"d18dc2633f75d7f3801649f4c4af4b11a291750c","modified":1558971869087},{"_id":"public/lib/three/gulpfile.js","hash":"edd1868be72fde796b0b1f3a7a0316b3c896962a","modified":1558971869087},{"_id":"public/lib/three/package.json","hash":"d64e9f4ce441b50e48aa0993e190481223665989","modified":1558971869087},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"4496faa08c7d2979747f15c7b79cdf79e5a91cc1","modified":1558971869087},{"_id":"public/lib/three/src/canvas_lines.js","hash":"650310ff6783671f8ceccf01f840b20d9c87b491","modified":1558971869088},{"_id":"public/lib/three/src/canvas_sphere.js","hash":"7614790c67d3e79e3390fe688f6b01afad7e3bb1","modified":1558971869088},{"_id":"public/lib/three/src/three-waves.js","hash":"e98e442f14920e9fb8691846dca3a2225d403048","modified":1558971869088},{"_id":"public/lib/bookmark/README.html","hash":"be0c3f6a13505fb32611ef5e7269a7e4f35eecc9","modified":1558971869088},{"_id":"public/lib/canvas-nest/README.html","hash":"dac952f5cf0e6eedfb8d33bab710356798bb0ca5","modified":1558971869088},{"_id":"public/lib/canvas-ribbon/README.html","hash":"712f095b72b24b2bafa3548404bb4062c7859304","modified":1558971869088},{"_id":"public/lib/fancybox/README.html","hash":"acfa25ca9b6457a4a70a4b35cf72c9dafc33584e","modified":1558971869088},{"_id":"public/lib/fastclick/README.html","hash":"337b62c056c5c5566d3cfe717551a4d9f9e99e3b","modified":1558971869088},{"_id":"public/lib/jquery_lazyload/README.html","hash":"44753ed8ad8422df87d297ed331ac27dfc7a00dc","modified":1558971869088},{"_id":"public/lib/pace/README.html","hash":"58f2105ada5cc52dff5aabcecb92569ee84493a0","modified":1558971869088},{"_id":"public/lib/quicklink/README.html","hash":"5b7c0cedd5f19177d3eb6795be53da1dc69e0c2c","modified":1558971869088},{"_id":"public/lib/three/README.html","hash":"b9ead5e5ec2847bc3ae33c34e5d1a2c39dd747e9","modified":1558971869088},{"_id":"public/css/main.css","hash":"c9beeaaf33290d97e3492cad50a83503255fede3","modified":1558971869088},{"_id":"public/images/avatar.jpg","hash":"d415ffaf3157a079d8c5fc35c1ac56736256da0c","modified":1558971869088},{"_id":"public/images/bar/12.jpg","hash":"01c14cb0dafa89755fa6d56366bd187e4f733378","modified":1558971869088},{"_id":"public/images/bar/25.jpg","hash":"15c21e56be49e0e8677509a661fd9855d628d350","modified":1558971869088},{"_id":"public/images/bar/37.jpg","hash":"a6e8ebafb7f339113e6b0479ef99bd6f49ea1c00","modified":1558971869088},{"_id":"public/images/bar/nginx.jpg","hash":"3da99c0d508f72585eb9564673f74ccdfce4d9db","modified":1558971869088},{"_id":"public/images/bar/zabbix-02.jpg","hash":"26fe72d7119977c01ff493602147debe7fe83a62","modified":1558971869088},{"_id":"public/images/bar/16.jpg","hash":"ac4e5f55833628ce19258c1d9b0462f7c34c7036","modified":1558971869088},{"_id":"public/images/bar/18.jpg","hash":"c9e42307f8462b54a77d615db0568cbbe1cb0a56","modified":1558971869088},{"_id":"public/images/bar/20.jpg","hash":"97bc5b8e9807287f0b249e020948ab0f39c8059e","modified":1558971869089},{"_id":"public/images/bar/7.jpg","hash":"d1aa303837c9eb2e01eeddb900d9d9f529b993eb","modified":1558971869089},{"_id":"public/images/bar/13.jpg","hash":"3783e1e0f2b8c4ed71e6528c502a7e6810398b63","modified":1558971869089},{"_id":"public/images/pic/zabbix/zabbix-config003.png","hash":"5d9be33daa41e25627e0f05a3b83dedfe37de6ca","modified":1558971869089},{"_id":"public/images/pic/zabbix/zabbix-config008.png","hash":"635907314c737d46fbdaeb64842e2d5b91871a0f","modified":1558971869089},{"_id":"public/images/pic/zabbix/zabbix-config028.png","hash":"d365230f5e97be7e9cfc18429ca79f4df9a2b793","modified":1558971869089},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1558971869089},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js","hash":"35bb5b588b6de25c9be2dd51d3fd331feafac02d","modified":1558971869089},{"_id":"public/js/motion.js","hash":"a16bc0b701646bf6653484675f4d5dc0f892d184","modified":1558971869102},{"_id":"public/js/utils.js","hash":"81913c5f75d0949443833cf4269ad63bd7f9be6f","modified":1558971869102},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1558971869103},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1558971869103},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1558971869103},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1558971869103},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1558971869104},{"_id":"public/images/bar/zabbix-05.jpg","hash":"62e6dda8baec3890359d5b860291d46407bd2b96","modified":1558971869104},{"_id":"public/images/bar/14.jpg","hash":"aadba743ee97c06555ae486182c6d796cb23273c","modified":1558971869104},{"_id":"public/images/bar/35.jpg","hash":"16bc623ca7e1c1257f99912a19e6091e635be8b6","modified":1558971869104},{"_id":"public/images/bar/zabbix-01.jpg","hash":"6915f40cc0f203e40d7fcb771b8f0793a2345ae0","modified":1558971869104},{"_id":"public/images/bar/32.jpg","hash":"7cc5909d3737cd4d18ee1e5cd82769562d7f3975","modified":1558971869105},{"_id":"public/images/bar/docker.jpg","hash":"f85aef5813fd792fe4510704c980b06c60a01c1f","modified":1558971869105},{"_id":"public/images/pic/zabbix/zabbix-config026.png","hash":"1bef3ee370134448e103c330c32f16777e08acc8","modified":1558971869105},{"_id":"public/lib/three/canvas_lines.min.js","hash":"97f0e67570574dc8597c5819970508d4e7f7af25","modified":1558971869117},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"333fed4c256c7081e07c7844c097b7970b45b248","modified":1558971869117},{"_id":"public/lib/three/three-waves.min.js","hash":"704e860183acbaaf8de1be65fe5c958e8105f4bf","modified":1558971869117},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1558971869117},{"_id":"public/lib/three/lib/Projector.js","hash":"1ad16e96cea2a8a9155bb429c83ef9bdd341ce99","modified":1558971869117},{"_id":"public/images/bar/23.jpg","hash":"f15f3cd7a874ce47b452af9db42dd3c8973a915e","modified":1558971869117},{"_id":"public/images/bar/28.jpg","hash":"cd9348ac01bd5305c845af9675a37fc25a49391a","modified":1558971869117},{"_id":"public/images/bar/kernel.jpg","hash":"88cfc5e0ca681d1003e47cf36c7b11c033b892ea","modified":1558971869118},{"_id":"public/images/bar/tomcat.jpg","hash":"b350075c1f0fd0b1ad644b6536cb0934911f7fc6","modified":1558971869118},{"_id":"public/images/pic/zabbix/zabbix-config013.png","hash":"9e75aa1cf2253ad3c7dba1a765c32c0430aa4a3e","modified":1558971869118},{"_id":"public/images/bar/zabbix-04.jpg","hash":"218fe635bac0778c19e87a2f10e9260c37490db7","modified":1558971869118},{"_id":"public/images/bar/15.jpg","hash":"dd4b6be4dfc443890ee7df15c365240d87c5648e","modified":1558971869118},{"_id":"public/live2dw/assets/moc/koharu.moc","hash":"5eec3fba21444dd6f774b913510b5955e2c0605b","modified":1558971869118},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"9782a228f911ef442a03390a0064b40102fc1682","modified":1558971869123},{"_id":"public/lib/three/lib/CanvasRenderer.js","hash":"cf8e1ce6e884023ad0d692cf30f399862407fb40","modified":1558971869123},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1558971869123},{"_id":"public/images/bar/8.jpg","hash":"2e4712e4eea5ec877085644e44d09bfc135a3fd8","modified":1558971869124},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1558971869124},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1558971869126},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1558971869126},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1558971869126},{"_id":"public/images/bar/ansible.jpg","hash":"4c580ec5e227eab616e1418e54954ad6c0dbf7aa","modified":1558971869140},{"_id":"public/live2dw/assets/moc/koharu.2048/texture_00.png","hash":"0879b61b745084781722636bba9f278f31ce5fc1","modified":1558971869140},{"_id":"public/images/bar/zabbix-06.jpg","hash":"cf8879168d8ac53c6b251c64a2e6eea1d845ca89","modified":1558971869166},{"_id":"public/images/bar/9.jpg","hash":"892218f0145fdb23bbb2c31ccd908d809980f9ce","modified":1558971869179},{"_id":"public/lib/fancybox/source/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1558971869202},{"_id":"public/images/bar/kibana.jpg","hash":"2bb5bcc3893928637752148c20691e8722c4e291","modified":1558971869202},{"_id":"public/images/bar/36.jpg","hash":"6eea937ab14cfdbc2d49f949a5c188793974581b","modified":1558971869202},{"_id":"public/images/bar/29.jpg","hash":"d12af2d79c59952f751901f2cec0807d538f268b","modified":1558971869205},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js.map","hash":"35e71cc2a130199efb167b9a06939576602f0d75","modified":1558971869206},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1558971869207},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"27f034e5db8c32e268e2959b9a7c1258d36e4510","modified":1558971869210},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1558971869211},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1558971869213}],"Category":[{"name":"Linux","_id":"cjw6jleyc0004p4n73b3ire6w"},{"name":"hexo","_id":"cjw6jleyq000gp4n73z1rp93k"},{"name":"web","_id":"cjw6jleyu000np4n72e96y9pf"},{"name":"docker","_id":"cjw6jleyy000up4n7a1l4gum4"},{"name":"CI/CD","_id":"cjw6jlez20011p4n7evn1dq8l"},{"name":"Zabbix","_id":"cjw6jlez7001ep4n7saz58jkg"},{"name":"elastic","_id":"cjw6jlf0n002ep4n7u2z2i4fl"},{"name":"markdown","_id":"cjw6jlf0u002qp4n7r13m2w8g"},{"name":"prometheus","_id":"cjw6jlf0v002up4n7p5twjbg0"},{"name":"SQL","_id":"cjw6jlf23003bp4n7ti3zh1b5"}],"Data":[],"Page":[{"title":"About me","date":"2019-03-21T12:38:49.000Z","type":"about","comments":0,"_content":"2323\n{% echarts 400 '85%' %}\n{\n    tooltip : {\n        trigger: 'axis',\n        axisPointer : {            // \n            type : 'shadow'        // 'line' | 'shadow'\n        }\n    },\n    legend: {\n        data:['', '', '']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis : [\n        {\n            type : 'value'\n        }\n    ],\n    yAxis : [\n        {\n            type : 'category',\n            axisTick : {show: false},\n            data : ['','','','','','','']\n        }\n    ],\n    series : [\n        {\n            name:'',\n            type:'bar',\n            itemStyle : {\n                normal: {\n                    label: {show: true, position: 'inside'}\n                }\n            },\n            data:[200, 170, 240, 244, 200, 220, 210]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {\n                normal: {\n                    label : {show: true}\n                }\n            },\n            data:[320, 302, 341, 374, 390, 450, 420]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {normal: {\n                label : {show: true, position: 'left'}\n            }},\n            data:[-120, -132, -101, -134, -190, -230, -210]\n        }\n    ]\n};\n{% endecharts %}\n","source":"about/index.md","raw":"---\ntitle:  About me\ndate: 2019-03-21 20:38:49\ntype: \"about\"\n\ncomments: false\n---\n2323\n{% echarts 400 '85%' %}\n{\n    tooltip : {\n        trigger: 'axis',\n        axisPointer : {            // \n            type : 'shadow'        // 'line' | 'shadow'\n        }\n    },\n    legend: {\n        data:['', '', '']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis : [\n        {\n            type : 'value'\n        }\n    ],\n    yAxis : [\n        {\n            type : 'category',\n            axisTick : {show: false},\n            data : ['','','','','','','']\n        }\n    ],\n    series : [\n        {\n            name:'',\n            type:'bar',\n            itemStyle : {\n                normal: {\n                    label: {show: true, position: 'inside'}\n                }\n            },\n            data:[200, 170, 240, 244, 200, 220, 210]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {\n                normal: {\n                    label : {show: true}\n                }\n            },\n            data:[320, 302, 341, 374, 390, 450, 420]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {normal: {\n                label : {show: true, position: 'left'}\n            }},\n            data:[-120, -132, -101, -134, -190, -230, -210]\n        }\n    ]\n};\n{% endecharts %}\n","updated":"2019-05-27T11:14:39.929Z","path":"about/index.html","layout":"page","_id":"cjw6jley50001p4n7myv03aia","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>2323<br><div id=\"echarts4668\" style=\"width: 85%;height: 400px;margin: 0 auto\"></div>\r\n<script src=\"http://echarts.baidu.com/dist/echarts.common.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n        // domecharts\r\n        var myChart = echarts.init(document.getElementById('echarts4668'));\r\n\r\n        // \r\n        var option = {\n    tooltip : {\n        trigger: 'axis',\n        axisPointer : {            // \n            type : 'shadow'        // 'line' | 'shadow'\n        }\n    },\n    legend: {\n        data:['', '', '']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis : [\n        {\n            type : 'value'\n        }\n    ],\n    yAxis : [\n        {\n            type : 'category',\n            axisTick : {show: false},\n            data : ['','','','','','','']\n        }\n    ],\n    series : [\n        {\n            name:'',\n            type:'bar',\n            itemStyle : {\n                normal: {\n                    label: {show: true, position: 'inside'}\n                }\n            },\n            data:[200, 170, 240, 244, 200, 220, 210]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {\n                normal: {\n                    label : {show: true}\n                }\n            },\n            data:[320, 302, 341, 374, 390, 450, 420]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {normal: {\n                label : {show: true, position: 'left'}\n            }},\n            data:[-120, -132, -101, -134, -190, -230, -210]\n        }\n    ]\n};\r\n\r\n        // \r\n        myChart.setOption(option);\r\n</script></p>\n","site":{"data":{}},"length":1632,"excerpt":"","more":"<p>2323<br><div id=\"echarts4668\" style=\"width: 85%;height: 400px;margin: 0 auto\"></div>\r\n<script src=\"http://echarts.baidu.com/dist/echarts.common.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n        // domecharts\r\n        var myChart = echarts.init(document.getElementById('echarts4668'));\r\n\r\n        // \r\n        var option = {\n    tooltip : {\n        trigger: 'axis',\n        axisPointer : {            // \n            type : 'shadow'        // 'line' | 'shadow'\n        }\n    },\n    legend: {\n        data:['', '', '']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    xAxis : [\n        {\n            type : 'value'\n        }\n    ],\n    yAxis : [\n        {\n            type : 'category',\n            axisTick : {show: false},\n            data : ['','','','','','','']\n        }\n    ],\n    series : [\n        {\n            name:'',\n            type:'bar',\n            itemStyle : {\n                normal: {\n                    label: {show: true, position: 'inside'}\n                }\n            },\n            data:[200, 170, 240, 244, 200, 220, 210]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {\n                normal: {\n                    label : {show: true}\n                }\n            },\n            data:[320, 302, 341, 374, 390, 450, 420]\n        },\n        {\n            name:'',\n            type:'bar',\n            stack: '',\n            itemStyle: {normal: {\n                label : {show: true, position: 'left'}\n            }},\n            data:[-120, -132, -101, -134, -190, -230, -210]\n        }\n    ]\n};\r\n\r\n        // \r\n        myChart.setOption(option);\r\n</script></p>\n"},{"title":"","date":"2019-03-21T12:37:51.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: \ndate: 2019-03-21 20:37:51\ntype: \"categories\"\n\ncomments: false\n---","updated":"2019-05-25T06:26:05.293Z","path":"categories/index.html","layout":"page","_id":"cjw6jley90003p4n79y179d93","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script>","site":{"data":{}},"length":0,"excerpt":"","more":""},{"title":"","date":"2019-05-24T17:18:09.000Z","type":"guestbook","_content":"\n\n<div align=\"center\"> \n<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558956326532&di=82cc9907fc903cfb978a35206986d3f6&imgtype=0&src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20160809%2F31283a3e2d7f411492d3fb27297180ec_th.jpg\" />\n</div>\n\n[//]: #(aplayhttps://github.com/MoePlayer/hexo-tag-aplayer)\n{% meting \"2250011882\" \"netease\" \"playlist\" \"autoplay\" \"mutex:false\" \"order:random\" \"listmaxheight:250px\" \"preload:none\"  \"theme:#f7f7f7\"%}\n","source":"guestbook/index.md","raw":"---\ntitle: \ndate: 2019-05-25 01:18:09\ntype: \"guestbook\"\n---\n\n\n<div align=\"center\"> \n<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558956326532&di=82cc9907fc903cfb978a35206986d3f6&imgtype=0&src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20160809%2F31283a3e2d7f411492d3fb27297180ec_th.jpg\" />\n</div>\n\n[//]: #(aplayhttps://github.com/MoePlayer/hexo-tag-aplayer)\n{% meting \"2250011882\" \"netease\" \"playlist\" \"autoplay\" \"mutex:false\" \"order:random\" \"listmaxheight:250px\" \"preload:none\"  \"theme:#f7f7f7\"%}\n","updated":"2019-05-27T14:40:42.841Z","path":"guestbook/index.html","comments":1,"layout":"page","_id":"cjw6jleyf0007p4n7o270uv2b","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div align=\"center\"><br><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558956326532&di=82cc9907fc903cfb978a35206986d3f6&imgtype=0&src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20160809%2F31283a3e2d7f411492d3fb27297180ec_th.jpg\"><br></div>\n\n\n    <div id=\"aplayer-bocuHfAz\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"2250011882\" data-server=\"netease\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"true\" data-mutex=\"false\" data-listmaxheight=\"250px\" data-preload=\"none\" data-theme=\"#f7f7f7\" data-order=\"random\"></div>\n","site":{"data":{}},"length":8,"excerpt":"","more":"<div align=\"center\"><br><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558956326532&di=82cc9907fc903cfb978a35206986d3f6&imgtype=0&src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20160809%2F31283a3e2d7f411492d3fb27297180ec_th.jpg\"><br></div>\n\n\n    <div id=\"aplayer-bocuHfAz\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"2250011882\" data-server=\"netease\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"true\" data-mutex=\"false\" data-listmaxheight=\"250px\" data-preload=\"none\" data-theme=\"#f7f7f7\" data-order=\"random\"></div>\n"},{"title":"","date":"2019-03-21T12:38:32.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: \ndate: 2019-03-21 20:38:32\ntype: \"tags\"\n\ncomments: false\n---","updated":"2019-05-25T06:25:52.435Z","path":"tags/index.html","layout":"page","_id":"cjw6jleyi0009p4n7zl4gov2e","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script>","site":{"data":{}},"length":0,"excerpt":"","more":""},{"_content":"<!DOCTYPE HTML>\n<html lang=\"zh-CN\">\n\n\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n    <meta charset=\"utf-8\">\n    <meta name=\"keywords\" content=\", , Blinkfox\">\n    <meta name=\"description\" content=\" | \">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n    <meta name=\"renderer\" content=\"webkit|ie-stand|ie-comp\">\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <title> | </title>\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/awesome/css/font-awesome.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/materialize/materialize.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/aos/aos.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/animate/animate.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/lightGallery/css/lightgallery.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/matery.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/my.css\">\n    <style type=\"text/css\">\n        \n        code[class*=\"language-\"], pre[class*=\"language-\"] {\n            white-space: pre !important;\n        }\n        \n    </style>\n\n    <script src=\"/libs/jquery/jquery-2.2.0.min.js\"></script>\n<link rel=\"stylesheet\" href=\"/css/prism-tomorrow.css\" type=\"text/css\"></head>\n\n\n<body>\n\n<header class=\"navbar-fixed\">\n    <nav id=\"headNav\" class=\"bg-color nav-transparent\">\n        <div id=\"navContainer\" class=\"nav-wrapper container\">\n            <div class=\"brand-logo\">\n                <a href=\"/\" class=\"waves-effect waves-light\">\n                    \n                    <img src=\"/medias/logo.png\" class=\"logo-img\" alt=\"LOGO\">\n                    \n                    <span class=\"logo-span\"></span>\n                </a>\n            </div>\n            \n\n<a href=\"#\" data-target=\"mobile-nav\" class=\"sidenav-trigger button-collapse\"><i class=\"fa fa-navicon\"></i></a>\n<ul class=\"right\">\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-home\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/tags\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-tags\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/categories\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-bookmark\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/archives\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-archive\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/about\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-user-circle-o\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/friends\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-address-book\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li>\n        <a href=\"#searchModal\" class=\"modal-trigger waves-effect waves-light\">\n            <i id=\"searchIcon\" class=\"fa fa-search\" title=\"\"></i>\n        </a>\n    </li>\n</ul>\n\n<div id=\"mobile-nav\" class=\"side-nav sidenav\">\n\n    <div class=\"mobile-head bg-color\">\n        \n        <img src=\"/medias/logo.png\" class=\"logo-img circle responsive-img\">\n        \n        <div class=\"logo-name\"></div>\n        <div class=\"logo-desc\">\n            \n            \n            \n        </div>\n    </div>\n\n    \n\n    <ul class=\"menu-list mobile-menu-list\">\n        \n        <li>\n            <a href=\"/\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-home\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/tags\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-tags\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/categories\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-bookmark\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/archives\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-archive\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/about\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-user-circle-o\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/friends\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-address-book\"></i>\n                \n                \n            </a>\n        </li>\n        \n        \n        <li><div class=\"divider\"></div></li>\n        <li>\n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"waves-effect waves-light\" target=\"_blank\">\n                <i class=\"fa fa-github-square fa-fw\"></i>Fork Me\n            </a>\n        </li>\n        \n    </ul>\n</div>\n\n        </div>\n\n        \n            <style>\n    .nav-transparent .github-corner {\n        display: none !important;\n    }\n\n    .github-corner {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        right: 0;\n        border: 0;\n        transform: scale(1.1);\n    }\n\n    .github-corner svg {\n        color: #0f9d58;\n        fill: #fff;\n        height: 64px;\n        width: 64px;\n    }\n\n    .github-corner:hover .octo-arm {\n        animation: a 0.56s ease-in-out;\n    }\n\n    .github-corner .octo-arm {\n        animation: none;\n    }\n\n    @keyframes a {\n        0%,\n        to {\n            transform: rotate(0);\n        }\n        20%,\n        60% {\n            transform: rotate(-25deg);\n        }\n        40%,\n        80% {\n            transform: rotate(10deg);\n        }\n    }\n</style>\n\n<a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"github-corner tooltipped hide-on-med-and-down\" target=\"_blank\" data-tooltip=\"Fork Me\" data-position=\"left\" data-delay=\"50\">\n    <svg viewbox=\"0 0 250 250\" aria-hidden=\"true\">\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"/>\n        <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"/>\n        <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"/>\n    </svg>\n</a>\n        \n    </nav>\n\n</header>\n\n<style type=\"text/css\">\n    /* don't remove. */\n    .about-cover {\n        height: 75vh;\n    }\n</style>\n\n<div class=\"bg-cover pd-header about-cover\">\n    <div class=\"container\">\n    <div class=\"row\">\n    <div class=\"col s10 offset-s1 m8 offset-m2 l8 offset-l2\">\n        <div class=\"brand\">\n            <div class=\"title center-align\">\n                \n                    \n                \n            </div>\n\n            <div class=\"description center-align\">\n                \n                    \n                \n            </div>\n        </div>\n    </div>\n</div>\n<script>\n//  banner .  Switch banner image every day.\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n</script>\n    </div>\n</div>\n\n<main class=\"content\">\n\n    <div id=\"aboutme\" class=\"container about-container\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <div class=\"row\">\n                    <div class=\"post-statis col l4 hide-on-med-and-down\" data-aos=\"zoom-in-right\">\n                        \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                    </div>\n                    <div class=\"col s12 m12 l4\">\n                        <div class=\"profile center-align\">\n                            <div class=\"avatar\">\n                                <img src=\"/medias/avatar.jpg\" alt=\"blinkfox\" class=\"circle responsive-img avatar-img\">\n                            </div>\n                            <div class=\"author\">\n                                <div class=\"post-statis hide-on-large-only\" data-aos=\"zoom-in-right\">\n                                    \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                                </div>\n                                <div class=\"title\">blinkfox</div>\n                                <div class=\"career\"></div>\n                                <div class=\"social-link hide-on-large-only\" data-aos=\"zoom-in-left\">\n                                    \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col l4 hide-on-med-and-down\" data-aos=\"zoom-in-left\">\n                        <div class=\"social-link\">\n                            \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"introduction center-align\" data-aos=\"fade-up\"></div>\n\n                <style type=\"text/css\">\n    #posts-chart,\n    #categories-chart,\n    #tags-chart {\n        width: 100%;\n        height: 300px;\n        margin: 0.5rem auto;\n        padding: 0.5rem;\n    }\n</style>\n\n<div id=\"postCharts\" class=\"post-charts\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-bar-chart\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"posts-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"categories-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"tags-chart\"></div>\n        </div>\n    </div>\n</div>\n\n<script type=\"text/javascript\" src=\"/libs/echarts/echarts.min.js\"></script>\n<script>\n    let postsChart = echarts.init(document.getElementById('posts-chart'));\n    let categoriesChart = echarts.init(document.getElementById('categories-chart'));\n    let tagsChart = echarts.init(document.getElementById('tags-chart'));\n\n    \n\n    let postsOption = {\n        title: {\n            text: '',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'axis'\n        },\n        xAxis: {\n            type: 'category',\n            data: [\"2018-03\",\"2018-04\",\"2018-05\",\"2018-06\",\"2018-07\",\"2018-08\",\"2018-09\",\"2018-10\",\"2018-11\",\"2018-12\",\"2019-01\",\"2019-02\",\"2019-03\"]\n        },\n        yAxis: {\n            type: 'value',\n        },\n        series: [\n            {\n                name: '',\n                type: 'line',\n                color: ['#6772e5'],\n                data: [0,0,0,0,0,0,18,21,14,2,1,1,1],\n                markPoint: {\n                    symbolSize: 45,\n                    color: ['#fa755a','#3ecf8e','#82d3f4'],\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }]\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    \n\n    let categoriesOption = {\n        title: {\n            text: '',\n            top: -4,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        series: [\n            {\n                name: '',\n                type: 'pie',\n                radius: '50%',\n                color: ['#6772e5', '#ff9e0f', '#fa755a', '#3ecf8e', '#82d3f4', '#ab47bc', '#525f7f', '#f51c47', '#26A69A'],\n                data: [{\"name\":\"\",\"value\":6},{\"name\":\"\",\"value\":3},{\"name\":\"\",\"value\":16},{\"name\":\"\",\"value\":1},{\"name\":\"\",\"value\":8},{\"name\":\"\",\"value\":24}],\n                itemStyle: {\n                    emphasis: {\n                        shadowBlur: 10,\n                        shadowOffsetX: 0,\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\n                    }\n                }\n            }\n        ]\n    };\n\n    \n\n    let tagsOption = {\n        title: {\n            text: 'TOP10 ',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {},\n        xAxis: [\n            {\n                type: 'category',\n                data: [\"Java\",\"\",\"JavaScript\",\"Linux\",\"Apache\",\"\",\"Hexo\",\"UML\",\"MVEL\",\"\"]\n            }\n        ],\n        yAxis: [\n            {\n                type: 'value'\n            }\n        ],\n        series: [\n            {\n                type: 'bar',\n                color: ['#82d3f4'],\n                barWidth : 18,\n                data: [42,14,4,4,4,3,2,2,2,2],\n                markPoint: {\n                    symbolSize: 45,\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }],\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    // render the charts\n    postsChart.setOption(postsOption);\n    categoriesChart.setOption(categoriesOption);\n    tagsChart.setOption(tagsOption);\n</script>\n\n                \n                \n<div class=\"my-projects\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-gift\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"http://github.com/blinkfox/hexo-theme-matery\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #66BB6A 0%, #81C784 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-meetup\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"http://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>\n                </div>\n                <div class=\"info-desc\"> Material Design  Hexo </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/zealot\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #F06292 0%, #EF5350 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-database\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/zealot\" target=\"_blank\">zealt</a>\n                </div>\n                <div class=\"info-desc\"> SQL </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/typora-vue-theme\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-file-text-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/typora-vue-theme\" target=\"_blank\">typora-vue-theme</a>\n                </div>\n                <div class=\"info-desc\"> Typora Markdown  Vue </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/adept\" class=\"icon\" style=\"background: linear-gradient(135deg, #ffeb3b 0%, #ff9900 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-compress\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/adept\" target=\"_blank\">adept</a>\n                </div>\n                <div class=\"info-desc\"> JDBC  DAO </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/stalker\" class=\"icon\" style=\"background: linear-gradient(135deg, #e079fc 0%, #7c44ff 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-snowflake-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/stalker\" target=\"_blank\">stalker</a>\n                </div>\n                <div class=\"info-desc\"> Java </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/mini-table\" class=\"icon\" style=\"background: linear-gradient(135deg, #309286 0%, #32dbc6 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-table\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/mini-table\" target=\"_blank\">mini-table</a>\n                </div>\n                <div class=\"info-desc\"> Java ASCII </div>\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n                \n\n                \n                \n<div class=\"my-skills\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-wrench\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FF0066 0%, #FF00CC 100%); width: 90%\">\n                    <span>Java</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #9900FF 0%, #CC66FF 100%); width: 80%\">\n                    <span>JavaScript</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #2196F3 0%, #42A5F5 100%); width: 80%\">\n                    <span>HTML5</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #00BCD4 0%, #80DEEA 100%); width: 70%\">\n                    <span>CSS</span>\n                </div>\n                <div class=\"skill-bar-percent\">70%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #4CAF50 0%, #81C784 100%); width: 90%\">\n                    <span>SQL</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FFEB3B 0%, #FFF176 100%); width: 80%\">\n                    <span></span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n    </div>\n\n    \n\n    \n    <div class=\"other-skills chip-container\" data-aos=\"zoom-in-up\">\n        <div class=\"sub-title center-align\"><i class=\"fa fa-book\"></i>&nbsp;&nbsp;</div>\n        <div class=\"tag-chips center-align\">\n            \n            \n            <a href=\"/tags/Hexo/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Hexo</span>\n            </a>\n            \n            \n            \n            \n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/UML/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">UML</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/PostgreSQL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">PostgreSQL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/CPU/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">CPU</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/hexo-theme-matery/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">hexo-theme-matery</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/MVEL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">MVEL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Linux/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Linux</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Typora/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Typora</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Markdown/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Markdown</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Vue/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Vue</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Google/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Google</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Spring/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Spring</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/SpringBoot/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">SpringBoot</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Git/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Git</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Apache/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Apache</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/GitLab-CI/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">GitLab CI</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/DevOps/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">DevOps</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Jenkins/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Jenkins</span>\n            </a>\n            \n            \n        </div>\n    </div>\n    \n\n</div>\n                \n\n                \n                \n<div id=\"myGallery\" class=\"my-gallery\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-photo\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/0.jpg\">\n                <img src=\"/medias/featureimages/0.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/1.jpg\">\n                <img src=\"/medias/featureimages/1.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/2.jpg\">\n                <img src=\"/medias/featureimages/2.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n\n<script>\n    $(function () {\n        let animateClass = 'animated pulse';\n        $('#myGallery .photo').hover(function () {\n            $(this).addClass(animateClass);\n        }, function () {\n            $(this).removeClass(animateClass);\n        });\n    });\n</script>\n                \n\n            </div>\n        </div>\n    </div>\n</main>\n<footer class=\"page-footer bg-color\">\n    <div class=\"container row center-align\">\n        <div class=\"col s12 m8 l8 copy-right\">\n            &copy;<a href=\"https://blinkfox.github.io/\" target=\"_blank\">Blinkfox</a>\n            <a href=\"https://hexo.io/\" target=\"_blank\">Hexo</a> \n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>.\n\n            \n                &nbsp;<i class=\"fa fa-area-chart\"></i>&nbsp;:&nbsp;\n                <span class=\"white-color\">192.6k</span>\n            \n\n            \n\t\t\t\n                <br>\n                \n                <span id=\"busuanzi_container_site_pv\">\n                    <i class=\"fa fa-heart-o\"></i>\n                     <span id=\"busuanzi_value_site_pv\" class=\"white-color\"></span>\n                </span>\n                \n                \n                <span id=\"busuanzi_container_site_uv\">\n                    <i class=\"fa fa-users\"></i>\n                    ,&nbsp; <span id=\"busuanzi_value_site_uv\" class=\"white-color\"></span> .\n                </span>\n                \n            \n        </div>\n        <div class=\"col s12 m4 l4 social-link social-statis\">\n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n</div>\n    </div>\n</footer>\n\n<div class=\"progress-bar\"></div>\n\n\n<!--  -->\n<div id=\"searchModal\" class=\"modal\">\n    <div class=\"modal-content\">\n        <div class=\"search-header\">\n            <span class=\"title\"><i class=\"fa fa-search\"></i>&nbsp;&nbsp;</span>\n            <input type=\"search\" id=\"searchInput\" name=\"s\" placeholder=\"\" class=\"search-input\">\n        </div>\n        <div id=\"searchResult\"></div>\n    </div>\n</div>\n\n<script src=\"/js/search.js\"></script>\n<script type=\"text/javascript\">\n$(function () {\n    searchFunc(\"/\" + \"search.xml\", 'searchInput', 'searchResult');\n});\n</script>\n<!--  -->\n<div id=\"backTop\" class=\"top-scroll\">\n    <a class=\"btn-floating btn-large waves-effect waves-light\" href=\"#!\">\n        <i class=\"fa fa-angle-up\"></i>\n    </a>\n</div>\n\n\n<script src=\"/libs/materialize/materialize.min.js\"></script>\n<script src=\"/libs/masonry/masonry.pkgd.min.js\"></script>\n<script src=\"/libs/aos/aos.js\"></script>\n<script src=\"/libs/scrollprogress/scrollProgress.min.js\"></script>\n<script src=\"/libs/lightGallery/js/lightgallery-all.min.js\"></script>\n<script src=\"/js/matery.js\"></script>\n\n<!-- Global site tag (gtag.js) - Google Analytics -->\n\n\n\n    <script src=\"/libs/others/clicklove.js\"></script>\n\n\n    <script async src=\"/libs/others/busuanzi.pure.mini.js\"></script>\n\n\n</body>\n</html>","source":"about/index.html","raw":"<!DOCTYPE HTML>\n<html lang=\"zh-CN\">\n\n\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n    <meta charset=\"utf-8\">\n    <meta name=\"keywords\" content=\", , Blinkfox\">\n    <meta name=\"description\" content=\" | \">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n    <meta name=\"renderer\" content=\"webkit|ie-stand|ie-comp\">\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <title> | </title>\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/awesome/css/font-awesome.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/materialize/materialize.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/aos/aos.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/animate/animate.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/lightGallery/css/lightgallery.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/matery.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/my.css\">\n    <style type=\"text/css\">\n        \n        code[class*=\"language-\"], pre[class*=\"language-\"] {\n            white-space: pre !important;\n        }\n        \n    </style>\n\n    <script src=\"/libs/jquery/jquery-2.2.0.min.js\"></script>\n<link rel=\"stylesheet\" href=\"/css/prism-tomorrow.css\" type=\"text/css\"></head>\n\n\n<body>\n\n<header class=\"navbar-fixed\">\n    <nav id=\"headNav\" class=\"bg-color nav-transparent\">\n        <div id=\"navContainer\" class=\"nav-wrapper container\">\n            <div class=\"brand-logo\">\n                <a href=\"/\" class=\"waves-effect waves-light\">\n                    \n                    <img src=\"/medias/logo.png\" class=\"logo-img\" alt=\"LOGO\">\n                    \n                    <span class=\"logo-span\"></span>\n                </a>\n            </div>\n            \n\n<a href=\"#\" data-target=\"mobile-nav\" class=\"sidenav-trigger button-collapse\"><i class=\"fa fa-navicon\"></i></a>\n<ul class=\"right\">\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-home\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/tags\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-tags\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/categories\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-bookmark\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/archives\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-archive\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/about\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-user-circle-o\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/friends\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-address-book\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li>\n        <a href=\"#searchModal\" class=\"modal-trigger waves-effect waves-light\">\n            <i id=\"searchIcon\" class=\"fa fa-search\" title=\"\"></i>\n        </a>\n    </li>\n</ul>\n\n<div id=\"mobile-nav\" class=\"side-nav sidenav\">\n\n    <div class=\"mobile-head bg-color\">\n        \n        <img src=\"/medias/logo.png\" class=\"logo-img circle responsive-img\">\n        \n        <div class=\"logo-name\"></div>\n        <div class=\"logo-desc\">\n            \n            \n            \n        </div>\n    </div>\n\n    \n\n    <ul class=\"menu-list mobile-menu-list\">\n        \n        <li>\n            <a href=\"/\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-home\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/tags\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-tags\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/categories\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-bookmark\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/archives\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-archive\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/about\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-user-circle-o\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/friends\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-address-book\"></i>\n                \n                \n            </a>\n        </li>\n        \n        \n        <li><div class=\"divider\"></div></li>\n        <li>\n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"waves-effect waves-light\" target=\"_blank\">\n                <i class=\"fa fa-github-square fa-fw\"></i>Fork Me\n            </a>\n        </li>\n        \n    </ul>\n</div>\n\n        </div>\n\n        \n            <style>\n    .nav-transparent .github-corner {\n        display: none !important;\n    }\n\n    .github-corner {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        right: 0;\n        border: 0;\n        transform: scale(1.1);\n    }\n\n    .github-corner svg {\n        color: #0f9d58;\n        fill: #fff;\n        height: 64px;\n        width: 64px;\n    }\n\n    .github-corner:hover .octo-arm {\n        animation: a 0.56s ease-in-out;\n    }\n\n    .github-corner .octo-arm {\n        animation: none;\n    }\n\n    @keyframes a {\n        0%,\n        to {\n            transform: rotate(0);\n        }\n        20%,\n        60% {\n            transform: rotate(-25deg);\n        }\n        40%,\n        80% {\n            transform: rotate(10deg);\n        }\n    }\n</style>\n\n<a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"github-corner tooltipped hide-on-med-and-down\" target=\"_blank\" data-tooltip=\"Fork Me\" data-position=\"left\" data-delay=\"50\">\n    <svg viewbox=\"0 0 250 250\" aria-hidden=\"true\">\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"/>\n        <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"/>\n        <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"/>\n    </svg>\n</a>\n        \n    </nav>\n\n</header>\n\n<style type=\"text/css\">\n    /* don't remove. */\n    .about-cover {\n        height: 75vh;\n    }\n</style>\n\n<div class=\"bg-cover pd-header about-cover\">\n    <div class=\"container\">\n    <div class=\"row\">\n    <div class=\"col s10 offset-s1 m8 offset-m2 l8 offset-l2\">\n        <div class=\"brand\">\n            <div class=\"title center-align\">\n                \n                    \n                \n            </div>\n\n            <div class=\"description center-align\">\n                \n                    \n                \n            </div>\n        </div>\n    </div>\n</div>\n<script>\n//  banner .  Switch banner image every day.\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n</script>\n    </div>\n</div>\n\n<main class=\"content\">\n\n    <div id=\"aboutme\" class=\"container about-container\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <div class=\"row\">\n                    <div class=\"post-statis col l4 hide-on-med-and-down\" data-aos=\"zoom-in-right\">\n                        \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                    </div>\n                    <div class=\"col s12 m12 l4\">\n                        <div class=\"profile center-align\">\n                            <div class=\"avatar\">\n                                <img src=\"/medias/avatar.jpg\" alt=\"blinkfox\" class=\"circle responsive-img avatar-img\">\n                            </div>\n                            <div class=\"author\">\n                                <div class=\"post-statis hide-on-large-only\" data-aos=\"zoom-in-right\">\n                                    \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                                </div>\n                                <div class=\"title\">blinkfox</div>\n                                <div class=\"career\"></div>\n                                <div class=\"social-link hide-on-large-only\" data-aos=\"zoom-in-left\">\n                                    \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col l4 hide-on-med-and-down\" data-aos=\"zoom-in-left\">\n                        <div class=\"social-link\">\n                            \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"introduction center-align\" data-aos=\"fade-up\"></div>\n\n                <style type=\"text/css\">\n    #posts-chart,\n    #categories-chart,\n    #tags-chart {\n        width: 100%;\n        height: 300px;\n        margin: 0.5rem auto;\n        padding: 0.5rem;\n    }\n</style>\n\n<div id=\"postCharts\" class=\"post-charts\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-bar-chart\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"posts-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"categories-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"tags-chart\"></div>\n        </div>\n    </div>\n</div>\n\n<script type=\"text/javascript\" src=\"/libs/echarts/echarts.min.js\"></script>\n<script>\n    let postsChart = echarts.init(document.getElementById('posts-chart'));\n    let categoriesChart = echarts.init(document.getElementById('categories-chart'));\n    let tagsChart = echarts.init(document.getElementById('tags-chart'));\n\n    \n\n    let postsOption = {\n        title: {\n            text: '',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'axis'\n        },\n        xAxis: {\n            type: 'category',\n            data: [\"2018-03\",\"2018-04\",\"2018-05\",\"2018-06\",\"2018-07\",\"2018-08\",\"2018-09\",\"2018-10\",\"2018-11\",\"2018-12\",\"2019-01\",\"2019-02\",\"2019-03\"]\n        },\n        yAxis: {\n            type: 'value',\n        },\n        series: [\n            {\n                name: '',\n                type: 'line',\n                color: ['#6772e5'],\n                data: [0,0,0,0,0,0,18,21,14,2,1,1,1],\n                markPoint: {\n                    symbolSize: 45,\n                    color: ['#fa755a','#3ecf8e','#82d3f4'],\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }]\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    \n\n    let categoriesOption = {\n        title: {\n            text: '',\n            top: -4,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        series: [\n            {\n                name: '',\n                type: 'pie',\n                radius: '50%',\n                color: ['#6772e5', '#ff9e0f', '#fa755a', '#3ecf8e', '#82d3f4', '#ab47bc', '#525f7f', '#f51c47', '#26A69A'],\n                data: [{\"name\":\"\",\"value\":6},{\"name\":\"\",\"value\":3},{\"name\":\"\",\"value\":16},{\"name\":\"\",\"value\":1},{\"name\":\"\",\"value\":8},{\"name\":\"\",\"value\":24}],\n                itemStyle: {\n                    emphasis: {\n                        shadowBlur: 10,\n                        shadowOffsetX: 0,\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\n                    }\n                }\n            }\n        ]\n    };\n\n    \n\n    let tagsOption = {\n        title: {\n            text: 'TOP10 ',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {},\n        xAxis: [\n            {\n                type: 'category',\n                data: [\"Java\",\"\",\"JavaScript\",\"Linux\",\"Apache\",\"\",\"Hexo\",\"UML\",\"MVEL\",\"\"]\n            }\n        ],\n        yAxis: [\n            {\n                type: 'value'\n            }\n        ],\n        series: [\n            {\n                type: 'bar',\n                color: ['#82d3f4'],\n                barWidth : 18,\n                data: [42,14,4,4,4,3,2,2,2,2],\n                markPoint: {\n                    symbolSize: 45,\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }],\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    // render the charts\n    postsChart.setOption(postsOption);\n    categoriesChart.setOption(categoriesOption);\n    tagsChart.setOption(tagsOption);\n</script>\n\n                \n                \n<div class=\"my-projects\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-gift\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"http://github.com/blinkfox/hexo-theme-matery\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #66BB6A 0%, #81C784 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-meetup\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"http://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>\n                </div>\n                <div class=\"info-desc\"> Material Design  Hexo </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/zealot\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #F06292 0%, #EF5350 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-database\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/zealot\" target=\"_blank\">zealt</a>\n                </div>\n                <div class=\"info-desc\"> SQL </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/typora-vue-theme\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-file-text-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/typora-vue-theme\" target=\"_blank\">typora-vue-theme</a>\n                </div>\n                <div class=\"info-desc\"> Typora Markdown  Vue </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/adept\" class=\"icon\" style=\"background: linear-gradient(135deg, #ffeb3b 0%, #ff9900 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-compress\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/adept\" target=\"_blank\">adept</a>\n                </div>\n                <div class=\"info-desc\"> JDBC  DAO </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/stalker\" class=\"icon\" style=\"background: linear-gradient(135deg, #e079fc 0%, #7c44ff 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-snowflake-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/stalker\" target=\"_blank\">stalker</a>\n                </div>\n                <div class=\"info-desc\"> Java </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/mini-table\" class=\"icon\" style=\"background: linear-gradient(135deg, #309286 0%, #32dbc6 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-table\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/mini-table\" target=\"_blank\">mini-table</a>\n                </div>\n                <div class=\"info-desc\"> Java ASCII </div>\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n                \n\n                \n                \n<div class=\"my-skills\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-wrench\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FF0066 0%, #FF00CC 100%); width: 90%\">\n                    <span>Java</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #9900FF 0%, #CC66FF 100%); width: 80%\">\n                    <span>JavaScript</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #2196F3 0%, #42A5F5 100%); width: 80%\">\n                    <span>HTML5</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #00BCD4 0%, #80DEEA 100%); width: 70%\">\n                    <span>CSS</span>\n                </div>\n                <div class=\"skill-bar-percent\">70%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #4CAF50 0%, #81C784 100%); width: 90%\">\n                    <span>SQL</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FFEB3B 0%, #FFF176 100%); width: 80%\">\n                    <span></span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n    </div>\n\n    \n\n    \n    <div class=\"other-skills chip-container\" data-aos=\"zoom-in-up\">\n        <div class=\"sub-title center-align\"><i class=\"fa fa-book\"></i>&nbsp;&nbsp;</div>\n        <div class=\"tag-chips center-align\">\n            \n            \n            <a href=\"/tags/Hexo/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Hexo</span>\n            </a>\n            \n            \n            \n            \n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/UML/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">UML</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/PostgreSQL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">PostgreSQL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/CPU/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">CPU</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/hexo-theme-matery/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">hexo-theme-matery</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/MVEL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">MVEL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Linux/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Linux</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Typora/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Typora</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Markdown/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Markdown</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Vue/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Vue</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Google/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Google</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Spring/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Spring</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/SpringBoot/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">SpringBoot</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Git/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Git</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Apache/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Apache</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/GitLab-CI/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">GitLab CI</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/DevOps/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">DevOps</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Jenkins/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Jenkins</span>\n            </a>\n            \n            \n        </div>\n    </div>\n    \n\n</div>\n                \n\n                \n                \n<div id=\"myGallery\" class=\"my-gallery\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-photo\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/0.jpg\">\n                <img src=\"/medias/featureimages/0.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/1.jpg\">\n                <img src=\"/medias/featureimages/1.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/2.jpg\">\n                <img src=\"/medias/featureimages/2.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n\n<script>\n    $(function () {\n        let animateClass = 'animated pulse';\n        $('#myGallery .photo').hover(function () {\n            $(this).addClass(animateClass);\n        }, function () {\n            $(this).removeClass(animateClass);\n        });\n    });\n</script>\n                \n\n            </div>\n        </div>\n    </div>\n</main>\n<footer class=\"page-footer bg-color\">\n    <div class=\"container row center-align\">\n        <div class=\"col s12 m8 l8 copy-right\">\n            &copy;<a href=\"https://blinkfox.github.io/\" target=\"_blank\">Blinkfox</a>\n            <a href=\"https://hexo.io/\" target=\"_blank\">Hexo</a> \n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>.\n\n            \n                &nbsp;<i class=\"fa fa-area-chart\"></i>&nbsp;:&nbsp;\n                <span class=\"white-color\">192.6k</span>\n            \n\n            \n\t\t\t\n                <br>\n                \n                <span id=\"busuanzi_container_site_pv\">\n                    <i class=\"fa fa-heart-o\"></i>\n                     <span id=\"busuanzi_value_site_pv\" class=\"white-color\"></span>\n                </span>\n                \n                \n                <span id=\"busuanzi_container_site_uv\">\n                    <i class=\"fa fa-users\"></i>\n                    ,&nbsp; <span id=\"busuanzi_value_site_uv\" class=\"white-color\"></span> .\n                </span>\n                \n            \n        </div>\n        <div class=\"col s12 m4 l4 social-link social-statis\">\n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n</div>\n    </div>\n</footer>\n\n<div class=\"progress-bar\"></div>\n\n\n<!--  -->\n<div id=\"searchModal\" class=\"modal\">\n    <div class=\"modal-content\">\n        <div class=\"search-header\">\n            <span class=\"title\"><i class=\"fa fa-search\"></i>&nbsp;&nbsp;</span>\n            <input type=\"search\" id=\"searchInput\" name=\"s\" placeholder=\"\" class=\"search-input\">\n        </div>\n        <div id=\"searchResult\"></div>\n    </div>\n</div>\n\n<script src=\"/js/search.js\"></script>\n<script type=\"text/javascript\">\n$(function () {\n    searchFunc(\"/\" + \"search.xml\", 'searchInput', 'searchResult');\n});\n</script>\n<!--  -->\n<div id=\"backTop\" class=\"top-scroll\">\n    <a class=\"btn-floating btn-large waves-effect waves-light\" href=\"#!\">\n        <i class=\"fa fa-angle-up\"></i>\n    </a>\n</div>\n\n\n<script src=\"/libs/materialize/materialize.min.js\"></script>\n<script src=\"/libs/masonry/masonry.pkgd.min.js\"></script>\n<script src=\"/libs/aos/aos.js\"></script>\n<script src=\"/libs/scrollprogress/scrollProgress.min.js\"></script>\n<script src=\"/libs/lightGallery/js/lightgallery-all.min.js\"></script>\n<script src=\"/js/matery.js\"></script>\n\n<!-- Global site tag (gtag.js) - Google Analytics -->\n\n\n\n    <script src=\"/libs/others/clicklove.js\"></script>\n\n\n    <script async src=\"/libs/others/busuanzi.pure.mini.js\"></script>\n\n\n</body>\n</html>","date":"2019-05-27T14:33:27.085Z","updated":"2019-05-27T14:33:25.293Z","path":"about/index.html","title":"","comments":1,"layout":"page","_id":"cjw6jlf53003jp4n7o3mua8at","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><!DOCTYPE HTML>\n<html lang=\"zh-CN\">\n\n\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n    <meta charset=\"utf-8\">\n    <meta name=\"keywords\" content=\", , Blinkfox\">\n    <meta name=\"description\" content=\" | \">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n    <meta name=\"renderer\" content=\"webkit|ie-stand|ie-comp\">\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <title> | </title>\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/awesome/css/font-awesome.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/materialize/materialize.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/aos/aos.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/animate/animate.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/lightGallery/css/lightgallery.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/matery.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/my.css\">\n    <style type=\"text/css\">\n        \n        code[class*=\"language-\"], pre[class*=\"language-\"] {\n            white-space: pre !important;\n        }\n        \n    </style>\n\n    <script src=\"/libs/jquery/jquery-2.2.0.min.js\"></script>\n<link rel=\"stylesheet\" href=\"/css/prism-tomorrow.css\" type=\"text/css\"></head>\n\n\n<body>\n\n<header class=\"navbar-fixed\">\n    <nav id=\"headNav\" class=\"bg-color nav-transparent\">\n        <div id=\"navContainer\" class=\"nav-wrapper container\">\n            <div class=\"brand-logo\">\n                <a href=\"/\" class=\"waves-effect waves-light\">\n                    \n                    <img src=\"/medias/logo.png\" class=\"logo-img\" alt=\"LOGO\">\n                    \n                    <span class=\"logo-span\"></span>\n                </a>\n            </div>\n            \n\n<a href=\"#\" data-target=\"mobile-nav\" class=\"sidenav-trigger button-collapse\"><i class=\"fa fa-navicon\"></i></a>\n<ul class=\"right\">\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-home\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/tags\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-tags\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/categories\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-bookmark\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/archives\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-archive\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/about\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-user-circle-o\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/friends\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-address-book\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li>\n        <a href=\"#searchModal\" class=\"modal-trigger waves-effect waves-light\">\n            <i id=\"searchIcon\" class=\"fa fa-search\" title=\"\"></i>\n        </a>\n    </li>\n</ul>\n\n<div id=\"mobile-nav\" class=\"side-nav sidenav\">\n\n    <div class=\"mobile-head bg-color\">\n        \n        <img src=\"/medias/logo.png\" class=\"logo-img circle responsive-img\">\n        \n        <div class=\"logo-name\"></div>\n        <div class=\"logo-desc\">\n            \n            \n            \n        </div>\n    </div>\n\n    \n\n    <ul class=\"menu-list mobile-menu-list\">\n        \n        <li>\n            <a href=\"/\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-home\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/tags\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-tags\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/categories\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-bookmark\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/archives\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-archive\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/about\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-user-circle-o\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/friends\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-address-book\"></i>\n                \n                \n            </a>\n        </li>\n        \n        \n        <li><div class=\"divider\"></div></li>\n        <li>\n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"waves-effect waves-light\" target=\"_blank\">\n                <i class=\"fa fa-github-square fa-fw\"></i>Fork Me\n            </a>\n        </li>\n        \n    </ul>\n</div>\n\n        </div>\n\n        \n            <style>\n    .nav-transparent .github-corner {\n        display: none !important;\n    }\n\n    .github-corner {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        right: 0;\n        border: 0;\n        transform: scale(1.1);\n    }\n\n    .github-corner svg {\n        color: #0f9d58;\n        fill: #fff;\n        height: 64px;\n        width: 64px;\n    }\n\n    .github-corner:hover .octo-arm {\n        animation: a 0.56s ease-in-out;\n    }\n\n    .github-corner .octo-arm {\n        animation: none;\n    }\n\n    @keyframes a {\n        0%,\n        to {\n            transform: rotate(0);\n        }\n        20%,\n        60% {\n            transform: rotate(-25deg);\n        }\n        40%,\n        80% {\n            transform: rotate(10deg);\n        }\n    }\n</style>\n\n<a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"github-corner tooltipped hide-on-med-and-down\" target=\"_blank\" data-tooltip=\"Fork Me\" data-position=\"left\" data-delay=\"50\">\n    <svg viewbox=\"0 0 250 250\" aria-hidden=\"true\">\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"/>\n        <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"/>\n        <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"/>\n    </svg>\n</a>\n        \n    </nav>\n\n</header>\n\n<style type=\"text/css\">\n    /* don't remove. */\n    .about-cover {\n        height: 75vh;\n    }\n</style>\n\n<div class=\"bg-cover pd-header about-cover\">\n    <div class=\"container\">\n    <div class=\"row\">\n    <div class=\"col s10 offset-s1 m8 offset-m2 l8 offset-l2\">\n        <div class=\"brand\">\n            <div class=\"title center-align\">\n                \n                    \n                \n            </div>\n\n            <div class=\"description center-align\">\n                \n                    \n                \n            </div>\n        </div>\n    </div>\n</div>\n<script>\n//  banner .  Switch banner image every day.\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n</script>\n    </div>\n</div>\n\n<main class=\"content\">\n\n    <div id=\"aboutme\" class=\"container about-container\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <div class=\"row\">\n                    <div class=\"post-statis col l4 hide-on-med-and-down\" data-aos=\"zoom-in-right\">\n                        \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                    </div>\n                    <div class=\"col s12 m12 l4\">\n                        <div class=\"profile center-align\">\n                            <div class=\"avatar\">\n                                <img src=\"/medias/avatar.jpg\" alt=\"blinkfox\" class=\"circle responsive-img avatar-img\">\n                            </div>\n                            <div class=\"author\">\n                                <div class=\"post-statis hide-on-large-only\" data-aos=\"zoom-in-right\">\n                                    \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                                </div>\n                                <div class=\"title\">blinkfox</div>\n                                <div class=\"career\"></div>\n                                <div class=\"social-link hide-on-large-only\" data-aos=\"zoom-in-left\">\n                                    \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col l4 hide-on-med-and-down\" data-aos=\"zoom-in-left\">\n                        <div class=\"social-link\">\n                            \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"introduction center-align\" data-aos=\"fade-up\"></div>\n\n                <style type=\"text/css\">\n    #posts-chart,\n    #categories-chart,\n    #tags-chart {\n        width: 100%;\n        height: 300px;\n        margin: 0.5rem auto;\n        padding: 0.5rem;\n    }\n</style>\n\n<div id=\"postCharts\" class=\"post-charts\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-bar-chart\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"posts-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"categories-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"tags-chart\"></div>\n        </div>\n    </div>\n</div>\n\n<script type=\"text/javascript\" src=\"/libs/echarts/echarts.min.js\"></script>\n<script>\n    let postsChart = echarts.init(document.getElementById('posts-chart'));\n    let categoriesChart = echarts.init(document.getElementById('categories-chart'));\n    let tagsChart = echarts.init(document.getElementById('tags-chart'));\n\n    \n\n    let postsOption = {\n        title: {\n            text: '',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'axis'\n        },\n        xAxis: {\n            type: 'category',\n            data: [\"2018-03\",\"2018-04\",\"2018-05\",\"2018-06\",\"2018-07\",\"2018-08\",\"2018-09\",\"2018-10\",\"2018-11\",\"2018-12\",\"2019-01\",\"2019-02\",\"2019-03\"]\n        },\n        yAxis: {\n            type: 'value',\n        },\n        series: [\n            {\n                name: '',\n                type: 'line',\n                color: ['#6772e5'],\n                data: [0,0,0,0,0,0,18,21,14,2,1,1,1],\n                markPoint: {\n                    symbolSize: 45,\n                    color: ['#fa755a','#3ecf8e','#82d3f4'],\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }]\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    \n\n    let categoriesOption = {\n        title: {\n            text: '',\n            top: -4,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        series: [\n            {\n                name: '',\n                type: 'pie',\n                radius: '50%',\n                color: ['#6772e5', '#ff9e0f', '#fa755a', '#3ecf8e', '#82d3f4', '#ab47bc', '#525f7f', '#f51c47', '#26A69A'],\n                data: [{\"name\":\"\",\"value\":6},{\"name\":\"\",\"value\":3},{\"name\":\"\",\"value\":16},{\"name\":\"\",\"value\":1},{\"name\":\"\",\"value\":8},{\"name\":\"\",\"value\":24}],\n                itemStyle: {\n                    emphasis: {\n                        shadowBlur: 10,\n                        shadowOffsetX: 0,\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\n                    }\n                }\n            }\n        ]\n    };\n\n    \n\n    let tagsOption = {\n        title: {\n            text: 'TOP10 ',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {},\n        xAxis: [\n            {\n                type: 'category',\n                data: [\"Java\",\"\",\"JavaScript\",\"Linux\",\"Apache\",\"\",\"Hexo\",\"UML\",\"MVEL\",\"\"]\n            }\n        ],\n        yAxis: [\n            {\n                type: 'value'\n            }\n        ],\n        series: [\n            {\n                type: 'bar',\n                color: ['#82d3f4'],\n                barWidth : 18,\n                data: [42,14,4,4,4,3,2,2,2,2],\n                markPoint: {\n                    symbolSize: 45,\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }],\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    // render the charts\n    postsChart.setOption(postsOption);\n    categoriesChart.setOption(categoriesOption);\n    tagsChart.setOption(tagsOption);\n</script>\n\n                \n                \n<div class=\"my-projects\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-gift\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"http://github.com/blinkfox/hexo-theme-matery\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #66BB6A 0%, #81C784 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-meetup\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"http://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>\n                </div>\n                <div class=\"info-desc\"> Material Design  Hexo </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/zealot\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #F06292 0%, #EF5350 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-database\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/zealot\" target=\"_blank\">zealt</a>\n                </div>\n                <div class=\"info-desc\"> SQL </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/typora-vue-theme\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-file-text-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/typora-vue-theme\" target=\"_blank\">typora-vue-theme</a>\n                </div>\n                <div class=\"info-desc\"> Typora Markdown  Vue </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/adept\" class=\"icon\" style=\"background: linear-gradient(135deg, #ffeb3b 0%, #ff9900 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-compress\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/adept\" target=\"_blank\">adept</a>\n                </div>\n                <div class=\"info-desc\"> JDBC  DAO </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/stalker\" class=\"icon\" style=\"background: linear-gradient(135deg, #e079fc 0%, #7c44ff 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-snowflake-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/stalker\" target=\"_blank\">stalker</a>\n                </div>\n                <div class=\"info-desc\"> Java </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/mini-table\" class=\"icon\" style=\"background: linear-gradient(135deg, #309286 0%, #32dbc6 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-table\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/mini-table\" target=\"_blank\">mini-table</a>\n                </div>\n                <div class=\"info-desc\"> Java ASCII </div>\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n                \n\n                \n                \n<div class=\"my-skills\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-wrench\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FF0066 0%, #FF00CC 100%); width: 90%\">\n                    <span>Java</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #9900FF 0%, #CC66FF 100%); width: 80%\">\n                    <span>JavaScript</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #2196F3 0%, #42A5F5 100%); width: 80%\">\n                    <span>HTML5</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #00BCD4 0%, #80DEEA 100%); width: 70%\">\n                    <span>CSS</span>\n                </div>\n                <div class=\"skill-bar-percent\">70%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #4CAF50 0%, #81C784 100%); width: 90%\">\n                    <span>SQL</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FFEB3B 0%, #FFF176 100%); width: 80%\">\n                    <span></span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n    </div>\n\n    \n\n    \n    <div class=\"other-skills chip-container\" data-aos=\"zoom-in-up\">\n        <div class=\"sub-title center-align\"><i class=\"fa fa-book\"></i>&nbsp;&nbsp;</div>\n        <div class=\"tag-chips center-align\">\n            \n            \n            <a href=\"/tags/Hexo/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Hexo</span>\n            </a>\n            \n            \n            \n            \n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/UML/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">UML</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/PostgreSQL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">PostgreSQL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/CPU/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">CPU</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/hexo-theme-matery/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">hexo-theme-matery</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/MVEL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">MVEL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Linux/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Linux</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Typora/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Typora</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Markdown/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Markdown</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Vue/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Vue</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Google/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Google</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Spring/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Spring</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/SpringBoot/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">SpringBoot</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Git/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Git</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Apache/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Apache</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/GitLab-CI/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">GitLab CI</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/DevOps/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">DevOps</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Jenkins/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Jenkins</span>\n            </a>\n            \n            \n        </div>\n    </div>\n    \n\n</div>\n                \n\n                \n                \n<div id=\"myGallery\" class=\"my-gallery\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-photo\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/0.jpg\">\n                <img src=\"/medias/featureimages/0.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/1.jpg\">\n                <img src=\"/medias/featureimages/1.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/2.jpg\">\n                <img src=\"/medias/featureimages/2.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n\n<script>\n    $(function () {\n        let animateClass = 'animated pulse';\n        $('#myGallery .photo').hover(function () {\n            $(this).addClass(animateClass);\n        }, function () {\n            $(this).removeClass(animateClass);\n        });\n    });\n</script>\n                \n\n            </div>\n        </div>\n    </div>\n</main>\n<footer class=\"page-footer bg-color\">\n    <div class=\"container row center-align\">\n        <div class=\"col s12 m8 l8 copy-right\">\n            &copy;<a href=\"https://blinkfox.github.io/\" target=\"_blank\">Blinkfox</a>\n            <a href=\"https://hexo.io/\" target=\"_blank\">Hexo</a> \n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>.\n\n            \n                &nbsp;<i class=\"fa fa-area-chart\"></i>&nbsp;:&nbsp;\n                <span class=\"white-color\">192.6k</span>\n            \n\n            \n\t\t\t\n                <br>\n                \n                <span id=\"busuanzi_container_site_pv\">\n                    <i class=\"fa fa-heart-o\"></i>\n                     <span id=\"busuanzi_value_site_pv\" class=\"white-color\"></span>\n                </span>\n                \n                \n                <span id=\"busuanzi_container_site_uv\">\n                    <i class=\"fa fa-users\"></i>\n                    ,&nbsp; <span id=\"busuanzi_value_site_uv\" class=\"white-color\"></span> .\n                </span>\n                \n            \n        </div>\n        <div class=\"col s12 m4 l4 social-link social-statis\">\n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n</div>\n    </div>\n</footer>\n\n<div class=\"progress-bar\"></div>\n\n\n<!--  -->\n<div id=\"searchModal\" class=\"modal\">\n    <div class=\"modal-content\">\n        <div class=\"search-header\">\n            <span class=\"title\"><i class=\"fa fa-search\"></i>&nbsp;&nbsp;</span>\n            <input type=\"search\" id=\"searchInput\" name=\"s\" placeholder=\"\" class=\"search-input\">\n        </div>\n        <div id=\"searchResult\"></div>\n    </div>\n</div>\n\n<script src=\"/js/search.js\"></script>\n<script type=\"text/javascript\">\n$(function () {\n    searchFunc(\"/\" + \"search.xml\", 'searchInput', 'searchResult');\n});\n</script>\n<!--  -->\n<div id=\"backTop\" class=\"top-scroll\">\n    <a class=\"btn-floating btn-large waves-effect waves-light\" href=\"#!\">\n        <i class=\"fa fa-angle-up\"></i>\n    </a>\n</div>\n\n\n<script src=\"/libs/materialize/materialize.min.js\"></script>\n<script src=\"/libs/masonry/masonry.pkgd.min.js\"></script>\n<script src=\"/libs/aos/aos.js\"></script>\n<script src=\"/libs/scrollprogress/scrollProgress.min.js\"></script>\n<script src=\"/libs/lightGallery/js/lightgallery-all.min.js\"></script>\n<script src=\"/js/matery.js\"></script>\n\n<!-- Global site tag (gtag.js) - Google Analytics -->\n\n\n\n    <script src=\"/libs/others/clicklove.js\"></script>\n\n\n    <script async src=\"/libs/others/busuanzi.pure.mini.js\"></script>\n\n\n<script src=\"/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05\"></script><script>L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"debug\":false,\"model\":{\"jsonPath\":\"/live2dw/assets/koharu.model.json\"},\"display\":{\"position\":\"left\",\"width\":250,\"height\":500},\"mobile\":{\"show\":false},\"react\":{\"opacity\":0.7},\"log\":false});</script></body>\n</html>","site":{"data":{}},"length":15354,"excerpt":"","more":"<!DOCTYPE HTML>\n<html lang=\"zh-CN\">\n\n\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n    <meta charset=\"utf-8\">\n    <meta name=\"keywords\" content=\", , Blinkfox\">\n    <meta name=\"description\" content=\" | \">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">\n    <meta name=\"renderer\" content=\"webkit|ie-stand|ie-comp\">\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <title> | </title>\n    <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\">\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/awesome/css/font-awesome.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/materialize/materialize.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/aos/aos.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/animate/animate.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/libs/lightGallery/css/lightgallery.min.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/matery.css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/my.css\">\n    <style type=\"text/css\">\n        \n        code[class*=\"language-\"], pre[class*=\"language-\"] {\n            white-space: pre !important;\n        }\n        \n    </style>\n\n    <script src=\"/libs/jquery/jquery-2.2.0.min.js\"></script>\n<link rel=\"stylesheet\" href=\"/css/prism-tomorrow.css\" type=\"text/css\"></head>\n\n\n<body>\n\n<header class=\"navbar-fixed\">\n    <nav id=\"headNav\" class=\"bg-color nav-transparent\">\n        <div id=\"navContainer\" class=\"nav-wrapper container\">\n            <div class=\"brand-logo\">\n                <a href=\"/\" class=\"waves-effect waves-light\">\n                    \n                    <img src=\"/medias/logo.png\" class=\"logo-img\" alt=\"LOGO\">\n                    \n                    <span class=\"logo-span\"></span>\n                </a>\n            </div>\n            \n\n<a href=\"#\" data-target=\"mobile-nav\" class=\"sidenav-trigger button-collapse\"><i class=\"fa fa-navicon\"></i></a>\n<ul class=\"right\">\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-home\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/tags\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-tags\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/categories\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-bookmark\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/archives\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-archive\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/about\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-user-circle-o\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li class=\"hide-on-med-and-down\">\n        <a href=\"/friends\" class=\"waves-effect waves-light\">\n            \n            <i class=\"fa fa-address-book\"></i>\n            \n            <span></span>\n        </a>\n    </li>\n    \n    <li>\n        <a href=\"#searchModal\" class=\"modal-trigger waves-effect waves-light\">\n            <i id=\"searchIcon\" class=\"fa fa-search\" title=\"\"></i>\n        </a>\n    </li>\n</ul>\n\n<div id=\"mobile-nav\" class=\"side-nav sidenav\">\n\n    <div class=\"mobile-head bg-color\">\n        \n        <img src=\"/medias/logo.png\" class=\"logo-img circle responsive-img\">\n        \n        <div class=\"logo-name\"></div>\n        <div class=\"logo-desc\">\n            \n            \n            \n        </div>\n    </div>\n\n    \n\n    <ul class=\"menu-list mobile-menu-list\">\n        \n        <li>\n            <a href=\"/\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-home\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/tags\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-tags\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/categories\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-bookmark\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/archives\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-archive\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/about\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-user-circle-o\"></i>\n                \n                \n            </a>\n        </li>\n        \n        <li>\n            <a href=\"/friends\" class=\"waves-effect waves-light\">\n                \n                <i class=\"fa fa-fw fa-address-book\"></i>\n                \n                \n            </a>\n        </li>\n        \n        \n        <li><div class=\"divider\"></div></li>\n        <li>\n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"waves-effect waves-light\" target=\"_blank\">\n                <i class=\"fa fa-github-square fa-fw\"></i>Fork Me\n            </a>\n        </li>\n        \n    </ul>\n</div>\n\n        </div>\n\n        \n            <style>\n    .nav-transparent .github-corner {\n        display: none !important;\n    }\n\n    .github-corner {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        right: 0;\n        border: 0;\n        transform: scale(1.1);\n    }\n\n    .github-corner svg {\n        color: #0f9d58;\n        fill: #fff;\n        height: 64px;\n        width: 64px;\n    }\n\n    .github-corner:hover .octo-arm {\n        animation: a 0.56s ease-in-out;\n    }\n\n    .github-corner .octo-arm {\n        animation: none;\n    }\n\n    @keyframes a {\n        0%,\n        to {\n            transform: rotate(0);\n        }\n        20%,\n        60% {\n            transform: rotate(-25deg);\n        }\n        40%,\n        80% {\n            transform: rotate(10deg);\n        }\n    }\n</style>\n\n<a href=\"https://github.com/blinkfox/hexo-theme-matery\" class=\"github-corner tooltipped hide-on-med-and-down\" target=\"_blank\" data-tooltip=\"Fork Me\" data-position=\"left\" data-delay=\"50\">\n    <svg viewbox=\"0 0 250 250\" aria-hidden=\"true\">\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"/>\n        <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"/>\n        <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"/>\n    </svg>\n</a>\n        \n    </nav>\n\n</header>\n\n<style type=\"text/css\">\n    /* don't remove. */\n    .about-cover {\n        height: 75vh;\n    }\n</style>\n\n<div class=\"bg-cover pd-header about-cover\">\n    <div class=\"container\">\n    <div class=\"row\">\n    <div class=\"col s10 offset-s1 m8 offset-m2 l8 offset-l2\">\n        <div class=\"brand\">\n            <div class=\"title center-align\">\n                \n                    \n                \n            </div>\n\n            <div class=\"description center-align\">\n                \n                    \n                \n            </div>\n        </div>\n    </div>\n</div>\n<script>\n//  banner .  Switch banner image every day.\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n</script>\n    </div>\n</div>\n\n<main class=\"content\">\n\n    <div id=\"aboutme\" class=\"container about-container\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <div class=\"row\">\n                    <div class=\"post-statis col l4 hide-on-med-and-down\" data-aos=\"zoom-in-right\">\n                        \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                    </div>\n                    <div class=\"col s12 m12 l4\">\n                        <div class=\"profile center-align\">\n                            <div class=\"avatar\">\n                                <img src=\"/medias/avatar.jpg\" alt=\"blinkfox\" class=\"circle responsive-img avatar-img\">\n                            </div>\n                            <div class=\"author\">\n                                <div class=\"post-statis hide-on-large-only\" data-aos=\"zoom-in-right\">\n                                    \n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/\" target=\"_blank\">58</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/categories\" target=\"_blank\">6</a></span>\n    <span class=\"name\"></span>\n</div>\n\n\n\n<div class=\"statis\">\n    <span class=\"count\"><a href=\"/tags\" target=\"_blank\">29</a></span>\n    <span class=\"name\"></span>\n</div>\n\n                                </div>\n                                <div class=\"title\">blinkfox</div>\n                                <div class=\"career\"></div>\n                                <div class=\"social-link hide-on-large-only\" data-aos=\"zoom-in-left\">\n                                    \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col l4 hide-on-med-and-down\" data-aos=\"zoom-in-left\">\n                        <div class=\"social-link\">\n                            \n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"introduction center-align\" data-aos=\"fade-up\"></div>\n\n                <style type=\"text/css\">\n    #posts-chart,\n    #categories-chart,\n    #tags-chart {\n        width: 100%;\n        height: 300px;\n        margin: 0.5rem auto;\n        padding: 0.5rem;\n    }\n</style>\n\n<div id=\"postCharts\" class=\"post-charts\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-bar-chart\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"posts-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"categories-chart\"></div>\n        </div>\n\n        <div class=\"chart col s12 m6 l4\" data-aos=\"zoom-in-up\">\n            <div id=\"tags-chart\"></div>\n        </div>\n    </div>\n</div>\n\n<script type=\"text/javascript\" src=\"/libs/echarts/echarts.min.js\"></script>\n<script>\n    let postsChart = echarts.init(document.getElementById('posts-chart'));\n    let categoriesChart = echarts.init(document.getElementById('categories-chart'));\n    let tagsChart = echarts.init(document.getElementById('tags-chart'));\n\n    \n\n    let postsOption = {\n        title: {\n            text: '',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'axis'\n        },\n        xAxis: {\n            type: 'category',\n            data: [\"2018-03\",\"2018-04\",\"2018-05\",\"2018-06\",\"2018-07\",\"2018-08\",\"2018-09\",\"2018-10\",\"2018-11\",\"2018-12\",\"2019-01\",\"2019-02\",\"2019-03\"]\n        },\n        yAxis: {\n            type: 'value',\n        },\n        series: [\n            {\n                name: '',\n                type: 'line',\n                color: ['#6772e5'],\n                data: [0,0,0,0,0,0,18,21,14,2,1,1,1],\n                markPoint: {\n                    symbolSize: 45,\n                    color: ['#fa755a','#3ecf8e','#82d3f4'],\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }]\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    \n\n    let categoriesOption = {\n        title: {\n            text: '',\n            top: -4,\n            x: 'center'\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        series: [\n            {\n                name: '',\n                type: 'pie',\n                radius: '50%',\n                color: ['#6772e5', '#ff9e0f', '#fa755a', '#3ecf8e', '#82d3f4', '#ab47bc', '#525f7f', '#f51c47', '#26A69A'],\n                data: [{\"name\":\"\",\"value\":6},{\"name\":\"\",\"value\":3},{\"name\":\"\",\"value\":16},{\"name\":\"\",\"value\":1},{\"name\":\"\",\"value\":8},{\"name\":\"\",\"value\":24}],\n                itemStyle: {\n                    emphasis: {\n                        shadowBlur: 10,\n                        shadowOffsetX: 0,\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\n                    }\n                }\n            }\n        ]\n    };\n\n    \n\n    let tagsOption = {\n        title: {\n            text: 'TOP10 ',\n            top: -5,\n            x: 'center'\n        },\n        tooltip: {},\n        xAxis: [\n            {\n                type: 'category',\n                data: [\"Java\",\"\",\"JavaScript\",\"Linux\",\"Apache\",\"\",\"Hexo\",\"UML\",\"MVEL\",\"\"]\n            }\n        ],\n        yAxis: [\n            {\n                type: 'value'\n            }\n        ],\n        series: [\n            {\n                type: 'bar',\n                color: ['#82d3f4'],\n                barWidth : 18,\n                data: [42,14,4,4,4,3,2,2,2,2],\n                markPoint: {\n                    symbolSize: 45,\n                    data: [{\n                        type: 'max',\n                        itemStyle: {color: ['#3ecf8e']},\n                        name: ''\n                    }, {\n                        type: 'min',\n                        itemStyle: {color: ['#fa755a']},\n                        name: ''\n                    }],\n                },\n                markLine: {\n                    itemStyle: {color: ['#ab47bc']},\n                    data: [\n                        {type: 'average', name: ''}\n                    ]\n                }\n            }\n        ]\n    };\n\n    // render the charts\n    postsChart.setOption(postsOption);\n    categoriesChart.setOption(categoriesOption);\n    tagsChart.setOption(tagsOption);\n</script>\n\n                \n                \n<div class=\"my-projects\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-gift\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"http://github.com/blinkfox/hexo-theme-matery\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #66BB6A 0%, #81C784 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-meetup\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"http://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>\n                </div>\n                <div class=\"info-desc\"> Material Design  Hexo </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/zealot\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #F06292 0%, #EF5350 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-database\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/zealot\" target=\"_blank\">zealt</a>\n                </div>\n                <div class=\"info-desc\"> SQL </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/typora-vue-theme\" class=\"icon\" style=\"background: linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-file-text-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/typora-vue-theme\" target=\"_blank\">typora-vue-theme</a>\n                </div>\n                <div class=\"info-desc\"> Typora Markdown  Vue </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/adept\" class=\"icon\" style=\"background: linear-gradient(135deg, #ffeb3b 0%, #ff9900 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-compress\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/adept\" target=\"_blank\">adept</a>\n                </div>\n                <div class=\"info-desc\"> JDBC  DAO </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/stalker\" class=\"icon\" style=\"background: linear-gradient(135deg, #e079fc 0%, #7c44ff 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-snowflake-o\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/stalker\" target=\"_blank\">stalker</a>\n                </div>\n                <div class=\"info-desc\"> Java </div>\n            </div>\n        </div>\n        \n        <div class=\"col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"info center-align\">\n                <a href=\"https://github.com/blinkfox/mini-table\" class=\"icon\" style=\"background: linear-gradient(135deg, #309286 0%, #32dbc6 100%)\" target=\"_blank\">\n                    <i class=\"fa fa-table\"></i>\n                </a>\n                <div class=\"info-title\">\n                    <a href=\"https://github.com/blinkfox/mini-table\" target=\"_blank\">mini-table</a>\n                </div>\n                <div class=\"info-desc\"> Java ASCII </div>\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n                \n\n                \n                \n<div class=\"my-skills\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-wrench\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FF0066 0%, #FF00CC 100%); width: 90%\">\n                    <span>Java</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #9900FF 0%, #CC66FF 100%); width: 80%\">\n                    <span>JavaScript</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #2196F3 0%, #42A5F5 100%); width: 80%\">\n                    <span>HTML5</span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #00BCD4 0%, #80DEEA 100%); width: 70%\">\n                    <span>CSS</span>\n                </div>\n                <div class=\"skill-bar-percent\">70%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #4CAF50 0%, #81C784 100%); width: 90%\">\n                    <span>SQL</span>\n                </div>\n                <div class=\"skill-bar-percent\">90%</div>\n            </div>\n        </div>\n        \n        \n        <div class=\"col s12 m6 l6\" data-aos=\"fade-up\">\n            <div class=\"skillbar\">\n                <div class=\"skillbar-title\" style=\"background: linear-gradient(to right, #FFEB3B 0%, #FFF176 100%); width: 80%\">\n                    <span></span>\n                </div>\n                <div class=\"skill-bar-percent\">80%</div>\n            </div>\n        </div>\n        \n        \n    </div>\n\n    \n\n    \n    <div class=\"other-skills chip-container\" data-aos=\"zoom-in-up\">\n        <div class=\"sub-title center-align\"><i class=\"fa fa-book\"></i>&nbsp;&nbsp;</div>\n        <div class=\"tag-chips center-align\">\n            \n            \n            <a href=\"/tags/Hexo/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Hexo</span>\n            </a>\n            \n            \n            \n            \n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/UML/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">UML</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/PostgreSQL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">PostgreSQL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/CPU/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">CPU</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/hexo-theme-matery/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">hexo-theme-matery</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/MVEL/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">MVEL</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Linux/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Linux</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Typora/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Typora</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Markdown/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Markdown</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Vue/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Vue</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Google/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Google</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags//\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\"></span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Spring/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Spring</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/SpringBoot/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">SpringBoot</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Git/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Git</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Apache/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Apache</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/GitLab-CI/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">GitLab CI</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/DevOps/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">DevOps</span>\n            </a>\n            \n            \n            \n            <a href=\"/tags/Jenkins/\" target=\"_blank\">\n                <span class=\"chip center-align waves-effect waves-light chip-default\">Jenkins</span>\n            </a>\n            \n            \n        </div>\n    </div>\n    \n\n</div>\n                \n\n                \n                \n<div id=\"myGallery\" class=\"my-gallery\">\n    <div class=\"title center-align\" data-aos=\"zoom-in-up\">\n        <i class=\"fa fa-photo\"></i>&nbsp;&nbsp;\n    </div>\n    <div class=\"row\">\n        \n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/0.jpg\">\n                <img src=\"/medias/featureimages/0.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/1.jpg\">\n                <img src=\"/medias/featureimages/1.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        <div class=\"photo col s12 m6 l4\" data-aos=\"fade-up\">\n            <div class=\"img-item\" data-src=\"/medias/featureimages/2.jpg\">\n                <img src=\"/medias/featureimages/2.jpg\" class=\"responsive-img\">\n            </div>\n        </div>\n        \n        \n    </div>\n</div>\n\n<script>\n    $(function () {\n        let animateClass = 'animated pulse';\n        $('#myGallery .photo').hover(function () {\n            $(this).addClass(animateClass);\n        }, function () {\n            $(this).removeClass(animateClass);\n        });\n    });\n</script>\n                \n\n            </div>\n        </div>\n    </div>\n</main>\n<footer class=\"page-footer bg-color\">\n    <div class=\"container row center-align\">\n        <div class=\"col s12 m8 l8 copy-right\">\n            &copy;<a href=\"https://blinkfox.github.io/\" target=\"_blank\">Blinkfox</a>\n            <a href=\"https://hexo.io/\" target=\"_blank\">Hexo</a> \n            <a href=\"https://github.com/blinkfox/hexo-theme-matery\" target=\"_blank\">hexo-theme-matery</a>.\n\n            \n                &nbsp;<i class=\"fa fa-area-chart\"></i>&nbsp;:&nbsp;\n                <span class=\"white-color\">192.6k</span>\n            \n\n            \n\t\t\t\n                <br>\n                \n                <span id=\"busuanzi_container_site_pv\">\n                    <i class=\"fa fa-heart-o\"></i>\n                     <span id=\"busuanzi_value_site_pv\" class=\"white-color\"></span>\n                </span>\n                \n                \n                <span id=\"busuanzi_container_site_uv\">\n                    <i class=\"fa fa-users\"></i>\n                    ,&nbsp; <span id=\"busuanzi_value_site_uv\" class=\"white-color\"></span> .\n                </span>\n                \n            \n        </div>\n        <div class=\"col s12 m4 l4 social-link social-statis\">\n    <a href=\"https://github.com/blinkfox/\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-github\"></i>\n    </a>\n\n\n\n    <a href=\"mailto:chenjiayin1990@163.com\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-envelope-open\"></i>\n    </a>\n\n\n\n    <a href=\"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873\" class=\"tooltipped\" data-tooltip=\"QQ: 1181062873\" data-position=\"top\" data-delay=\"50\" target=\"_blank\" rel=\"noopener\">\n        <i class=\"fa fa-qq\"></i>\n    </a>\n\n\n\n    <a href=\"/atom.xml\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"RSS \" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fa fa-rss\"></i>\n    </a>\n</div>\n    </div>\n</footer>\n\n<div class=\"progress-bar\"></div>\n\n\n<!--  -->\n<div id=\"searchModal\" class=\"modal\">\n    <div class=\"modal-content\">\n        <div class=\"search-header\">\n            <span class=\"title\"><i class=\"fa fa-search\"></i>&nbsp;&nbsp;</span>\n            <input type=\"search\" id=\"searchInput\" name=\"s\" placeholder=\"\" class=\"search-input\">\n        </div>\n        <div id=\"searchResult\"></div>\n    </div>\n</div>\n\n<script src=\"/js/search.js\"></script>\n<script type=\"text/javascript\">\n$(function () {\n    searchFunc(\"/\" + \"search.xml\", 'searchInput', 'searchResult');\n});\n</script>\n<!--  -->\n<div id=\"backTop\" class=\"top-scroll\">\n    <a class=\"btn-floating btn-large waves-effect waves-light\" href=\"#!\">\n        <i class=\"fa fa-angle-up\"></i>\n    </a>\n</div>\n\n\n<script src=\"/libs/materialize/materialize.min.js\"></script>\n<script src=\"/libs/masonry/masonry.pkgd.min.js\"></script>\n<script src=\"/libs/aos/aos.js\"></script>\n<script src=\"/libs/scrollprogress/scrollProgress.min.js\"></script>\n<script src=\"/libs/lightGallery/js/lightgallery-all.min.js\"></script>\n<script src=\"/js/matery.js\"></script>\n\n<!-- Global site tag (gtag.js) - Google Analytics -->\n\n\n\n    <script src=\"/libs/others/clicklove.js\"></script>\n\n\n    <script async src=\"/libs/others/busuanzi.pure.mini.js\"></script>\n\n\n<script src=\"/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05\"></script><script>L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"debug\":false,\"model\":{\"jsonPath\":\"/live2dw/assets/koharu.model.json\"},\"display\":{\"position\":\"left\",\"width\":250,\"height\":500},\"mobile\":{\"show\":false},\"react\":{\"opacity\":0.7},\"log\":false});</script></body>\n</html>"}],"Post":[{"layout":"post","title":"ECS465","author":"Pyker","img":"/images/bar/aliyun.jpg","top":false,"cover":false,"date":"2018-03-25T14:32:00.000Z","_content":"### \nECS252525\n465\n\n### \n* \n\n\t  [root@PLAY ~]# mkdir -p /root/.certs/\n\t  [root@PLAY ~]# echo -n | openssl s_client -connect smtp.126.com:465 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > ~/.certs/126.crt\n\t  depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA\n\t  verify return:1\n\t  depth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = GeoTrust RSA CA 2018\n\t  verify return:1\n\t  depth=0 C = CN, L = Hangzhou, O = \"NetEase (Hangzhou) Network Co., Ltd\", OU = Mail Dept., CN = *.126.com\n\t  verify return:1\n\t  DONE\n> `smtp.126.com:465` `126.com` `126.crt` \n\n* \n\n\t  [root@PLAY ~]# certutil -A -n \"GeoTrust SSL CA\" -t \"C,,\" -d ~/.certs -i ~/.certs/126.crt\n\t  [root@PLAY ~]# certutil -A -n \"GeoTrust Global CA\" -t \"C,,\" -d ~/.certs -i ~/.certs/126.crt\n\t \n* \n\n\t  [root@PLAY ~]# certutil -L -d /root/.certs\n\t  Certificate Nickname Trust Attributes\n\t  SSL,S/MIME,JAR/XPI\n\t  GeoTrust SSL CA C,,\n### 126\n`POP3/SMTP/IMAP` \n![](/images/pic/shouquanma.png)\n\n### /etc/mail.rc\n/etc/mail.rc\n```\nset bsdcompat\nset from=test_wly@126.com\nset smtp=\"smtps://smtp.126.com:465\"\nset smtp-auth-user=test_wly@126.com\nset smtp-auth-password=73jdi9dw7j3gc8gf1xvak01fss\nset smtp-auth=login\nset ssl-verify=ignore\nset nss-config-dir=/root/.certs\n```\n\n### \n```\n[root@PLAY ~]# echo \"test mail\" | mail -s \"nagios report\" test_wly@126.com\n```\n>test_wly@126.com\n\n\n`Error in certificate: Peer's certificate issuer is not recognized.` \n\n```\n[root@PLAY ~]# cd /root/.certs/\n[root@PLAY .certs]# certutil -A -n \"GeoTrust SSL CA - G3\" -t \"Pu,Pu,Pu\" -d ./ -i 126.crt \nNotice: Trust flag u is set automatically if the private key is present.\n```","source":"_posts/aliyun-ecs-mail.md","raw":"layout: post\ntitle: ECS465\nauthor: Pyker\ncategories: Linux\nimg: /images/bar/aliyun.jpg\ntags:\n  - aliyun\ntop: false\ncover: false\ndate: 2018-03-25 22:32:00\n---\n### \nECS252525\n465\n\n### \n* \n\n\t  [root@PLAY ~]# mkdir -p /root/.certs/\n\t  [root@PLAY ~]# echo -n | openssl s_client -connect smtp.126.com:465 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > ~/.certs/126.crt\n\t  depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA\n\t  verify return:1\n\t  depth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = GeoTrust RSA CA 2018\n\t  verify return:1\n\t  depth=0 C = CN, L = Hangzhou, O = \"NetEase (Hangzhou) Network Co., Ltd\", OU = Mail Dept., CN = *.126.com\n\t  verify return:1\n\t  DONE\n> `smtp.126.com:465` `126.com` `126.crt` \n\n* \n\n\t  [root@PLAY ~]# certutil -A -n \"GeoTrust SSL CA\" -t \"C,,\" -d ~/.certs -i ~/.certs/126.crt\n\t  [root@PLAY ~]# certutil -A -n \"GeoTrust Global CA\" -t \"C,,\" -d ~/.certs -i ~/.certs/126.crt\n\t \n* \n\n\t  [root@PLAY ~]# certutil -L -d /root/.certs\n\t  Certificate Nickname Trust Attributes\n\t  SSL,S/MIME,JAR/XPI\n\t  GeoTrust SSL CA C,,\n### 126\n`POP3/SMTP/IMAP` \n![](/images/pic/shouquanma.png)\n\n### /etc/mail.rc\n/etc/mail.rc\n```\nset bsdcompat\nset from=test_wly@126.com\nset smtp=\"smtps://smtp.126.com:465\"\nset smtp-auth-user=test_wly@126.com\nset smtp-auth-password=73jdi9dw7j3gc8gf1xvak01fss\nset smtp-auth=login\nset ssl-verify=ignore\nset nss-config-dir=/root/.certs\n```\n\n### \n```\n[root@PLAY ~]# echo \"test mail\" | mail -s \"nagios report\" test_wly@126.com\n```\n>test_wly@126.com\n\n\n`Error in certificate: Peer's certificate issuer is not recognized.` \n\n```\n[root@PLAY ~]# cd /root/.certs/\n[root@PLAY .certs]# certutil -A -n \"GeoTrust SSL CA - G3\" -t \"Pu,Pu,Pu\" -d ./ -i 126.crt \nNotice: Trust flag u is set automatically if the private key is present.\n```","slug":"aliyun-ecs-mail","published":1,"updated":"2019-05-23T18:35:30.601Z","comments":1,"photos":[],"link":"","_id":"cjw6jley00000p4n7rtkrzy0g","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ECS252525<br>465</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n<pre><code>[root@PLAY ~]# mkdir -p /root/.certs/\n[root@PLAY ~]# echo -n | openssl s_client -connect smtp.126.com:465 | sed -ne &apos;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&apos; &gt; ~/.certs/126.crt\ndepth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA\nverify return:1\ndepth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = GeoTrust RSA CA 2018\nverify return:1\ndepth=0 C = CN, L = Hangzhou, O = &quot;NetEase (Hangzhou) Network Co., Ltd&quot;, OU = Mail Dept., CN = *.126.com\nverify return:1\nDONE\n</code></pre><blockquote>\n<p><code>smtp.126.com:465</code> <code>126.com</code> <code>126.crt</code> </p>\n</blockquote>\n</li>\n<li><p></p>\n<pre><code>[root@PLAY ~]# certutil -A -n &quot;GeoTrust SSL CA&quot; -t &quot;C,,&quot; -d ~/.certs -i ~/.certs/126.crt\n[root@PLAY ~]# certutil -A -n &quot;GeoTrust Global CA&quot; -t &quot;C,,&quot; -d ~/.certs -i ~/.certs/126.crt\n</code></pre></li>\n<li><p></p>\n<pre><code>[root@PLAY ~]# certutil -L -d /root/.certs\nCertificate Nickname Trust Attributes\nSSL,S/MIME,JAR/XPI\nGeoTrust SSL CA C,,\n</code></pre><h3 id=\"126\"><a href=\"#126\" class=\"headerlink\" title=\"126\"></a>126</h3><p><code>POP3/SMTP/IMAP</code> <br><img src=\"/images/pic/shouquanma.png\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"-etc-mail-rc\"><a href=\"#-etc-mail-rc\" class=\"headerlink\" title=\"/etc/mail.rc\"></a>/etc/mail.rc</h3><p>/etc/mail.rc<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">set</span> bsdcompat</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">from</span>=test_wly@126.com</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp</span>=<span class=\"string\">\"smtps://smtp.126.com:465\"</span></span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth-user</span>=test_wly@126.com</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth-password</span>=73jdi9dw7j3gc8gf1xvak01fss</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth</span>=login</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">ssl-verify</span>=ignore</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">nss-config-dir</span>=/root/.certs</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@PLAY</span> ~]<span class=\"meta\"># echo <span class=\"string\">\"test mail\"</span> | mail -s <span class=\"string\">\"nagios report\"</span> test_wly@126.com</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"mailto:test_wly@126.com\" target=\"_blank\" rel=\"noopener\">test_wly@126.com</a></p>\n</blockquote>\n<p><br><code>Error in certificate: Peer&#39;s certificate issuer is not recognized.</code><br><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">root@PLAY ~</span>]<span class=\"meta\"># cd /root/.certs/</span></span><br><span class=\"line\">[<span class=\"meta\">root@PLAY .certs</span>]<span class=\"meta\"># certutil -A -n \"GeoTrust SSL CA - G3\" -t \"Pu,Pu,Pu\" -d ./ -i 126.crt </span></span><br><span class=\"line\">Notice: Trust flag u <span class=\"keyword\">is</span> <span class=\"keyword\">set</span> automatically <span class=\"keyword\">if</span> the <span class=\"keyword\">private</span> key <span class=\"keyword\">is</span> present.</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"length":1888,"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ECS252525<br>465</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n<pre><code>[root@PLAY ~]# mkdir -p /root/.certs/\n[root@PLAY ~]# echo -n | openssl s_client -connect smtp.126.com:465 | sed -ne &apos;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&apos; &gt; ~/.certs/126.crt\ndepth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA\nverify return:1\ndepth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = GeoTrust RSA CA 2018\nverify return:1\ndepth=0 C = CN, L = Hangzhou, O = &quot;NetEase (Hangzhou) Network Co., Ltd&quot;, OU = Mail Dept., CN = *.126.com\nverify return:1\nDONE\n</code></pre><blockquote>\n<p><code>smtp.126.com:465</code> <code>126.com</code> <code>126.crt</code> </p>\n</blockquote>\n</li>\n<li><p></p>\n<pre><code>[root@PLAY ~]# certutil -A -n &quot;GeoTrust SSL CA&quot; -t &quot;C,,&quot; -d ~/.certs -i ~/.certs/126.crt\n[root@PLAY ~]# certutil -A -n &quot;GeoTrust Global CA&quot; -t &quot;C,,&quot; -d ~/.certs -i ~/.certs/126.crt\n</code></pre></li>\n<li><p></p>\n<pre><code>[root@PLAY ~]# certutil -L -d /root/.certs\nCertificate Nickname Trust Attributes\nSSL,S/MIME,JAR/XPI\nGeoTrust SSL CA C,,\n</code></pre><h3 id=\"126\"><a href=\"#126\" class=\"headerlink\" title=\"126\"></a>126</h3><p><code>POP3/SMTP/IMAP</code> <br><img src=\"/images/pic/shouquanma.png\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"-etc-mail-rc\"><a href=\"#-etc-mail-rc\" class=\"headerlink\" title=\"/etc/mail.rc\"></a>/etc/mail.rc</h3><p>/etc/mail.rc<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">set</span> bsdcompat</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">from</span>=test_wly@126.com</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp</span>=<span class=\"string\">\"smtps://smtp.126.com:465\"</span></span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth-user</span>=test_wly@126.com</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth-password</span>=73jdi9dw7j3gc8gf1xvak01fss</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">smtp-auth</span>=login</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">ssl-verify</span>=ignore</span><br><span class=\"line\"><span class=\"builtin-name\">set</span> <span class=\"attribute\">nss-config-dir</span>=/root/.certs</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root<span class=\"symbol\">@PLAY</span> ~]<span class=\"meta\"># echo <span class=\"string\">\"test mail\"</span> | mail -s <span class=\"string\">\"nagios report\"</span> test_wly@126.com</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"mailto:test_wly@126.com\" target=\"_blank\" rel=\"noopener\">test_wly@126.com</a></p>\n</blockquote>\n<p><br><code>Error in certificate: Peer&#39;s certificate issuer is not recognized.</code><br><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">root@PLAY ~</span>]<span class=\"meta\"># cd /root/.certs/</span></span><br><span class=\"line\">[<span class=\"meta\">root@PLAY .certs</span>]<span class=\"meta\"># certutil -A -n \"GeoTrust SSL CA - G3\" -t \"Pu,Pu,Pu\" -d ./ -i 126.crt </span></span><br><span class=\"line\">Notice: Trust flag u <span class=\"keyword\">is</span> <span class=\"keyword\">set</span> automatically <span class=\"keyword\">if</span> the <span class=\"keyword\">private</span> key <span class=\"keyword\">is</span> present.</span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"CentOS7 ","author":"Pyker","img":"/images/bar/kernel.jpg","top":false,"cover":false,"date":"2017-11-21T15:47:00.000Z","_content":"### sysctl.conf \nLinuxLinuxLinux\n```\n$ cat /etc/sysctl.conf\n\n#\nfs.file-max = 265535\n\n#ipv6\nnet.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\n\n# \nnet.ipv4.icmp_echo_ignore_broadcasts = 1\n\n# icmp\nnet.ipv4.icmp_ignore_bogus_error_responses = 1\n\n#\nnet.ipv4.ip_forward = 0\nnet.ipv4.conf.all.send_redirects = 0\nnet.ipv4.conf.default.send_redirects = 0\n\n#\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\n\n#\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n#sysrq\nkernel.sysrq = 0\n\n#corepid\nkernel.core_uses_pid = 1\n\n# SYN\nnet.ipv4.tcp_syncookies = 1\n\n#\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\n\n#bytes\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\n\n#timewait180000\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096    87380  4194304\nnet.ipv4.tcp_wmem = 4096    16384  4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\n\n#\nnet.core.netdev_max_backlog = 262144\n\n#DoS \nnet.ipv4.tcp_max_orphans = 3276800\n\n#\nnet.ipv4.tcp_max_syn_backlog = 262144\nnet.ipv4.tcp_timestamps = 0\n\n#SYNACK \nnet.ipv4.tcp_synack_retries = 1\n\n#SYN \nnet.ipv4.tcp_syn_retries = 1\n\n#timewait \nnet.ipv4.tcp_tw_recycle = 1\n\n#TIME-WAIT sockets TCP \nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\nnet.ipv4.tcp_fin_timeout = 1\n\n#keepalive TCP keepalive 2 \nnet.ipv4.tcp_keepalive_time = 30\n\n#\nnet.ipv4.ip_local_port_range = 1024  65000\n\n#65536\nnet.netfilter.nf_conntrack_max=655350\nnet.netfilter.nf_conntrack_tcp_timeout_established=1200\n\n# \nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n```\n>`net.ipv4.tcp_tw_recycle = 1` TIME-WAITsocketsNAT(Network Address Translation)TCP\n>\n> WebServer tcp_tw_reccycle  tcp_tw_reccycle kernel  tcp_tw_reccycle recycletw\n\n\n>`sysctl -p`error: 'net.ipv4.ip_conntrack_max' is an unknown key ,\n\n$ modprobe ip_conntrack\n$ echo \"modprobe ip_conntrack\" >> /etc/rc.local\n\n\n### \n* sysctl.conf\n\n```\nfs.file-max=65535\nnet.ipv4.ip_forward = 0\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.default.accept_source_route = 0\n\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.ip_local_port_range = 1024 65000\nnet.ipv4.tcp_timestamps = 1\nnet.ipv4.tcp_tw_recycle = 0\n\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_syncookies = 1\n\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\n\nnet.ipv4.tcp_max_syn_backlog = 262144\nnet.core.netdev_max_backlog = 262144\nnet.core.somaxconn = 262144\nnet.ipv4.tcp_max_orphans = 262144\n\nnet.ipv4.tcp_synack_retries = 1\nnet.ipv4.tcp_syn_retries = 1\nnet.ipv4.tcp_fin_timeout = 1\nnet.ipv4.tcp_keepalive_time = 30\n\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096 87380 4194304\nnet.ipv4.tcp_wmem = 4096 16384 4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\nnet.nf_conntrack_max = 6553500\n#redis\nvm.dirty_ratio=10\nvm.dirty_background_ratio=5\n```\n\n* SELINUX\n\n```\n$ vi /etc/sysconfig/selinux  \ndisabled\n```\n* \n\n```\n$ crontal -l\n*/20 * * * * /usr/sbin/ntpdate pool.ntp.org > /dev/null 2>&1\n```\n\n* `/etc/security/limits.conf`\n\n```\nroot soft nofile 65535\nroot hard nofile 65535\n* soft nofile 65535\n* hard nofile 65535\n```\n`/etc/security/limits.d`conf()20-nproc.conf\n```\n* soft nproc 65535\n* hard nproc 65535\n```\n\n* Firewalld\n\n```\nsystemctl stop firewalld.service firewall\nsystemctl display firewalld.service firewall\n```","source":"_posts/centos-kernel-analysis.md","raw":"layout: post\ntitle: CentOS7 \nauthor: Pyker\ncategories: Linux\nimg: /images/bar/kernel.jpg\ntags:\n  - Linux\ntop: false\ncover: false\ndate: 2017-11-21 23:47:00\n---\n### sysctl.conf \nLinuxLinuxLinux\n```\n$ cat /etc/sysctl.conf\n\n#\nfs.file-max = 265535\n\n#ipv6\nnet.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\n\n# \nnet.ipv4.icmp_echo_ignore_broadcasts = 1\n\n# icmp\nnet.ipv4.icmp_ignore_bogus_error_responses = 1\n\n#\nnet.ipv4.ip_forward = 0\nnet.ipv4.conf.all.send_redirects = 0\nnet.ipv4.conf.default.send_redirects = 0\n\n#\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.conf.default.rp_filter = 1\n\n#\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n#sysrq\nkernel.sysrq = 0\n\n#corepid\nkernel.core_uses_pid = 1\n\n# SYN\nnet.ipv4.tcp_syncookies = 1\n\n#\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\n\n#bytes\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\n\n#timewait180000\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096    87380  4194304\nnet.ipv4.tcp_wmem = 4096    16384  4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\n\n#\nnet.core.netdev_max_backlog = 262144\n\n#DoS \nnet.ipv4.tcp_max_orphans = 3276800\n\n#\nnet.ipv4.tcp_max_syn_backlog = 262144\nnet.ipv4.tcp_timestamps = 0\n\n#SYNACK \nnet.ipv4.tcp_synack_retries = 1\n\n#SYN \nnet.ipv4.tcp_syn_retries = 1\n\n#timewait \nnet.ipv4.tcp_tw_recycle = 1\n\n#TIME-WAIT sockets TCP \nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\nnet.ipv4.tcp_fin_timeout = 1\n\n#keepalive TCP keepalive 2 \nnet.ipv4.tcp_keepalive_time = 30\n\n#\nnet.ipv4.ip_local_port_range = 1024  65000\n\n#65536\nnet.netfilter.nf_conntrack_max=655350\nnet.netfilter.nf_conntrack_tcp_timeout_established=1200\n\n# \nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\nnet.ipv4.conf.all.secure_redirects = 0\nnet.ipv4.conf.default.secure_redirects = 0\n```\n>`net.ipv4.tcp_tw_recycle = 1` TIME-WAITsocketsNAT(Network Address Translation)TCP\n>\n> WebServer tcp_tw_reccycle  tcp_tw_reccycle kernel  tcp_tw_reccycle recycletw\n\n\n>`sysctl -p`error: 'net.ipv4.ip_conntrack_max' is an unknown key ,\n\n$ modprobe ip_conntrack\n$ echo \"modprobe ip_conntrack\" >> /etc/rc.local\n\n\n### \n* sysctl.conf\n\n```\nfs.file-max=65535\nnet.ipv4.ip_forward = 0\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.default.accept_source_route = 0\n\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.ip_local_port_range = 1024 65000\nnet.ipv4.tcp_timestamps = 1\nnet.ipv4.tcp_tw_recycle = 0\n\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_syncookies = 1\n\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\n\nnet.ipv4.tcp_max_syn_backlog = 262144\nnet.core.netdev_max_backlog = 262144\nnet.core.somaxconn = 262144\nnet.ipv4.tcp_max_orphans = 262144\n\nnet.ipv4.tcp_synack_retries = 1\nnet.ipv4.tcp_syn_retries = 1\nnet.ipv4.tcp_fin_timeout = 1\nnet.ipv4.tcp_keepalive_time = 30\n\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096 87380 4194304\nnet.ipv4.tcp_wmem = 4096 16384 4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\nnet.nf_conntrack_max = 6553500\n#redis\nvm.dirty_ratio=10\nvm.dirty_background_ratio=5\n```\n\n* SELINUX\n\n```\n$ vi /etc/sysconfig/selinux  \ndisabled\n```\n* \n\n```\n$ crontal -l\n*/20 * * * * /usr/sbin/ntpdate pool.ntp.org > /dev/null 2>&1\n```\n\n* `/etc/security/limits.conf`\n\n```\nroot soft nofile 65535\nroot hard nofile 65535\n* soft nofile 65535\n* hard nofile 65535\n```\n`/etc/security/limits.d`conf()20-nproc.conf\n```\n* soft nproc 65535\n* hard nproc 65535\n```\n\n* Firewalld\n\n```\nsystemctl stop firewalld.service firewall\nsystemctl display firewalld.service firewall\n```","slug":"centos-kernel-analysis","published":1,"updated":"2019-05-23T18:35:55.416Z","comments":1,"photos":[],"link":"","_id":"cjw6jley60002p4n7xpj2w6m8","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h3 id=\"sysctl-conf-\"><a href=\"#sysctl-conf-\" class=\"headerlink\" title=\"sysctl.conf \"></a>sysctl.conf </h3><p>LinuxLinuxLinux<br><figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/sysctl.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">fs.<span class=\"attr\">file-max</span> = <span class=\"number\">265535</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#ipv6</span></span><br><span class=\"line\">net.ipv6.conf.all.<span class=\"attr\">disable_ipv6</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv6.conf.default.<span class=\"attr\">disable_ipv6</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">icmp_echo_ignore_broadcasts</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># icmp</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">icmp_ignore_bogus_error_responses</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">ip_forward</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">send_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">send_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#sysrq</span></span><br><span class=\"line\">kernel.<span class=\"attr\">sysrq</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#corepid</span></span><br><span class=\"line\">kernel.<span class=\"attr\">core_uses_pid</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># SYN</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_syncookies</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">kernel.<span class=\"attr\">msgmnb</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel.<span class=\"attr\">msgmax</span> = <span class=\"number\">65536</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#bytes</span></span><br><span class=\"line\">kernel.<span class=\"attr\">shmmax</span> = <span class=\"number\">68719476736</span></span><br><span class=\"line\">kernel.<span class=\"attr\">shmall</span> = <span class=\"number\">4294967296</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#timewait180000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_tw_buckets</span> = <span class=\"number\">6000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_sack</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_window_scaling</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_rmem</span> = <span class=\"number\">4096</span>    <span class=\"number\">87380</span>  <span class=\"number\">4194304</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_wmem</span> = <span class=\"number\">4096</span>    <span class=\"number\">16384</span>  <span class=\"number\">4194304</span></span><br><span class=\"line\">net.core.<span class=\"attr\">wmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net.core.<span class=\"attr\">rmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net.core.<span class=\"attr\">rmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net.core.<span class=\"attr\">wmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.core.<span class=\"attr\">netdev_max_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#DoS </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_orphans</span> = <span class=\"number\">3276800</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_syn_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_timestamps</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#SYNACK </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_synack_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#SYN </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_syn_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#timewait </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_tw_recycle</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#TIME-WAIT sockets TCP </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_tw_reuse</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_mem</span> = <span class=\"number\">94500000</span> <span class=\"number\">915000000</span> <span class=\"number\">927000000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_fin_timeout</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#keepalive TCP keepalive 2 </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_keepalive_time</span> = <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">ip_local_port_range</span> = <span class=\"number\">1024</span>  <span class=\"number\">65000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#65536</span></span><br><span class=\"line\">net.netfilter.<span class=\"attr\">nf_conntrack_max=655350</span></span><br><span class=\"line\">net.netfilter.<span class=\"attr\">nf_conntrack_tcp_timeout_established=1200</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">accept_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">accept_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">secure_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">secure_redirects</span> = <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><code>net.ipv4.tcp_tw_recycle = 1</code> TIME-WAITsocketsNAT(Network Address Translation)TCP</p>\n<p> WebServer tcp_tw_reccycle  tcp_tw_reccycle kernel  tcp_tw_reccycle recycletw</p>\n</blockquote>\n<blockquote>\n<p><code>sysctl -p</code>error: net.ipv4.ip_conntrack_max is an unknown key ,<br><br>$ modprobe ip_conntrack<br>$ echo modprobe ip_conntrack &gt;&gt; /etc/rc.local</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>sysctl.conf</li>\n</ul>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.file-max=<span class=\"number\">65535</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.ip_forward</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.conf</span><span class=\"selector-class\">.default</span><span class=\"selector-class\">.rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.conf</span><span class=\"selector-class\">.default</span><span class=\"selector-class\">.accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_tw_buckets</span> = <span class=\"number\">6000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.ip_local_port_range</span> = <span class=\"number\">1024</span> <span class=\"number\">65000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_timestamps</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_tw_recycle</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_tw_reuse</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_syncookies</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">kernel<span class=\"selector-class\">.msgmnb</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.msgmax</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.shmmax</span> = <span class=\"number\">68719476736</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.shmall</span> = <span class=\"number\">4294967296</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_syn_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.netdev_max_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.somaxconn</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_orphans</span> = <span class=\"number\">262144</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_synack_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_syn_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_fin_timeout</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_keepalive_time</span> = <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_sack</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_window_scaling</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_rmem</span> = <span class=\"number\">4096</span> <span class=\"number\">87380</span> <span class=\"number\">4194304</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_wmem</span> = <span class=\"number\">4096</span> <span class=\"number\">16384</span> <span class=\"number\">4194304</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.wmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.rmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.rmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.wmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_mem</span> = <span class=\"number\">94500000</span> <span class=\"number\">915000000</span> <span class=\"number\">927000000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.nf_conntrack_max</span> = <span class=\"number\">6553500</span></span><br><span class=\"line\">#redis</span><br><span class=\"line\">vm.dirty_ratio=<span class=\"number\">10</span></span><br><span class=\"line\">vm.dirty_background_ratio=<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>SELINUX</li>\n</ul>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ vi /etc/sysconfig/<span class=\"keyword\">selinux </span> </span><br><span class=\"line\">disabled</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>crontal -l</span><br><span class=\"line\">*<span class=\"regexp\">/20 * * * * /usr</span><span class=\"regexp\">/sbin/ntpdate</span> pool.ntp.org &gt; <span class=\"regexp\">/dev/null</span> <span class=\"number\">2</span>&gt;&amp;<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>/etc/security/limits.conf</code></li>\n</ul>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root soft nofile <span class=\"number\">65535</span></span><br><span class=\"line\">root hard nofile <span class=\"number\">65535</span></span><br><span class=\"line\">* soft nofile <span class=\"number\">65535</span></span><br><span class=\"line\">* hard nofile <span class=\"number\">65535</span></span><br></pre></td></tr></table></figure>\n<p><code>/etc/security/limits.d</code>conf()20-nproc.conf<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span>soft nproc 65535</span><br><span class=\"line\"><span class=\"bullet\">* </span>hard nproc 65535</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>Firewalld</li>\n</ul>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">stop</span> firewalld.service firewall</span><br><span class=\"line\">systemctl <span class=\"built_in\">display</span> firewalld.service firewall</span><br></pre></td></tr></table></figure>","site":{"data":{}},"length":4137,"excerpt":"","more":"<h3 id=\"sysctl-conf-\"><a href=\"#sysctl-conf-\" class=\"headerlink\" title=\"sysctl.conf \"></a>sysctl.conf </h3><p>LinuxLinuxLinux<br><figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/sysctl.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">fs.<span class=\"attr\">file-max</span> = <span class=\"number\">265535</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#ipv6</span></span><br><span class=\"line\">net.ipv6.conf.all.<span class=\"attr\">disable_ipv6</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv6.conf.default.<span class=\"attr\">disable_ipv6</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">icmp_echo_ignore_broadcasts</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># icmp</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">icmp_ignore_bogus_error_responses</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">ip_forward</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">send_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">send_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#sysrq</span></span><br><span class=\"line\">kernel.<span class=\"attr\">sysrq</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#corepid</span></span><br><span class=\"line\">kernel.<span class=\"attr\">core_uses_pid</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># SYN</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_syncookies</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">kernel.<span class=\"attr\">msgmnb</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel.<span class=\"attr\">msgmax</span> = <span class=\"number\">65536</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#bytes</span></span><br><span class=\"line\">kernel.<span class=\"attr\">shmmax</span> = <span class=\"number\">68719476736</span></span><br><span class=\"line\">kernel.<span class=\"attr\">shmall</span> = <span class=\"number\">4294967296</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#timewait180000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_tw_buckets</span> = <span class=\"number\">6000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_sack</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_window_scaling</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_rmem</span> = <span class=\"number\">4096</span>    <span class=\"number\">87380</span>  <span class=\"number\">4194304</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_wmem</span> = <span class=\"number\">4096</span>    <span class=\"number\">16384</span>  <span class=\"number\">4194304</span></span><br><span class=\"line\">net.core.<span class=\"attr\">wmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net.core.<span class=\"attr\">rmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net.core.<span class=\"attr\">rmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net.core.<span class=\"attr\">wmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.core.<span class=\"attr\">netdev_max_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#DoS </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_orphans</span> = <span class=\"number\">3276800</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_max_syn_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_timestamps</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#SYNACK </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_synack_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#SYN </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_syn_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#timewait </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_tw_recycle</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#TIME-WAIT sockets TCP </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_tw_reuse</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_mem</span> = <span class=\"number\">94500000</span> <span class=\"number\">915000000</span> <span class=\"number\">927000000</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_fin_timeout</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#keepalive TCP keepalive 2 </span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">tcp_keepalive_time</span> = <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">net.ipv4.<span class=\"attr\">ip_local_port_range</span> = <span class=\"number\">1024</span>  <span class=\"number\">65000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#65536</span></span><br><span class=\"line\">net.netfilter.<span class=\"attr\">nf_conntrack_max=655350</span></span><br><span class=\"line\">net.netfilter.<span class=\"attr\">nf_conntrack_tcp_timeout_established=1200</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">accept_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">accept_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.all.<span class=\"attr\">secure_redirects</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net.ipv4.conf.default.<span class=\"attr\">secure_redirects</span> = <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><code>net.ipv4.tcp_tw_recycle = 1</code> TIME-WAITsocketsNAT(Network Address Translation)TCP</p>\n<p> WebServer tcp_tw_reccycle  tcp_tw_reccycle kernel  tcp_tw_reccycle recycletw</p>\n</blockquote>\n<blockquote>\n<p><code>sysctl -p</code>error: net.ipv4.ip_conntrack_max is an unknown key ,<br><br>$ modprobe ip_conntrack<br>$ echo modprobe ip_conntrack &gt;&gt; /etc/rc.local</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>sysctl.conf</li>\n</ul>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.file-max=<span class=\"number\">65535</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.ip_forward</span> = <span class=\"number\">0</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.conf</span><span class=\"selector-class\">.default</span><span class=\"selector-class\">.rp_filter</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.conf</span><span class=\"selector-class\">.default</span><span class=\"selector-class\">.accept_source_route</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_tw_buckets</span> = <span class=\"number\">6000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.ip_local_port_range</span> = <span class=\"number\">1024</span> <span class=\"number\">65000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_timestamps</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_tw_recycle</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_tw_reuse</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_syncookies</span> = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">kernel<span class=\"selector-class\">.msgmnb</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.msgmax</span> = <span class=\"number\">65536</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.shmmax</span> = <span class=\"number\">68719476736</span></span><br><span class=\"line\">kernel<span class=\"selector-class\">.shmall</span> = <span class=\"number\">4294967296</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_syn_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.netdev_max_backlog</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.somaxconn</span> = <span class=\"number\">262144</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_max_orphans</span> = <span class=\"number\">262144</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_synack_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_syn_retries</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_fin_timeout</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_keepalive_time</span> = <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_sack</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_window_scaling</span> = <span class=\"number\">1</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_rmem</span> = <span class=\"number\">4096</span> <span class=\"number\">87380</span> <span class=\"number\">4194304</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_wmem</span> = <span class=\"number\">4096</span> <span class=\"number\">16384</span> <span class=\"number\">4194304</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.wmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.rmem_default</span> = <span class=\"number\">8388608</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.rmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net<span class=\"selector-class\">.core</span><span class=\"selector-class\">.wmem_max</span> = <span class=\"number\">16777216</span></span><br><span class=\"line\">net<span class=\"selector-class\">.ipv4</span><span class=\"selector-class\">.tcp_mem</span> = <span class=\"number\">94500000</span> <span class=\"number\">915000000</span> <span class=\"number\">927000000</span></span><br><span class=\"line\">net<span class=\"selector-class\">.nf_conntrack_max</span> = <span class=\"number\">6553500</span></span><br><span class=\"line\">#redis</span><br><span class=\"line\">vm.dirty_ratio=<span class=\"number\">10</span></span><br><span class=\"line\">vm.dirty_background_ratio=<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>SELINUX</li>\n</ul>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ vi /etc/sysconfig/<span class=\"keyword\">selinux </span> </span><br><span class=\"line\">disabled</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>crontal -l</span><br><span class=\"line\">*<span class=\"regexp\">/20 * * * * /usr</span><span class=\"regexp\">/sbin/ntpdate</span> pool.ntp.org &gt; <span class=\"regexp\">/dev/null</span> <span class=\"number\">2</span>&gt;&amp;<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>/etc/security/limits.conf</code></li>\n</ul>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root soft nofile <span class=\"number\">65535</span></span><br><span class=\"line\">root hard nofile <span class=\"number\">65535</span></span><br><span class=\"line\">* soft nofile <span class=\"number\">65535</span></span><br><span class=\"line\">* hard nofile <span class=\"number\">65535</span></span><br></pre></td></tr></table></figure>\n<p><code>/etc/security/limits.d</code>conf()20-nproc.conf<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span>soft nproc 65535</span><br><span class=\"line\"><span class=\"bullet\">* </span>hard nproc 65535</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>Firewalld</li>\n</ul>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">stop</span> firewalld.service firewall</span><br><span class=\"line\">systemctl <span class=\"built_in\">display</span> firewalld.service firewall</span><br></pre></td></tr></table></figure>"},{"title":"HexoNext7.X","author":"Pyker","date":"2019-05-01T05:30:00.000Z","_content":"## \n>HexolandscapeNexT\n\n## Hexo\n[hexo](https://hexo.io/)\n[nexT7.x](https://github.com/theme-next/hexo-theme-next)\n\n## \nnextnexthttps://github.com/ipyker/ipyker.github.io/tree/hexo\n{% note danger %}\n* \n* \n* year/month/day/title.html\n* Menu\n* \n* RSS\n* themes/nexT/source/css/_custom/custon.styl\n* Canvas_nest\n* \n* \n* \n* \n* \n* \n* \n* fork me on githubthemes/nexT/_config.ymlgithub_banner\n* RSS\n* \n* \n* \n* \n* \n* \n* \n* \n* \n* Hexo--NexT.Mist\n* Favicon\n* \n* ID\n* \n* \n* DaoVoiceID\n* \n* \n* \n* \n* \n* Hexo\n* \n* aplay\n* {% endnote %}","source":"_posts/hexo-next.md","raw":"title: HexoNext7.X\nauthor: Pyker\ncategories: hexo\ntags:\n  - hexo\ndate: 2019-05-01 13:30:00\n---\n## \n>HexolandscapeNexT\n\n## Hexo\n[hexo](https://hexo.io/)\n[nexT7.x](https://github.com/theme-next/hexo-theme-next)\n\n## \nnextnexthttps://github.com/ipyker/ipyker.github.io/tree/hexo\n{% note danger %}\n* \n* \n* year/month/day/title.html\n* Menu\n* \n* RSS\n* themes/nexT/source/css/_custom/custon.styl\n* Canvas_nest\n* \n* \n* \n* \n* \n* \n* \n* fork me on githubthemes/nexT/_config.ymlgithub_banner\n* RSS\n* \n* \n* \n* \n* \n* \n* \n* \n* \n* Hexo--NexT.Mist\n* Favicon\n* \n* ID\n* \n* \n* DaoVoiceID\n* \n* \n* \n* \n* \n* Hexo\n* \n* aplay\n* {% endnote %}","slug":"hexo-next","published":1,"updated":"2019-05-26T07:30:30.604Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjw6jleye0006p4n7qla5itt2","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>HexolandscapeNexT</p>\n</blockquote>\n<h2 id=\"Hexo\"><a href=\"#Hexo\" class=\"headerlink\" title=\"Hexo\"></a>Hexo</h2><p><a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">hexo</a><br><a href=\"https://github.com/theme-next/hexo-theme-next\" target=\"_blank\" rel=\"noopener\">nexT7.x</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>nextnext<a href=\"https://github.com/ipyker/ipyker.github.io/tree/hexo\" target=\"_blank\" rel=\"noopener\">https://github.com/ipyker/ipyker.github.io/tree/hexo</a><br><div class=\"note danger\">\n            <ul><li></li><li></li><li>year/month/day/title.html</li><li>Menu</li><li></li><li>RSS</li><li>themes/nexT/source/css/_custom/custon.styl</li><li>Canvas_nest</li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li>fork me on githubthemes/nexT/_config.ymlgithub_banner</li><li>RSS</li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li>HexoNexT.Mist</li><li>Favicon</li><li></li><li>ID</li><li></li><li></li><li>DaoVoiceID</li><li></li><li></li><li></li><li></li><li></li><li>Hexo</li><li></li><li>aplay</li><li></li></ul>\n          </div></p>\n","site":{"data":{}},"length":811,"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>HexolandscapeNexT</p>\n</blockquote>\n<h2 id=\"Hexo\"><a href=\"#Hexo\" class=\"headerlink\" title=\"Hexo\"></a>Hexo</h2><p><a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">hexo</a><br><a href=\"https://github.com/theme-next/hexo-theme-next\" target=\"_blank\" rel=\"noopener\">nexT7.x</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>nextnext<a href=\"https://github.com/ipyker/ipyker.github.io/tree/hexo\" target=\"_blank\" rel=\"noopener\">https://github.com/ipyker/ipyker.github.io/tree/hexo</a><br><div class=\"note danger\">\n            <ul><li></li><li></li><li>year/month/day/title.html</li><li>Menu</li><li></li><li>RSS</li><li>themes/nexT/source/css/_custom/custon.styl</li><li>Canvas_nest</li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li>fork me on githubthemes/nexT/_config.ymlgithub_banner</li><li>RSS</li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li>HexoNexT.Mist</li><li>Favicon</li><li></li><li>ID</li><li></li><li></li><li>DaoVoiceID</li><li></li><li></li><li></li><li></li><li></li><li>Hexo</li><li></li><li>aplay</li><li></li></ul>\n          </div></p>\n"},{"layout":"post","title":"https","author":"Pyker","img":"/images/bar/https.jpg","top":true,"cover":false,"date":"2017-10-26T06:15:00.000Z","_content":"HTTPSHTTPSHTTPSHTTPHTTPS\nHTTPSweb\n\n### http\nHTTPS`HTTP + SSL / TLS` HTTPTLS\n```\n\t HTTP\t\t HTTPS\n\t\n   |-------|     |-------|\n   |  HTTP |     | HTTPS |\n   |-------|     |-------|\n   |  TCP  |     |ssl TLS|\n   |-------|     |-------|\n   |  IP   |     |  TCP  |\n   |-------|     |-------|\n                 |  IP   |\n\t\t\t     |-------|\n```\n### HTTPS\n\n![](/images/pic/tls.jpg)\nHTTPS\nSSL/TLS\n* \n* \n* \n\n****\n1. HTTPS\n>httpsserver443\n2. \n>HTTPS(startssl1)\n3. \n>\n4. \n>TLS\n5. \n>\n6. \n>()\n7. \n>\n8. \n>\n\n### HTTPS\nHTTPSTLS/SSLTLS/SSLHASH\n```\n1. \n```\n```\n2.HASH \n```\n```\n3. \na)  \nb)  \nc) HASH \n```\n```\n4. \na) HASH \nb)  \n```\n```\n5.HASHHASH\n```\n\nHTTPSHASH\n```\nRSADSA/DSS \nAESRC43DES \nHASHMD5SHA1SHA256\n```","source":"_posts/https-tls.md","raw":"layout: post\ntitle: https\nauthor: Pyker\ncategories: web\nimg: /images/bar/https.jpg\ntags:\n  - https\ntop: true\ncover: false\ndate: 2017-10-26 14:15:00\n---\nHTTPSHTTPSHTTPSHTTPHTTPS\nHTTPSweb\n\n### http\nHTTPS`HTTP + SSL / TLS` HTTPTLS\n```\n\t HTTP\t\t HTTPS\n\t\n   |-------|     |-------|\n   |  HTTP |     | HTTPS |\n   |-------|     |-------|\n   |  TCP  |     |ssl TLS|\n   |-------|     |-------|\n   |  IP   |     |  TCP  |\n   |-------|     |-------|\n                 |  IP   |\n\t\t\t     |-------|\n```\n### HTTPS\n\n![](/images/pic/tls.jpg)\nHTTPS\nSSL/TLS\n* \n* \n* \n\n****\n1. HTTPS\n>httpsserver443\n2. \n>HTTPS(startssl1)\n3. \n>\n4. \n>TLS\n5. \n>\n6. \n>()\n7. \n>\n8. \n>\n\n### HTTPS\nHTTPSTLS/SSLTLS/SSLHASH\n```\n1. \n```\n```\n2.HASH \n```\n```\n3. \na)  \nb)  \nc) HASH \n```\n```\n4. \na) HASH \nb)  \n```\n```\n5.HASHHASH\n```\n\nHTTPSHASH\n```\nRSADSA/DSS \nAESRC43DES \nHASHMD5SHA1SHA256\n```","slug":"https-tls","published":1,"updated":"2019-05-23T18:38:41.701Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyh0008p4n7w4j459wm","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>HTTPSHTTPSHTTPSHTTPHTTPS<br>HTTPSweb</p>\n<h3 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h3><p>HTTPS<code>HTTP + SSL / TLS</code> HTTPTLS<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP\t\t HTTPS</span><br><span class=\"line\">\t</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  HTTP </span>|<span class=\"string\">     </span>|<span class=\"string\"> HTTPS </span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  TCP  </span>|<span class=\"string\">     </span>|<span class=\"string\">ssl TLS</span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  IP   </span>|<span class=\"string\">     </span>|<span class=\"string\">  TCP  </span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\">               |<span class=\"string\">  IP   </span>|</span><br><span class=\"line\">\t     |<span class=\"string\">-------</span>|</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h3><p><img src=\"/images/pic/tls.jpg\" alt><br>HTTPS<br>SSL/TLS</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<ol>\n<li>HTTPS<blockquote>\n<p>httpsserver443</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>HTTPS(startssl1)</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>TLS</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>()</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h3><p>HTTPSTLS/SSLTLS/SSLHASH<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2.</span>HASH</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3</span>. </span><br><span class=\"line\">a)  </span><br><span class=\"line\"><span class=\"keyword\">b) </span> </span><br><span class=\"line\">c) HASH</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">4</span>. </span><br><span class=\"line\">a) HASH </span><br><span class=\"line\"><span class=\"keyword\">b) </span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">5.</span>HASHHASH</span><br></pre></td></tr></table></figure>\n<p>HTTPSHASH<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RSADSA/DSS </span><br><span class=\"line\">AESRC4<span class=\"number\">3</span>DES </span><br><span class=\"line\">HASHMD5SHA1SHA256</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"length":2348,"excerpt":"","more":"<p>HTTPSHTTPSHTTPSHTTPHTTPS<br>HTTPSweb</p>\n<h3 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h3><p>HTTPS<code>HTTP + SSL / TLS</code> HTTPTLS<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP\t\t HTTPS</span><br><span class=\"line\">\t</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  HTTP </span>|<span class=\"string\">     </span>|<span class=\"string\"> HTTPS </span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  TCP  </span>|<span class=\"string\">     </span>|<span class=\"string\">ssl TLS</span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\"> |<span class=\"string\">  IP   </span>|<span class=\"string\">     </span>|<span class=\"string\">  TCP  </span>|</span><br><span class=\"line\"> |<span class=\"string\">-------</span>|<span class=\"string\">     </span>|<span class=\"string\">-------</span>|</span><br><span class=\"line\">               |<span class=\"string\">  IP   </span>|</span><br><span class=\"line\">\t     |<span class=\"string\">-------</span>|</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h3><p><img src=\"/images/pic/tls.jpg\" alt><br>HTTPS<br>SSL/TLS</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<ol>\n<li>HTTPS<blockquote>\n<p>httpsserver443</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>HTTPS(startssl1)</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>TLS</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>()</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><blockquote>\n<p></p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h3><p>HTTPSTLS/SSLTLS/SSLHASH<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2.</span>HASH</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3</span>. </span><br><span class=\"line\">a)  </span><br><span class=\"line\"><span class=\"keyword\">b) </span> </span><br><span class=\"line\">c) HASH</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">4</span>. </span><br><span class=\"line\">a) HASH </span><br><span class=\"line\"><span class=\"keyword\">b) </span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">5.</span>HASHHASH</span><br></pre></td></tr></table></figure>\n<p>HTTPSHASH<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RSADSA/DSS </span><br><span class=\"line\">AESRC4<span class=\"number\">3</span>DES </span><br><span class=\"line\">HASHMD5SHA1SHA256</span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"CentOS7 Docker-CE","author":"Pyker","top":false,"cover":false,"date":"2019-03-21T14:02:00.000Z","_content":"### CentOS7 Docker-CE\n\n20173 docker : {% label primary@Docker-CE %}  {% label success@Docker-EE %}`Docker-CE` `Docker-EE`  Docker-ce\n\n#### \n```bash\n\t$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n```\n#### \n```bash\n\t$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2\n```\n#### \t\t\t\t\t\n```bash\n\t$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n```\n####  yum \n```bash\n\t$ sudo yum makecache fast\n```\n####  Docker-CE\n```bash\n\t$ yum list docker-ce --showduplicates | sort -r\n```\n<div class=\"note primary\">tablelist</p></div>\n\n```bash\n$ sudo yum-config-manager --enable docker-ce-edge\n$ sudo yum-config-manager --enable docker-ce-test\n```\n#### yum\n```bash\n\t$ yum makecache fast\n```\n#### docker-CE\n```bash\n\t$ sudo yum install -y docker-ce-17.03.2.ce-1.el7.centos \n```\n<div class=\"note warning\"><p>dockerdocker-ce-selinux</p></div>\n\n```bash\n$ yum install -y https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm \n```","source":"_posts/install-docker-ce.md","raw":"layout: post\ntitle: CentOS7 Docker-CE\nauthor: Pyker\ncategories: docker\ntags:\n  - docker\n  - kubernetes\ntop: false\ncover: false\ndate: 2019-03-21 22:02:00\n---\n### CentOS7 Docker-CE\n\n20173 docker : {% label primary@Docker-CE %}  {% label success@Docker-EE %}`Docker-CE` `Docker-EE`  Docker-ce\n\n#### \n```bash\n\t$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n```\n#### \n```bash\n\t$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2\n```\n#### \t\t\t\t\t\n```bash\n\t$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n```\n####  yum \n```bash\n\t$ sudo yum makecache fast\n```\n####  Docker-CE\n```bash\n\t$ yum list docker-ce --showduplicates | sort -r\n```\n<div class=\"note primary\">tablelist</p></div>\n\n```bash\n$ sudo yum-config-manager --enable docker-ce-edge\n$ sudo yum-config-manager --enable docker-ce-test\n```\n#### yum\n```bash\n\t$ yum makecache fast\n```\n#### docker-CE\n```bash\n\t$ sudo yum install -y docker-ce-17.03.2.ce-1.el7.centos \n```\n<div class=\"note warning\"><p>dockerdocker-ce-selinux</p></div>\n\n```bash\n$ yum install -y https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm \n```","slug":"install-docker-ce","published":1,"updated":"2019-05-24T16:57:47.301Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyk000ap4n74ccnzwe3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h3 id=\"CentOS7-Docker-CE\"><a href=\"#CentOS7-Docker-CE\" class=\"headerlink\" title=\"CentOS7 Docker-CE\"></a>CentOS7 Docker-CE</h3><p>20173 docker : <span class=\"label primary\">Docker-CE</span>  <span class=\"label success\">Docker-EE</span><code>Docker-CE</code> <code>Docker-EE</code>  Docker-ce</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum remove docker \\</span><br><span class=\"line\">                 docker-client \\</span><br><span class=\"line\">                 docker-client-latest \\</span><br><span class=\"line\">                 docker-common \\</span><br><span class=\"line\">                 docker-latest \\</span><br><span class=\"line\">                 docker-latest-logrotate \\</span><br><span class=\"line\">                 docker-logrotate \\</span><br><span class=\"line\">                 docker-selinux \\</span><br><span class=\"line\">                 docker-engine-selinux \\</span><br><span class=\"line\">                 docker-engine</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n<h4 id=\"-yum-\"><a href=\"#-yum-\" class=\"headerlink\" title=\" yum \"></a> yum </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum makecache fast</span><br></pre></td></tr></table></figure>\n<h4 id=\"-Docker-CE\"><a href=\"#-Docker-CE\" class=\"headerlink\" title=\" Docker-CE\"></a> Docker-CE</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum list docker-ce --showduplicates | sort -r</span><br></pre></td></tr></table></figure>\n<div class=\"note primary\">tablelist<p></p></div>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum-config-manager --<span class=\"built_in\">enable</span> docker-ce-edge</span><br><span class=\"line\">$ sudo yum-config-manager --<span class=\"built_in\">enable</span> docker-ce-test</span><br></pre></td></tr></table></figure>\n<h4 id=\"yum\"><a href=\"#yum\" class=\"headerlink\" title=\"yum\"></a>yum</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum makecache fast</span><br></pre></td></tr></table></figure>\n<h4 id=\"docker-CE\"><a href=\"#docker-CE\" class=\"headerlink\" title=\"docker-CE\"></a>docker-CE</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum install -y docker-ce-17.03.2.ce-1.el7.centos</span><br></pre></td></tr></table></figure>\n<div class=\"note warning\"><p>dockerdocker-ce-selinux</p></div>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm</span><br></pre></td></tr></table></figure>","site":{"data":{}},"length":1201,"excerpt":"","more":"<h3 id=\"CentOS7-Docker-CE\"><a href=\"#CentOS7-Docker-CE\" class=\"headerlink\" title=\"CentOS7 Docker-CE\"></a>CentOS7 Docker-CE</h3><p>20173 docker : <span class=\"label primary\">Docker-CE</span>  <span class=\"label success\">Docker-EE</span><code>Docker-CE</code> <code>Docker-EE</code>  Docker-ce</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum remove docker \\</span><br><span class=\"line\">                 docker-client \\</span><br><span class=\"line\">                 docker-client-latest \\</span><br><span class=\"line\">                 docker-common \\</span><br><span class=\"line\">                 docker-latest \\</span><br><span class=\"line\">                 docker-latest-logrotate \\</span><br><span class=\"line\">                 docker-logrotate \\</span><br><span class=\"line\">                 docker-selinux \\</span><br><span class=\"line\">                 docker-engine-selinux \\</span><br><span class=\"line\">                 docker-engine</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n<h4 id=\"-yum-\"><a href=\"#-yum-\" class=\"headerlink\" title=\" yum \"></a> yum </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum makecache fast</span><br></pre></td></tr></table></figure>\n<h4 id=\"-Docker-CE\"><a href=\"#-Docker-CE\" class=\"headerlink\" title=\" Docker-CE\"></a> Docker-CE</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum list docker-ce --showduplicates | sort -r</span><br></pre></td></tr></table></figure>\n<div class=\"note primary\">tablelist<p></p></div>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum-config-manager --<span class=\"built_in\">enable</span> docker-ce-edge</span><br><span class=\"line\">$ sudo yum-config-manager --<span class=\"built_in\">enable</span> docker-ce-test</span><br></pre></td></tr></table></figure>\n<h4 id=\"yum\"><a href=\"#yum\" class=\"headerlink\" title=\"yum\"></a>yum</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum makecache fast</span><br></pre></td></tr></table></figure>\n<h4 id=\"docker-CE\"><a href=\"#docker-CE\" class=\"headerlink\" title=\"docker-CE\"></a>docker-CE</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo yum install -y docker-ce-17.03.2.ce-1.el7.centos</span><br></pre></td></tr></table></figure>\n<div class=\"note warning\"><p>dockerdocker-ce-selinux</p></div>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"Gitlab-CE","author":"Pyker","img":"/images/bar/gitlab.jpg","top":false,"cover":false,"date":"2018-11-29T09:30:00.000Z","_content":"gitgit webgitolitegitolitegit web(gitlab)gitoliteSSH KEYwebCI/CDPIPELINEgitlab\n\n>GitLabOmnibus`4GB`` GitLab\n\n## GitLab\n\n### Omnibus\n\n##### \nCentOS 7RedHat / Oracle / Scientific Linux 7\n```bash\nsudo yum install -y curl policycoreutils-python openssh-server\n```\n##### GitLabyum\n```bash\n$ cat > /etc/yum.repos.d/gitlab-ce.repo << EOF\n[gitlab-ce]\nname=Gitlab CE Repository\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever/\ngpgcheck=0\nenabled=1 \nEOF\n```\n##### GitLab-CE\n```bash\n$ yum makecache\n$ yum install gitlab-ce -y\n```\n##### GitLab-CE\n`/etc/gitlab/gitlab.rb` \n```bash\n#external_url gitlab\n$ vim /etc/gitlab/gitlab.rb\nexternal_url 'http://git.ipyker.com'\n\n#gitlab/etc/gitlab/gitlab.rb517\ngitlab_rails['smtp_enable'] = true \ngitlab_rails['smtp_address'] = \"smtp.ipyker.com\"\ngitlab_rails['smtp_port'] = 465\ngitlab_rails['smtp_user_name'] = \"gitlab@ipyker.com\"\ngitlab_rails['smtp_password'] = \"mypasswd\"\ngitlab_rails['smtp_authentication'] = \"login\"\ngitlab_rails['smtp_enable_starttls_auto'] = true \ngitlab_rails['smtp_tls'] = true \ngitlab_rails['gitlab_email_from'] = 'gitlab@ipyker.com'\ngitlab_rails['smtp_domain'] = \"ipyker.com\"\n```\n\n> **GitLab/var/opt/gitlab/opt/gitlab/etc/gitlab**\n\n#### GitLab\n##### \n```\n$ gitlab-ctl reconfigure\n```\n##### \n```\n$ gitlab-ctl start\n```\n##### \n```\n$ gitlab-ctl stop\n```\n#####  \n```\n$ gitlab-ctl restart\n```\n\n#### \ngitlabrootrootgitlabgitlab\n![](/images/pic/welcome-gitlab.png)\n\n![](/images/pic/language.png)\n\n**gitlab[GitLab](https://docs.gitlab.com/omnibus/settings/README.html)**\n\n---\n### Docker\n#### GitLab docker \ngitlab-ce[docker](https://hub.docker.com/r/gitlab/gitlab-ce/)\n\nGitLab DockerGitLab\nGitLab CERC`gitlab/gitlab-ce:rc` GitLab CE\nGitLab Docker\n* [Docker Engine](https://docs.gitlab.com/omnibus/docker/#run-the-image)\n* [GitLab](https://docs.gitlab.com/omnibus/docker/#install-gitlab-into-a-cluster)\n* [docker-composeGitLab](https://docs.gitlab.com/omnibus/docker/#install-gitlab-using-docker-compose)\n\n**dockerkubenetes deplymentpod**\n\n#### \ndocker[docker-ce](https://www.ipyker.com/2019/03/21/centos7-install-docker-ce/)\n\n#### gitlab-ce\n```bash\n$ docker run -d \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 22:22 \\\n  --name gitlab \\\n  --restart always \\\n  --volume /srv/gitlab/config:/etc/gitlab \\\n  --volume /srv/gitlab/logs:/var/log/gitlab \\\n  --volume /srv/gitlab/data:/var/opt/gitlab \\\n  gitlab/gitlab-ce:latest\n```\n>`docker run` docker pulldocker startgitlab-ceGitLab /srv/gitlab/restart\n\n | docker | \n--- | --- | ---\n/srv/gitlab/data | /var/opt/gitlab | \n/srv/gitlab/logs | /var/log/gitlab | \n/srv/gitlab/config | /etc/gitlab | GitLab\n\n#### girlab-ce\nOmnibus GitLabdocker/etc/gitlab/gitlab.rb\n\nGitLabshell\n```bash\n$ docker exec -it gitlab /bin/bash\n```\n`/etc/gitlab/gitlab.rb` `external_url` URL\n\n`GITLAB_OMNIBUS_CONFIG` docker runGitLab Dockergitlab.rbgitlab.rbGitLabURL[Omnibus GitLab](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template) \n`GITLAB_OMNIBUS_CONFIG` gitlab.rb\nURLLFS\n```bash\n$ docker run -d \\\n  --hostname gitlab.example.com \\\n  --env GITLAB_OMNIBUS_CONFIG=\"external_url 'http://my.domain.com/'; gitlab_rails['lfs_enabled'] = true;\" \\\n  --publish 443:443 --publish 80:80 --publish 22:22 \\\n  --name gitlab \\\n  --restart always \\\n  --volume /srv/gitlab/config:/etc/gitlab \\\n  --volume /srv/gitlab/logs:/var/log/gitlab \\\n  --volume /srv/gitlab/data:/var/opt/gitlab \\\n  gitlab/gitlab-ce:latest\n```\n\n\n**GitLab SMTPGitLab DockerSMTPHTTPhttps**\n\n#### gitlab-ce\nGitLab\n```bash\n$ docker restart gitlab\n```\n\n#### HTTPS\nomnibus-gitlabHTTPSgitlab.example.comHTTPS`/etc/gitlab/gitlab.rb` \n```\nexternal_url \"https://gitlab.example.com\"\n```\ngitlab.example.com`/etc/gitlab/ssl` \n```bash\n$ sudo mkdir -p /etc/gitlab/ssl\n$ sudo chmod 700 /etc/gitlab/ssl\n$ sudo cp gitlab.example.com.key gitlab.example.com.crt /etc/gitlab/ssl/\n```\n\nGitLabhttps://gitlab.example.com\n```bash\n$ gitlab-ctl reconfigure\n```\n>certificate.keyNginx`sudo gitlab-ctl reconfigure` Omnibus GitLab `openssl rsa -in certificate_before.key -out certificate_after.key` ","source":"_posts/install-gitlab-ce.md","raw":"layout: post\ntitle: Gitlab-CE\nauthor: Pyker\ncategories: CI/CD\nimg: /images/bar/gitlab.jpg\ntags:\n  - git\ntop: false\ncover: false\ndate: 2018-11-29 17:30:00\n---\ngitgit webgitolitegitolitegit web(gitlab)gitoliteSSH KEYwebCI/CDPIPELINEgitlab\n\n>GitLabOmnibus`4GB`` GitLab\n\n## GitLab\n\n### Omnibus\n\n##### \nCentOS 7RedHat / Oracle / Scientific Linux 7\n```bash\nsudo yum install -y curl policycoreutils-python openssh-server\n```\n##### GitLabyum\n```bash\n$ cat > /etc/yum.repos.d/gitlab-ce.repo << EOF\n[gitlab-ce]\nname=Gitlab CE Repository\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever/\ngpgcheck=0\nenabled=1 \nEOF\n```\n##### GitLab-CE\n```bash\n$ yum makecache\n$ yum install gitlab-ce -y\n```\n##### GitLab-CE\n`/etc/gitlab/gitlab.rb` \n```bash\n#external_url gitlab\n$ vim /etc/gitlab/gitlab.rb\nexternal_url 'http://git.ipyker.com'\n\n#gitlab/etc/gitlab/gitlab.rb517\ngitlab_rails['smtp_enable'] = true \ngitlab_rails['smtp_address'] = \"smtp.ipyker.com\"\ngitlab_rails['smtp_port'] = 465\ngitlab_rails['smtp_user_name'] = \"gitlab@ipyker.com\"\ngitlab_rails['smtp_password'] = \"mypasswd\"\ngitlab_rails['smtp_authentication'] = \"login\"\ngitlab_rails['smtp_enable_starttls_auto'] = true \ngitlab_rails['smtp_tls'] = true \ngitlab_rails['gitlab_email_from'] = 'gitlab@ipyker.com'\ngitlab_rails['smtp_domain'] = \"ipyker.com\"\n```\n\n> **GitLab/var/opt/gitlab/opt/gitlab/etc/gitlab**\n\n#### GitLab\n##### \n```\n$ gitlab-ctl reconfigure\n```\n##### \n```\n$ gitlab-ctl start\n```\n##### \n```\n$ gitlab-ctl stop\n```\n#####  \n```\n$ gitlab-ctl restart\n```\n\n#### \ngitlabrootrootgitlabgitlab\n![](/images/pic/welcome-gitlab.png)\n\n![](/images/pic/language.png)\n\n**gitlab[GitLab](https://docs.gitlab.com/omnibus/settings/README.html)**\n\n---\n### Docker\n#### GitLab docker \ngitlab-ce[docker](https://hub.docker.com/r/gitlab/gitlab-ce/)\n\nGitLab DockerGitLab\nGitLab CERC`gitlab/gitlab-ce:rc` GitLab CE\nGitLab Docker\n* [Docker Engine](https://docs.gitlab.com/omnibus/docker/#run-the-image)\n* [GitLab](https://docs.gitlab.com/omnibus/docker/#install-gitlab-into-a-cluster)\n* [docker-composeGitLab](https://docs.gitlab.com/omnibus/docker/#install-gitlab-using-docker-compose)\n\n**dockerkubenetes deplymentpod**\n\n#### \ndocker[docker-ce](https://www.ipyker.com/2019/03/21/centos7-install-docker-ce/)\n\n#### gitlab-ce\n```bash\n$ docker run -d \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 22:22 \\\n  --name gitlab \\\n  --restart always \\\n  --volume /srv/gitlab/config:/etc/gitlab \\\n  --volume /srv/gitlab/logs:/var/log/gitlab \\\n  --volume /srv/gitlab/data:/var/opt/gitlab \\\n  gitlab/gitlab-ce:latest\n```\n>`docker run` docker pulldocker startgitlab-ceGitLab /srv/gitlab/restart\n\n | docker | \n--- | --- | ---\n/srv/gitlab/data | /var/opt/gitlab | \n/srv/gitlab/logs | /var/log/gitlab | \n/srv/gitlab/config | /etc/gitlab | GitLab\n\n#### girlab-ce\nOmnibus GitLabdocker/etc/gitlab/gitlab.rb\n\nGitLabshell\n```bash\n$ docker exec -it gitlab /bin/bash\n```\n`/etc/gitlab/gitlab.rb` `external_url` URL\n\n`GITLAB_OMNIBUS_CONFIG` docker runGitLab Dockergitlab.rbgitlab.rbGitLabURL[Omnibus GitLab](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template) \n`GITLAB_OMNIBUS_CONFIG` gitlab.rb\nURLLFS\n```bash\n$ docker run -d \\\n  --hostname gitlab.example.com \\\n  --env GITLAB_OMNIBUS_CONFIG=\"external_url 'http://my.domain.com/'; gitlab_rails['lfs_enabled'] = true;\" \\\n  --publish 443:443 --publish 80:80 --publish 22:22 \\\n  --name gitlab \\\n  --restart always \\\n  --volume /srv/gitlab/config:/etc/gitlab \\\n  --volume /srv/gitlab/logs:/var/log/gitlab \\\n  --volume /srv/gitlab/data:/var/opt/gitlab \\\n  gitlab/gitlab-ce:latest\n```\n\n\n**GitLab SMTPGitLab DockerSMTPHTTPhttps**\n\n#### gitlab-ce\nGitLab\n```bash\n$ docker restart gitlab\n```\n\n#### HTTPS\nomnibus-gitlabHTTPSgitlab.example.comHTTPS`/etc/gitlab/gitlab.rb` \n```\nexternal_url \"https://gitlab.example.com\"\n```\ngitlab.example.com`/etc/gitlab/ssl` \n```bash\n$ sudo mkdir -p /etc/gitlab/ssl\n$ sudo chmod 700 /etc/gitlab/ssl\n$ sudo cp gitlab.example.com.key gitlab.example.com.crt /etc/gitlab/ssl/\n```\n\nGitLabhttps://gitlab.example.com\n```bash\n$ gitlab-ctl reconfigure\n```\n>certificate.keyNginx`sudo gitlab-ctl reconfigure` Omnibus GitLab `openssl rsa -in certificate_before.key -out certificate_after.key` ","slug":"install-gitlab-ce","published":1,"updated":"2019-05-23T18:38:26.929Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyo000ep4n7yaqnmszi","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>gitgit webgitolitegitolitegit web(gitlab)gitoliteSSH KEYwebCI/CDPIPELINEgitlab</p>\n<blockquote>\n<p>GitLabOmnibus<code>4GB</code>` GitLab</p>\n</blockquote>\n<h2 id=\"GitLab\"><a href=\"#GitLab\" class=\"headerlink\" title=\"GitLab\"></a>GitLab</h2><h3 id=\"Omnibus\"><a href=\"#Omnibus\" class=\"headerlink\" title=\"Omnibus\"></a>Omnibus</h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>CentOS 7RedHat / Oracle / Scientific Linux 7<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y curl policycoreutils-python openssh-server</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"GitLabyum\"><a href=\"#GitLabyum\" class=\"headerlink\" title=\"GitLabyum\"></a>GitLabyum</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /etc/yum.repos.d/gitlab-ce.repo &lt;&lt; EOF</span><br><span class=\"line\">[gitlab-ce]</span><br><span class=\"line\">name=Gitlab CE Repository</span><br><span class=\"line\">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el<span class=\"variable\">$releasever</span>/</span><br><span class=\"line\">gpgcheck=0</span><br><span class=\"line\">enabled=1 </span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h5 id=\"GitLab-CE\"><a href=\"#GitLab-CE\" class=\"headerlink\" title=\"GitLab-CE\"></a>GitLab-CE</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum makecache</span><br><span class=\"line\">$ yum install gitlab-ce -y</span><br></pre></td></tr></table></figure>\n<h5 id=\"GitLab-CE\"><a href=\"#GitLab-CE\" class=\"headerlink\" title=\"GitLab-CE\"></a>GitLab-CE</h5><p><code>/etc/gitlab/gitlab.rb</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#external_url gitlab</span></span><br><span class=\"line\">$ vim /etc/gitlab/gitlab.rb</span><br><span class=\"line\">external_url <span class=\"string\">'http://git.ipyker.com'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#gitlab/etc/gitlab/gitlab.rb517</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_enable'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_address'</span>] = <span class=\"string\">\"smtp.ipyker.com\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_port'</span>] = 465</span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_user_name'</span>] = <span class=\"string\">\"gitlab@ipyker.com\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_password'</span>] = <span class=\"string\">\"mypasswd\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_authentication'</span>] = <span class=\"string\">\"login\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_enable_starttls_auto'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_tls'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'gitlab_email_from'</span>] = <span class=\"string\">'gitlab@ipyker.com'</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_domain'</span>] = <span class=\"string\">\"ipyker.com\"</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><strong>GitLab/var/opt/gitlab/opt/gitlab/etc/gitlab</strong></p>\n</blockquote>\n<h4 id=\"GitLab\"><a href=\"#GitLab\" class=\"headerlink\" title=\"GitLab\"></a>GitLab</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl <span class=\"literal\">start</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl <span class=\"built_in\">stop</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>gitlab-ctl restart</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>gitlabrootrootgitlabgitlab<br><img src=\"/images/pic/welcome-gitlab.png\" alt></p>\n<p><img src=\"/images/pic/language.png\" alt></p>\n<p><strong>gitlab<a href=\"https://docs.gitlab.com/omnibus/settings/README.html\" target=\"_blank\" rel=\"noopener\">GitLab</a></strong></p>\n<hr>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><h4 id=\"GitLab-docker-\"><a href=\"#GitLab-docker-\" class=\"headerlink\" title=\"GitLab docker \"></a>GitLab docker </h4><p>gitlab-ce<a href=\"https://hub.docker.com/r/gitlab/gitlab-ce/\" target=\"_blank\" rel=\"noopener\">docker</a></p>\n<p>GitLab DockerGitLab<br>GitLab CERC<code>gitlab/gitlab-ce:rc</code> GitLab CE<br>GitLab Docker</p>\n<ul>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#run-the-image\" target=\"_blank\" rel=\"noopener\">Docker Engine</a></li>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#install-gitlab-into-a-cluster\" target=\"_blank\" rel=\"noopener\">GitLab</a></li>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#install-gitlab-using-docker-compose\" target=\"_blank\" rel=\"noopener\">docker-composeGitLab</a></li>\n</ul>\n<p><strong>dockerkubenetes deplymentpod</strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>docker<a href=\"https://www.ipyker.com/2019/03/21/centos7-install-docker-ce/\">docker-ce</a></p>\n<h4 id=\"gitlab-ce\"><a href=\"#gitlab-ce\" class=\"headerlink\" title=\"gitlab-ce\"></a>gitlab-ce</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -d \\</span><br><span class=\"line\">  --hostname gitlab.example.com \\</span><br><span class=\"line\">  --publish 443:443 --publish 80:80 --publish 22:22 \\</span><br><span class=\"line\">  --name gitlab \\</span><br><span class=\"line\">  --restart always \\</span><br><span class=\"line\">  --volume /srv/gitlab/config:/etc/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/logs:/var/<span class=\"built_in\">log</span>/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/data:/var/opt/gitlab \\</span><br><span class=\"line\">  gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>docker run</code> docker pulldocker startgitlab-ceGitLab /srv/gitlab/restart</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>docker</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/srv/gitlab/data</td>\n<td>/var/opt/gitlab</td>\n<td></td>\n</tr>\n<tr>\n<td>/srv/gitlab/logs</td>\n<td>/var/log/gitlab</td>\n<td></td>\n</tr>\n<tr>\n<td>/srv/gitlab/config</td>\n<td>/etc/gitlab</td>\n<td>GitLab</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"girlab-ce\"><a href=\"#girlab-ce\" class=\"headerlink\" title=\"girlab-ce\"></a>girlab-ce</h4><p>Omnibus GitLabdocker/etc/gitlab/gitlab.rb</p>\n<p>GitLabshell<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker <span class=\"built_in\">exec</span> -it gitlab /bin/bash</span><br></pre></td></tr></table></figure></p>\n<p><code>/etc/gitlab/gitlab.rb</code> <code>external_url</code> URL</p>\n<p><code>GITLAB_OMNIBUS_CONFIG</code> docker runGitLab Dockergitlab.rbgitlab.rbGitLabURL<a href=\"https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template\" target=\"_blank\" rel=\"noopener\">Omnibus GitLab</a> <br><code>GITLAB_OMNIBUS_CONFIG</code> gitlab.rb<br>URLLFS<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -d \\</span><br><span class=\"line\">  --hostname gitlab.example.com \\</span><br><span class=\"line\">  --env GITLAB_OMNIBUS_CONFIG=<span class=\"string\">\"external_url 'http://my.domain.com/'; gitlab_rails['lfs_enabled'] = true;\"</span> \\</span><br><span class=\"line\">  --publish 443:443 --publish 80:80 --publish 22:22 \\</span><br><span class=\"line\">  --name gitlab \\</span><br><span class=\"line\">  --restart always \\</span><br><span class=\"line\">  --volume /srv/gitlab/config:/etc/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/logs:/var/<span class=\"built_in\">log</span>/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/data:/var/opt/gitlab \\</span><br><span class=\"line\">  gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure></p>\n<p><strong>GitLab SMTPGitLab DockerSMTPHTTPhttps</strong></p>\n<h4 id=\"gitlab-ce\"><a href=\"#gitlab-ce\" class=\"headerlink\" title=\"gitlab-ce\"></a>gitlab-ce</h4><p>GitLab<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker restart gitlab</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h4><p>omnibus-gitlabHTTPSgitlab.example.comHTTPS<code>/etc/gitlab/gitlab.rb</code> <br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">external_url </span><span class=\"string\">\"https://gitlab.example.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>gitlab.example.com<code>/etc/gitlab/ssl</code> <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mkdir -p /etc/gitlab/ssl</span><br><span class=\"line\">$ sudo chmod 700 /etc/gitlab/ssl</span><br><span class=\"line\">$ sudo cp gitlab.example.com.key gitlab.example.com.crt /etc/gitlab/ssl/</span><br></pre></td></tr></table></figure></p>\n<p>GitLab<a href=\"https://gitlab.example.com\" target=\"_blank\" rel=\"noopener\">https://gitlab.example.com</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>certificate.keyNginx<code>sudo gitlab-ctl reconfigure</code> Omnibus GitLab <code>openssl rsa -in certificate_before.key -out certificate_after.key</code> </p>\n</blockquote>\n","site":{"data":{}},"length":4231,"excerpt":"","more":"<p>gitgit webgitolitegitolitegit web(gitlab)gitoliteSSH KEYwebCI/CDPIPELINEgitlab</p>\n<blockquote>\n<p>GitLabOmnibus<code>4GB</code>` GitLab</p>\n</blockquote>\n<h2 id=\"GitLab\"><a href=\"#GitLab\" class=\"headerlink\" title=\"GitLab\"></a>GitLab</h2><h3 id=\"Omnibus\"><a href=\"#Omnibus\" class=\"headerlink\" title=\"Omnibus\"></a>Omnibus</h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>CentOS 7RedHat / Oracle / Scientific Linux 7<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y curl policycoreutils-python openssh-server</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"GitLabyum\"><a href=\"#GitLabyum\" class=\"headerlink\" title=\"GitLabyum\"></a>GitLabyum</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /etc/yum.repos.d/gitlab-ce.repo &lt;&lt; EOF</span><br><span class=\"line\">[gitlab-ce]</span><br><span class=\"line\">name=Gitlab CE Repository</span><br><span class=\"line\">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el<span class=\"variable\">$releasever</span>/</span><br><span class=\"line\">gpgcheck=0</span><br><span class=\"line\">enabled=1 </span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h5 id=\"GitLab-CE\"><a href=\"#GitLab-CE\" class=\"headerlink\" title=\"GitLab-CE\"></a>GitLab-CE</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum makecache</span><br><span class=\"line\">$ yum install gitlab-ce -y</span><br></pre></td></tr></table></figure>\n<h5 id=\"GitLab-CE\"><a href=\"#GitLab-CE\" class=\"headerlink\" title=\"GitLab-CE\"></a>GitLab-CE</h5><p><code>/etc/gitlab/gitlab.rb</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#external_url gitlab</span></span><br><span class=\"line\">$ vim /etc/gitlab/gitlab.rb</span><br><span class=\"line\">external_url <span class=\"string\">'http://git.ipyker.com'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#gitlab/etc/gitlab/gitlab.rb517</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_enable'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_address'</span>] = <span class=\"string\">\"smtp.ipyker.com\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_port'</span>] = 465</span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_user_name'</span>] = <span class=\"string\">\"gitlab@ipyker.com\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_password'</span>] = <span class=\"string\">\"mypasswd\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_authentication'</span>] = <span class=\"string\">\"login\"</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_enable_starttls_auto'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_tls'</span>] = <span class=\"literal\">true</span> </span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'gitlab_email_from'</span>] = <span class=\"string\">'gitlab@ipyker.com'</span></span><br><span class=\"line\">gitlab_rails[<span class=\"string\">'smtp_domain'</span>] = <span class=\"string\">\"ipyker.com\"</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><strong>GitLab/var/opt/gitlab/opt/gitlab/etc/gitlab</strong></p>\n</blockquote>\n<h4 id=\"GitLab\"><a href=\"#GitLab\" class=\"headerlink\" title=\"GitLab\"></a>GitLab</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl <span class=\"literal\">start</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl <span class=\"built_in\">stop</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>gitlab-ctl restart</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>gitlabrootrootgitlabgitlab<br><img src=\"/images/pic/welcome-gitlab.png\" alt></p>\n<p><img src=\"/images/pic/language.png\" alt></p>\n<p><strong>gitlab<a href=\"https://docs.gitlab.com/omnibus/settings/README.html\" target=\"_blank\" rel=\"noopener\">GitLab</a></strong></p>\n<hr>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><h4 id=\"GitLab-docker-\"><a href=\"#GitLab-docker-\" class=\"headerlink\" title=\"GitLab docker \"></a>GitLab docker </h4><p>gitlab-ce<a href=\"https://hub.docker.com/r/gitlab/gitlab-ce/\" target=\"_blank\" rel=\"noopener\">docker</a></p>\n<p>GitLab DockerGitLab<br>GitLab CERC<code>gitlab/gitlab-ce:rc</code> GitLab CE<br>GitLab Docker</p>\n<ul>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#run-the-image\" target=\"_blank\" rel=\"noopener\">Docker Engine</a></li>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#install-gitlab-into-a-cluster\" target=\"_blank\" rel=\"noopener\">GitLab</a></li>\n<li><a href=\"https://docs.gitlab.com/omnibus/docker/#install-gitlab-using-docker-compose\" target=\"_blank\" rel=\"noopener\">docker-composeGitLab</a></li>\n</ul>\n<p><strong>dockerkubenetes deplymentpod</strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>docker<a href=\"https://www.ipyker.com/2019/03/21/centos7-install-docker-ce/\">docker-ce</a></p>\n<h4 id=\"gitlab-ce\"><a href=\"#gitlab-ce\" class=\"headerlink\" title=\"gitlab-ce\"></a>gitlab-ce</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -d \\</span><br><span class=\"line\">  --hostname gitlab.example.com \\</span><br><span class=\"line\">  --publish 443:443 --publish 80:80 --publish 22:22 \\</span><br><span class=\"line\">  --name gitlab \\</span><br><span class=\"line\">  --restart always \\</span><br><span class=\"line\">  --volume /srv/gitlab/config:/etc/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/logs:/var/<span class=\"built_in\">log</span>/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/data:/var/opt/gitlab \\</span><br><span class=\"line\">  gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>docker run</code> docker pulldocker startgitlab-ceGitLab /srv/gitlab/restart</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>docker</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/srv/gitlab/data</td>\n<td>/var/opt/gitlab</td>\n<td></td>\n</tr>\n<tr>\n<td>/srv/gitlab/logs</td>\n<td>/var/log/gitlab</td>\n<td></td>\n</tr>\n<tr>\n<td>/srv/gitlab/config</td>\n<td>/etc/gitlab</td>\n<td>GitLab</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"girlab-ce\"><a href=\"#girlab-ce\" class=\"headerlink\" title=\"girlab-ce\"></a>girlab-ce</h4><p>Omnibus GitLabdocker/etc/gitlab/gitlab.rb</p>\n<p>GitLabshell<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker <span class=\"built_in\">exec</span> -it gitlab /bin/bash</span><br></pre></td></tr></table></figure></p>\n<p><code>/etc/gitlab/gitlab.rb</code> <code>external_url</code> URL</p>\n<p><code>GITLAB_OMNIBUS_CONFIG</code> docker runGitLab Dockergitlab.rbgitlab.rbGitLabURL<a href=\"https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template\" target=\"_blank\" rel=\"noopener\">Omnibus GitLab</a> <br><code>GITLAB_OMNIBUS_CONFIG</code> gitlab.rb<br>URLLFS<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -d \\</span><br><span class=\"line\">  --hostname gitlab.example.com \\</span><br><span class=\"line\">  --env GITLAB_OMNIBUS_CONFIG=<span class=\"string\">\"external_url 'http://my.domain.com/'; gitlab_rails['lfs_enabled'] = true;\"</span> \\</span><br><span class=\"line\">  --publish 443:443 --publish 80:80 --publish 22:22 \\</span><br><span class=\"line\">  --name gitlab \\</span><br><span class=\"line\">  --restart always \\</span><br><span class=\"line\">  --volume /srv/gitlab/config:/etc/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/logs:/var/<span class=\"built_in\">log</span>/gitlab \\</span><br><span class=\"line\">  --volume /srv/gitlab/data:/var/opt/gitlab \\</span><br><span class=\"line\">  gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure></p>\n<p><strong>GitLab SMTPGitLab DockerSMTPHTTPhttps</strong></p>\n<h4 id=\"gitlab-ce\"><a href=\"#gitlab-ce\" class=\"headerlink\" title=\"gitlab-ce\"></a>gitlab-ce</h4><p>GitLab<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker restart gitlab</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h4><p>omnibus-gitlabHTTPSgitlab.example.comHTTPS<code>/etc/gitlab/gitlab.rb</code> <br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">external_url </span><span class=\"string\">\"https://gitlab.example.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>gitlab.example.com<code>/etc/gitlab/ssl</code> <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mkdir -p /etc/gitlab/ssl</span><br><span class=\"line\">$ sudo chmod 700 /etc/gitlab/ssl</span><br><span class=\"line\">$ sudo cp gitlab.example.com.key gitlab.example.com.crt /etc/gitlab/ssl/</span><br></pre></td></tr></table></figure></p>\n<p>GitLab<a href=\"https://gitlab.example.com\" target=\"_blank\" rel=\"noopener\">https://gitlab.example.com</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>certificate.keyNginx<code>sudo gitlab-ctl reconfigure</code> Omnibus GitLab <code>openssl rsa -in certificate_before.key -out certificate_after.key</code> </p>\n</blockquote>\n"},{"layout":"post","title":"Nginx","author":"Pyker","img":"/images/bar/nginx-variable.jpg","top":false,"cover":false,"date":"2018-01-23T13:18:00.000Z","_content":"## Nginx \nnginxnginxngx_http_core_modulenginxHTTP\n```\n$args                    #\n$query_string            # $args\n$arg_NAME                #GETNAME\n$is_args                 #\"?\"\n$uri                     #URI($args)$request_uriindex$uri\"/foo/bar.html\"\n$document_uri            # $uri\n$document_root           #\n$host                    #HTTP>\"HOST\">\n$hostname                #\n$https                   #SSL\"on\"\n$binary_remote_addr      #4\n$body_bytes_sent         #Apachemod_log_config\"%B\"\n$bytes_sent              #\n$connection              #TCP\n$connection_requests     #TCP\n$content_length          #\"Content-Length\" \n$content_type            #\"Content-Type\" \n$cookie_name             #cookie\n$limit_rate              #\n$msec                    #Unix\n$nginx_version           #nginx\n$pid                     #PID\n$pipe                    #\"p\"\".\"\n$proxy_protocol_addr     #\n$realpath_root           #\n$remote_addr             #\n$remote_port             #\n$remote_user             #HTTP\n$request                 #\n$request_body            #locationproxy_passfastcgi_passuwsgi_passscgi_pass\n$request_body_file       #client_body_in_file_onlyrequest bodyproxy_pass_request_body offfastcgi_pass_request_body offuwsgi_pass_request_body offor scgi_pass_request_body off\n$request_completion      #\"OK\"\n$request_filename        #rootaliasURI\n$request_length          # (http)\n$request_method          #HTTP\"GET\"\"POST\"\n$request_time            #; \n$request_uri             #URI$uriURI\"/cnphp/test.php?arg=freemouse\"\n$scheme                  #Web\"http\"  \"https\"\n$server_addr             #linuxip\n$server_name             #\n$server_port             #\n$server_protocol         #HTTP \"HTTP/1.0\"  \"HTTP/1.1\"\n$status                  #HTTP\n$time_iso8601            #ISO 8610\n$time_local              #LOG Format \n$cookie_NAME             #Headercookie\"$cookie_\"cookiecookie\n$http_NAME               #NAMEhttp\"Accept-Language\"$http_accept_language\n$http_cookie\n$http_post\n$http_referer\t\t\t#url https://www.baidu.com/\n$http_user_agent\t\t# \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;\n$http_x_forwarded_for\t#IPIP\n$sent_http_NAME\t\t\t#httpNAMEContent-length$sent_http_content_length\n$upstream_response_time\t#upstream0.002\n$upstream_addr\t\t\t#upstream 10.10.10.100:80\n$upstream_status\t\t#upstream 200\n$sent_http_cache_control\n$sent_http_connection\n$sent_http_content_type\n$sent_http_keep_alive\n$sent_http_last_modified\n$sent_http_location\n$sent_http_transfer_encoding\n```\nnginxnginxnginxnginx\n```\nlog_format  main  '$remote_addr $remote_user [$time_local] \"$request\" '\n                  '$status $body_bytes_sent \"$http_referer\" '\n                  '$http_user_agent $http_x_forwarded_for $request_time $upstream_response_time $upstream_addr $upstream_status';\n\n```\n\n```\n[root@nginx1 logs]# tail -f /data/wwwlogs/access.log\n...\n110.156.114.121 - [11/Aug/2017:09:57:19 +0800] \"GET /rest/mywork/latest/status/notification/count?_\n=1502416641768 HTTP/1.1\" 200 67 \"http://wiki.wang-inc.com/pages/viewpage.action?pageId=11174759\" \nMozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36 - \n0.006 0.006 12.129.120.121:8090 200\n```","source":"_posts/nginx-variable.md","raw":"layout: post\ntitle: Nginx\nauthor: Pyker\ncategories: web\nimg: /images/bar/nginx-variable.jpg\ntags:\n  - nginx\ntop: false\ncover: false\ndate: 2018-01-23 21:18:00\n---\n## Nginx \nnginxnginxngx_http_core_modulenginxHTTP\n```\n$args                    #\n$query_string            # $args\n$arg_NAME                #GETNAME\n$is_args                 #\"?\"\n$uri                     #URI($args)$request_uriindex$uri\"/foo/bar.html\"\n$document_uri            # $uri\n$document_root           #\n$host                    #HTTP>\"HOST\">\n$hostname                #\n$https                   #SSL\"on\"\n$binary_remote_addr      #4\n$body_bytes_sent         #Apachemod_log_config\"%B\"\n$bytes_sent              #\n$connection              #TCP\n$connection_requests     #TCP\n$content_length          #\"Content-Length\" \n$content_type            #\"Content-Type\" \n$cookie_name             #cookie\n$limit_rate              #\n$msec                    #Unix\n$nginx_version           #nginx\n$pid                     #PID\n$pipe                    #\"p\"\".\"\n$proxy_protocol_addr     #\n$realpath_root           #\n$remote_addr             #\n$remote_port             #\n$remote_user             #HTTP\n$request                 #\n$request_body            #locationproxy_passfastcgi_passuwsgi_passscgi_pass\n$request_body_file       #client_body_in_file_onlyrequest bodyproxy_pass_request_body offfastcgi_pass_request_body offuwsgi_pass_request_body offor scgi_pass_request_body off\n$request_completion      #\"OK\"\n$request_filename        #rootaliasURI\n$request_length          # (http)\n$request_method          #HTTP\"GET\"\"POST\"\n$request_time            #; \n$request_uri             #URI$uriURI\"/cnphp/test.php?arg=freemouse\"\n$scheme                  #Web\"http\"  \"https\"\n$server_addr             #linuxip\n$server_name             #\n$server_port             #\n$server_protocol         #HTTP \"HTTP/1.0\"  \"HTTP/1.1\"\n$status                  #HTTP\n$time_iso8601            #ISO 8610\n$time_local              #LOG Format \n$cookie_NAME             #Headercookie\"$cookie_\"cookiecookie\n$http_NAME               #NAMEhttp\"Accept-Language\"$http_accept_language\n$http_cookie\n$http_post\n$http_referer\t\t\t#url https://www.baidu.com/\n$http_user_agent\t\t# \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;\n$http_x_forwarded_for\t#IPIP\n$sent_http_NAME\t\t\t#httpNAMEContent-length$sent_http_content_length\n$upstream_response_time\t#upstream0.002\n$upstream_addr\t\t\t#upstream 10.10.10.100:80\n$upstream_status\t\t#upstream 200\n$sent_http_cache_control\n$sent_http_connection\n$sent_http_content_type\n$sent_http_keep_alive\n$sent_http_last_modified\n$sent_http_location\n$sent_http_transfer_encoding\n```\nnginxnginxnginxnginx\n```\nlog_format  main  '$remote_addr $remote_user [$time_local] \"$request\" '\n                  '$status $body_bytes_sent \"$http_referer\" '\n                  '$http_user_agent $http_x_forwarded_for $request_time $upstream_response_time $upstream_addr $upstream_status';\n\n```\n\n```\n[root@nginx1 logs]# tail -f /data/wwwlogs/access.log\n...\n110.156.114.121 - [11/Aug/2017:09:57:19 +0800] \"GET /rest/mywork/latest/status/notification/count?_\n=1502416641768 HTTP/1.1\" 200 67 \"http://wiki.wang-inc.com/pages/viewpage.action?pageId=11174759\" \nMozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36 - \n0.006 0.006 12.129.120.121:8090 200\n```","slug":"nginx-variable","published":1,"updated":"2019-05-23T18:37:45.959Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyp000fp4n70fhjbu6m","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"Nginx-\"><a href=\"#Nginx-\" class=\"headerlink\" title=\"Nginx \"></a>Nginx </h2><p>nginxnginxngx_http_core_modulenginxHTTP<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$args</span>                    #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$query</span>_string            # $args</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$arg</span>_NAME                #GETNAME</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$is</span>_args                 #\"?\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$uri</span>                     #URI($args)$request_uriindex$uri\"/foo/bar.html\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$document</span>_uri            # $uri</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$document</span>_root           #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$host</span>                    #HTTP&gt;\"HOST\"&gt;</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$hostname</span>                #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$https</span>                   #SSL\"on\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$binary</span>_remote_addr      #4</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$body</span>_bytes_sent         #Apachemod_log_config\"%B\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$bytes</span>_sent              #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$connection</span>              #TCP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$connection</span>_requests     #TCP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$content</span>_length          #\"Content-Length\" </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$content</span>_type            #\"Content-Type\" </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$cookie</span>_name             #cookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$limit</span>_rate              #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$msec</span>                    #Unix</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$nginx</span>_version           #nginx</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$pid</span>                     #PID</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$pipe</span>                    #\"p\"\".\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$proxy</span>_protocol_addr     #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$realpath</span>_root           #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_addr             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_port             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_user             #HTTP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>                 #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_body            #locationproxy_passfastcgi_passuwsgi_passscgi_pass</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_body_file       #client_body_in_file_onlyrequest bodyproxy_pass_request_body offfastcgi_pass_request_body offuwsgi_pass_request_body offor scgi_pass_request_body off</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_completion      #\"OK\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_filename        #rootaliasURI</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_length          # (http)</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_method          #HTTP\"GET\"\"POST\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_time            #; </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_uri             #URI$uriURI\"/cnphp/test.php?arg=freemouse\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$scheme</span>                  #Web\"http\"  \"https\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_addr             #linuxip</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_name             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_port             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_protocol         #HTTP \"HTTP/1.0\"  \"HTTP/1.1\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$status</span>                  #HTTP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$time</span>_iso8601            #ISO 8610</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$time</span>_local              #LOG Format </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$cookie</span>_NAME             #Headercookie\"$cookie_\"cookiecookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_NAME               #NAMEhttp\"Accept-Language\"$http_accept_language</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_cookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_post</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_referer\t\t\t#url https://www.baidu.com/</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_user_agent\t\t# \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_x_forwarded_for\t#IPIP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_NAME\t\t\t#httpNAMEContent-length$sent_http_content_length</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_response_time\t#upstream0.002</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_addr\t\t\t#upstream 10.10.10.100:80</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_status\t\t#upstream 200</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_cache_control</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_connection</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_content_type</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_keep_alive</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_last_modified</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_location</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_transfer_encoding</span></span><br></pre></td></tr></table></figure></p>\n<p>nginxnginxnginxnginx<br><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">log_format</span>  main  <span class=\"string\">'<span class=\"variable\">$remote_addr</span> <span class=\"variable\">$remote_user</span> [<span class=\"variable\">$time_local</span>] \"<span class=\"variable\">$request</span>\" '</span></span><br><span class=\"line\">                  <span class=\"string\">'<span class=\"variable\">$status</span> <span class=\"variable\">$body_bytes_sent</span> \"<span class=\"variable\">$http_referer</span>\" '</span></span><br><span class=\"line\">                  <span class=\"string\">'<span class=\"variable\">$http_user_agent</span> <span class=\"variable\">$http_x_forwarded_for</span> <span class=\"variable\">$request_time</span> <span class=\"variable\">$upstream_response_time</span> <span class=\"variable\">$upstream_addr</span> <span class=\"variable\">$upstream_status</span>'</span>;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@nginx1 logs]# tail -f /data/wwwlogs/access.log</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"number\">110.156.114.121</span> - [<span class=\"number\">11</span>/Aug/<span class=\"number\">2017:09:57</span>:<span class=\"number\">19</span> +<span class=\"number\">0800</span>] \"GET /rest/mywork/latest/status/notification/count?_</span><br><span class=\"line\">=<span class=\"number\">1502416641768</span> HTTP/<span class=\"number\">1</span>.<span class=\"number\">1</span>\" <span class=\"number\">200</span> <span class=\"number\">67</span> \"http://wiki.wang-inc.com/pages/viewpage.action?pageId=<span class=\"number\">11174759</span>\" </span><br><span class=\"line\">Mozilla/<span class=\"number\">5</span>.<span class=\"number\">0</span> (Windows NT <span class=\"number\">10</span>.<span class=\"number\">0</span><span class=\"comment\">; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36 - </span></span><br><span class=\"line\"><span class=\"number\">0.006 0</span>.<span class=\"number\">006 12.129</span>.<span class=\"number\">120.121:8090</span> <span class=\"number\">200</span></span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"length":4274,"excerpt":"","more":"<h2 id=\"Nginx-\"><a href=\"#Nginx-\" class=\"headerlink\" title=\"Nginx \"></a>Nginx </h2><p>nginxnginxngx_http_core_modulenginxHTTP<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$args</span>                    #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$query</span>_string            # $args</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$arg</span>_NAME                #GETNAME</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$is</span>_args                 #\"?\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$uri</span>                     #URI($args)$request_uriindex$uri\"/foo/bar.html\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$document</span>_uri            # $uri</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$document</span>_root           #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$host</span>                    #HTTP&gt;\"HOST\"&gt;</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$hostname</span>                #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$https</span>                   #SSL\"on\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$binary</span>_remote_addr      #4</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$body</span>_bytes_sent         #Apachemod_log_config\"%B\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$bytes</span>_sent              #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$connection</span>              #TCP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$connection</span>_requests     #TCP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$content</span>_length          #\"Content-Length\" </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$content</span>_type            #\"Content-Type\" </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$cookie</span>_name             #cookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$limit</span>_rate              #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$msec</span>                    #Unix</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$nginx</span>_version           #nginx</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$pid</span>                     #PID</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$pipe</span>                    #\"p\"\".\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$proxy</span>_protocol_addr     #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$realpath</span>_root           #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_addr             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_port             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$remote</span>_user             #HTTP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>                 #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_body            #locationproxy_passfastcgi_passuwsgi_passscgi_pass</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_body_file       #client_body_in_file_onlyrequest bodyproxy_pass_request_body offfastcgi_pass_request_body offuwsgi_pass_request_body offor scgi_pass_request_body off</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_completion      #\"OK\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_filename        #rootaliasURI</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_length          # (http)</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_method          #HTTP\"GET\"\"POST\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_time            #; </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$request</span>_uri             #URI$uriURI\"/cnphp/test.php?arg=freemouse\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$scheme</span>                  #Web\"http\"  \"https\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_addr             #linuxip</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_name             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_port             #</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$server</span>_protocol         #HTTP \"HTTP/1.0\"  \"HTTP/1.1\"</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$status</span>                  #HTTP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$time</span>_iso8601            #ISO 8610</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$time</span>_local              #LOG Format </span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$cookie</span>_NAME             #Headercookie\"$cookie_\"cookiecookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_NAME               #NAMEhttp\"Accept-Language\"$http_accept_language</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_cookie</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_post</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_referer\t\t\t#url https://www.baidu.com/</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_user_agent\t\t# \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$http</span>_x_forwarded_for\t#IPIP</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_NAME\t\t\t#httpNAMEContent-length$sent_http_content_length</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_response_time\t#upstream0.002</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_addr\t\t\t#upstream 10.10.10.100:80</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$upstream</span>_status\t\t#upstream 200</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_cache_control</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_connection</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_content_type</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_keep_alive</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_last_modified</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_location</span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">$sent</span>_http_transfer_encoding</span></span><br></pre></td></tr></table></figure></p>\n<p>nginxnginxnginxnginx<br><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">log_format</span>  main  <span class=\"string\">'<span class=\"variable\">$remote_addr</span> <span class=\"variable\">$remote_user</span> [<span class=\"variable\">$time_local</span>] \"<span class=\"variable\">$request</span>\" '</span></span><br><span class=\"line\">                  <span class=\"string\">'<span class=\"variable\">$status</span> <span class=\"variable\">$body_bytes_sent</span> \"<span class=\"variable\">$http_referer</span>\" '</span></span><br><span class=\"line\">                  <span class=\"string\">'<span class=\"variable\">$http_user_agent</span> <span class=\"variable\">$http_x_forwarded_for</span> <span class=\"variable\">$request_time</span> <span class=\"variable\">$upstream_response_time</span> <span class=\"variable\">$upstream_addr</span> <span class=\"variable\">$upstream_status</span>'</span>;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@nginx1 logs]# tail -f /data/wwwlogs/access.log</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"number\">110.156.114.121</span> - [<span class=\"number\">11</span>/Aug/<span class=\"number\">2017:09:57</span>:<span class=\"number\">19</span> +<span class=\"number\">0800</span>] \"GET /rest/mywork/latest/status/notification/count?_</span><br><span class=\"line\">=<span class=\"number\">1502416641768</span> HTTP/<span class=\"number\">1</span>.<span class=\"number\">1</span>\" <span class=\"number\">200</span> <span class=\"number\">67</span> \"http://wiki.wang-inc.com/pages/viewpage.action?pageId=<span class=\"number\">11174759</span>\" </span><br><span class=\"line\">Mozilla/<span class=\"number\">5</span>.<span class=\"number\">0</span> (Windows NT <span class=\"number\">10</span>.<span class=\"number\">0</span><span class=\"comment\">; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36 - </span></span><br><span class=\"line\"><span class=\"number\">0.006 0</span>.<span class=\"number\">006 12.129</span>.<span class=\"number\">120.121:8090</span> <span class=\"number\">200</span></span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"systemctl unit","author":"Pyker","img":"/images/bar/systemctl.jpg","top":false,"cover":false,"date":"2017-11-16T09:10:00.000Z","_content":"systemctlRHEL 7 servicechkconfig/\n## \nsystemd`/user/lib/systemd/system/`, `/etc/lib/systemd/user/``/etc/systemd/system/``/usr/lib/systemd/system/` `systemctl enable xxx.service``/etc/systemd/system/multi-user.target.wants/`\n## \nsystemctl`[Unit]``[Service]``[Install]`\n### [Unit]\n\n  * `Description` : \n  * `Documentation`  \n  * `Before=xxx.service`xxx.service\n  * `After=xxx.service`xxx.service\n  * `Requires` \n  * `Wants` \n---\n### [Service]\n\n  * `WorkingDirectory`\n\n  * `EnvironmentFile``${}`\n\n  * `Type=simple`systemdforksocket\n\n  * `Type=forking`systemdforkdaemon** PIDFile=**systemd\n\n  * `Type=oneshot`** RemainAfterExit=yes**  systemd \n\n  * `Type=notify` Type=simple  systemd  libsystemd-daemon.so \n\n  * `Type=dbus` BusName DBussystemd\n\n  * `Type=idle`: systemd(Jobs)idleType=simple \n\n  * `PIDFile`pid\n\n  * `ExecStart`\n\n  * `ExecStartPreExecStartPost`ExecStart**Type=oneshot**\n\n  * `ExecReload`\n\n  * `ExecStop`\n\n  * `PrivateTmp`True\n\n  * `LimitNOFILE` infinity\n\n  * `LimitNPROC` infinity\n\n  * `LimitCORE` infinity\n\n  * `Restart`systemctl**on-failure**\n\n  * `RemainAfterExit`Type=oneshot\n---\n### [Install]\n\n  * `Alias`\n  * `RequiredBy`RequiredByRequire\n  * `WantBy`WantbyWant\n  * `Also`\n  * `DefaultInstance`\n---\n## mysql.service\n```bash\n[Unit]\nDescription=MySQL Server\nDocumentation=man:mysqld(8)\nDocumentation=http://dev.mysql.com/doc/refman/en/using-systemd.html\nAfter=network.target\nAfter=syslog.target\n\n[Service]\nUser=mysql\nGroup=mysql\nType=forking\nPIDFile=/var/run/mysqld/mysqld.pid\nTimeoutSec=0\nPermissionsStartOnly=true\nExecStartPre=/usr/bin/mysqld_pre_systemd\nExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS\nEnvironmentFile=-/etc/sysconfig/mysql\nLimitNOFILE = 5000\nRestart=on-failure\nRestartPreventExitStatus=1\nPrivateTmp=false\n\n[Install]\nWantedBy=multi-user.target\n```\n## etcd.service\n```bash\n[Unit]\nDescription=Etcd Server\nAfter=network.target\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nType=notify\nWorkingDirectory=/var/lib/etcd/\nEnvironmentFile=-/etc/etcd/etcd.conf          #etcd\nExecStart=/bin/bash -c \"GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\\\"${ETCD_NAME}\\\" --data-dir=\\\"${ETCD_DATA_DIR}\\\" --listen-client-urls=\\\"${ETCD_LISTEN_CLIENT_URLS}\\\"\"\nRestart=on-failure\nLimitNOFILE=65536\n\n[Install]\nWantedBy=multi-user.target    # WorkingDirectoryetcdetcd****\n```\n","source":"_posts/systemctl-unit.md","raw":"layout: post\ntitle: systemctl unit\nauthor: Pyker\ncategories: Linux\nimg: /images/bar/systemctl.jpg\ntags:\n  - Linux\ntop: false\ncover: false\ndate: 2017-11-16 17:10:00\n---\nsystemctlRHEL 7 servicechkconfig/\n## \nsystemd`/user/lib/systemd/system/`, `/etc/lib/systemd/user/``/etc/systemd/system/``/usr/lib/systemd/system/` `systemctl enable xxx.service``/etc/systemd/system/multi-user.target.wants/`\n## \nsystemctl`[Unit]``[Service]``[Install]`\n### [Unit]\n\n  * `Description` : \n  * `Documentation`  \n  * `Before=xxx.service`xxx.service\n  * `After=xxx.service`xxx.service\n  * `Requires` \n  * `Wants` \n---\n### [Service]\n\n  * `WorkingDirectory`\n\n  * `EnvironmentFile``${}`\n\n  * `Type=simple`systemdforksocket\n\n  * `Type=forking`systemdforkdaemon** PIDFile=**systemd\n\n  * `Type=oneshot`** RemainAfterExit=yes**  systemd \n\n  * `Type=notify` Type=simple  systemd  libsystemd-daemon.so \n\n  * `Type=dbus` BusName DBussystemd\n\n  * `Type=idle`: systemd(Jobs)idleType=simple \n\n  * `PIDFile`pid\n\n  * `ExecStart`\n\n  * `ExecStartPreExecStartPost`ExecStart**Type=oneshot**\n\n  * `ExecReload`\n\n  * `ExecStop`\n\n  * `PrivateTmp`True\n\n  * `LimitNOFILE` infinity\n\n  * `LimitNPROC` infinity\n\n  * `LimitCORE` infinity\n\n  * `Restart`systemctl**on-failure**\n\n  * `RemainAfterExit`Type=oneshot\n---\n### [Install]\n\n  * `Alias`\n  * `RequiredBy`RequiredByRequire\n  * `WantBy`WantbyWant\n  * `Also`\n  * `DefaultInstance`\n---\n## mysql.service\n```bash\n[Unit]\nDescription=MySQL Server\nDocumentation=man:mysqld(8)\nDocumentation=http://dev.mysql.com/doc/refman/en/using-systemd.html\nAfter=network.target\nAfter=syslog.target\n\n[Service]\nUser=mysql\nGroup=mysql\nType=forking\nPIDFile=/var/run/mysqld/mysqld.pid\nTimeoutSec=0\nPermissionsStartOnly=true\nExecStartPre=/usr/bin/mysqld_pre_systemd\nExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS\nEnvironmentFile=-/etc/sysconfig/mysql\nLimitNOFILE = 5000\nRestart=on-failure\nRestartPreventExitStatus=1\nPrivateTmp=false\n\n[Install]\nWantedBy=multi-user.target\n```\n## etcd.service\n```bash\n[Unit]\nDescription=Etcd Server\nAfter=network.target\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nType=notify\nWorkingDirectory=/var/lib/etcd/\nEnvironmentFile=-/etc/etcd/etcd.conf          #etcd\nExecStart=/bin/bash -c \"GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\\\"${ETCD_NAME}\\\" --data-dir=\\\"${ETCD_DATA_DIR}\\\" --listen-client-urls=\\\"${ETCD_LISTEN_CLIENT_URLS}\\\"\"\nRestart=on-failure\nLimitNOFILE=65536\n\n[Install]\nWantedBy=multi-user.target    # WorkingDirectoryetcdetcd****\n```\n","slug":"systemctl-unit","published":1,"updated":"2019-05-23T18:48:55.192Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyr000jp4n722c6b6pr","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>systemctlRHEL 7 servicechkconfig/</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>systemd<code>/user/lib/systemd/system/</code>, <code>/etc/lib/systemd/user/</code><code>/etc/systemd/system/</code><code>/usr/lib/systemd/system/</code> <code>systemctl enable xxx.service</code><code>/etc/systemd/system/multi-user.target.wants/</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>systemctl<code>[Unit]</code><code>[Service]</code><code>[Install]</code></p>\n<h3 id=\"Unit\"><a href=\"#Unit\" class=\"headerlink\" title=\"[Unit]\"></a>[Unit]</h3><p></p>\n<ul>\n<li><code>Description</code> : </li>\n<li><code>Documentation</code>  </li>\n<li><code>Before=xxx.service</code>xxx.service</li>\n<li><code>After=xxx.service</code>xxx.service</li>\n<li><code>Requires</code> </li>\n<li><code>Wants</code> </li>\n</ul>\n<hr>\n<h3 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"[Service]\"></a>[Service]</h3><p></p>\n<ul>\n<li><p><code>WorkingDirectory</code></p>\n</li>\n<li><p><code>EnvironmentFile</code><code>${}</code></p>\n</li>\n<li><p><code>Type=simple</code>systemdforksocket</p>\n</li>\n<li><p><code>Type=forking</code>systemdforkdaemon<strong> PIDFile=</strong>systemd</p>\n</li>\n<li><p><code>Type=oneshot</code><strong> RemainAfterExit=yes</strong>  systemd </p>\n</li>\n<li><p><code>Type=notify</code> Type=simple  systemd  libsystemd-daemon.so </p>\n</li>\n<li><p><code>Type=dbus</code> BusName DBussystemd</p>\n</li>\n<li><p><code>Type=idle</code>: systemd(Jobs)idleType=simple </p>\n</li>\n<li><p><code>PIDFile</code>pid</p>\n</li>\n<li><p><code>ExecStart</code></p>\n</li>\n<li><p><code>ExecStartPreExecStartPost</code>ExecStart<strong>Type=oneshot</strong></p>\n</li>\n<li><p><code>ExecReload</code></p>\n</li>\n<li><p><code>ExecStop</code></p>\n</li>\n<li><p><code>PrivateTmp</code>True</p>\n</li>\n<li><p><code>LimitNOFILE</code> infinity</p>\n</li>\n<li><p><code>LimitNPROC</code> infinity</p>\n</li>\n<li><p><code>LimitCORE</code> infinity</p>\n</li>\n<li><p><code>Restart</code>systemctl<strong>on-failure</strong></p>\n</li>\n<li><p><code>RemainAfterExit</code>Type=oneshot</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"[Install]\"></a>[Install]</h3><p></p>\n<ul>\n<li><code>Alias</code></li>\n<li><code>RequiredBy</code>RequiredByRequire</li>\n<li><code>WantBy</code>WantbyWant</li>\n<li><code>Also</code></li>\n<li><code>DefaultInstance</code></li>\n</ul>\n<hr>\n<h2 id=\"mysql-service\"><a href=\"#mysql-service\" class=\"headerlink\" title=\"mysql.service\"></a>mysql.service</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=MySQL Server</span><br><span class=\"line\">Documentation=man:mysqld(8)</span><br><span class=\"line\">Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\">After=syslog.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=mysql</span><br><span class=\"line\">Group=mysql</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">PIDFile=/var/run/mysqld/mysqld.pid</span><br><span class=\"line\">TimeoutSec=0</span><br><span class=\"line\">PermissionsStartOnly=<span class=\"literal\">true</span></span><br><span class=\"line\">ExecStartPre=/usr/bin/mysqld_pre_systemd</span><br><span class=\"line\">ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid <span class=\"variable\">$MYSQLD_OPTS</span></span><br><span class=\"line\">EnvironmentFile=-/etc/sysconfig/mysql</span><br><span class=\"line\">LimitNOFILE = 5000</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">RestartPreventExitStatus=1</span><br><span class=\"line\">PrivateTmp=<span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h2 id=\"etcd-service\"><a href=\"#etcd-service\" class=\"headerlink\" title=\"etcd.service\"></a>etcd.service</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Etcd Server</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=notify</span><br><span class=\"line\">WorkingDirectory=/var/lib/etcd/</span><br><span class=\"line\">EnvironmentFile=-/etc/etcd/etcd.conf          <span class=\"comment\">#etcd</span></span><br><span class=\"line\">ExecStart=/bin/bash -c <span class=\"string\">\"GOMAXPROCS=<span class=\"variable\">$(nproc)</span> /usr/bin/etcd --name=\\\"<span class=\"variable\">$&#123;ETCD_NAME&#125;</span>\\\" --data-dir=\\\"<span class=\"variable\">$&#123;ETCD_DATA_DIR&#125;</span>\\\" --listen-client-urls=\\\"<span class=\"variable\">$&#123;ETCD_LISTEN_CLIENT_URLS&#125;</span>\\\"\"</span></span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">LimitNOFILE=65536</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target    <span class=\"comment\"># WorkingDirectoryetcdetcd****</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"length":3215,"excerpt":"","more":"<p>systemctlRHEL 7 servicechkconfig/</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>systemd<code>/user/lib/systemd/system/</code>, <code>/etc/lib/systemd/user/</code><code>/etc/systemd/system/</code><code>/usr/lib/systemd/system/</code> <code>systemctl enable xxx.service</code><code>/etc/systemd/system/multi-user.target.wants/</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>systemctl<code>[Unit]</code><code>[Service]</code><code>[Install]</code></p>\n<h3 id=\"Unit\"><a href=\"#Unit\" class=\"headerlink\" title=\"[Unit]\"></a>[Unit]</h3><p></p>\n<ul>\n<li><code>Description</code> : </li>\n<li><code>Documentation</code>  </li>\n<li><code>Before=xxx.service</code>xxx.service</li>\n<li><code>After=xxx.service</code>xxx.service</li>\n<li><code>Requires</code> </li>\n<li><code>Wants</code> </li>\n</ul>\n<hr>\n<h3 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"[Service]\"></a>[Service]</h3><p></p>\n<ul>\n<li><p><code>WorkingDirectory</code></p>\n</li>\n<li><p><code>EnvironmentFile</code><code>${}</code></p>\n</li>\n<li><p><code>Type=simple</code>systemdforksocket</p>\n</li>\n<li><p><code>Type=forking</code>systemdforkdaemon<strong> PIDFile=</strong>systemd</p>\n</li>\n<li><p><code>Type=oneshot</code><strong> RemainAfterExit=yes</strong>  systemd </p>\n</li>\n<li><p><code>Type=notify</code> Type=simple  systemd  libsystemd-daemon.so </p>\n</li>\n<li><p><code>Type=dbus</code> BusName DBussystemd</p>\n</li>\n<li><p><code>Type=idle</code>: systemd(Jobs)idleType=simple </p>\n</li>\n<li><p><code>PIDFile</code>pid</p>\n</li>\n<li><p><code>ExecStart</code></p>\n</li>\n<li><p><code>ExecStartPreExecStartPost</code>ExecStart<strong>Type=oneshot</strong></p>\n</li>\n<li><p><code>ExecReload</code></p>\n</li>\n<li><p><code>ExecStop</code></p>\n</li>\n<li><p><code>PrivateTmp</code>True</p>\n</li>\n<li><p><code>LimitNOFILE</code> infinity</p>\n</li>\n<li><p><code>LimitNPROC</code> infinity</p>\n</li>\n<li><p><code>LimitCORE</code> infinity</p>\n</li>\n<li><p><code>Restart</code>systemctl<strong>on-failure</strong></p>\n</li>\n<li><p><code>RemainAfterExit</code>Type=oneshot</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"[Install]\"></a>[Install]</h3><p></p>\n<ul>\n<li><code>Alias</code></li>\n<li><code>RequiredBy</code>RequiredByRequire</li>\n<li><code>WantBy</code>WantbyWant</li>\n<li><code>Also</code></li>\n<li><code>DefaultInstance</code></li>\n</ul>\n<hr>\n<h2 id=\"mysql-service\"><a href=\"#mysql-service\" class=\"headerlink\" title=\"mysql.service\"></a>mysql.service</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=MySQL Server</span><br><span class=\"line\">Documentation=man:mysqld(8)</span><br><span class=\"line\">Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\">After=syslog.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=mysql</span><br><span class=\"line\">Group=mysql</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">PIDFile=/var/run/mysqld/mysqld.pid</span><br><span class=\"line\">TimeoutSec=0</span><br><span class=\"line\">PermissionsStartOnly=<span class=\"literal\">true</span></span><br><span class=\"line\">ExecStartPre=/usr/bin/mysqld_pre_systemd</span><br><span class=\"line\">ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid <span class=\"variable\">$MYSQLD_OPTS</span></span><br><span class=\"line\">EnvironmentFile=-/etc/sysconfig/mysql</span><br><span class=\"line\">LimitNOFILE = 5000</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">RestartPreventExitStatus=1</span><br><span class=\"line\">PrivateTmp=<span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h2 id=\"etcd-service\"><a href=\"#etcd-service\" class=\"headerlink\" title=\"etcd.service\"></a>etcd.service</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Etcd Server</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=notify</span><br><span class=\"line\">WorkingDirectory=/var/lib/etcd/</span><br><span class=\"line\">EnvironmentFile=-/etc/etcd/etcd.conf          <span class=\"comment\">#etcd</span></span><br><span class=\"line\">ExecStart=/bin/bash -c <span class=\"string\">\"GOMAXPROCS=<span class=\"variable\">$(nproc)</span> /usr/bin/etcd --name=\\\"<span class=\"variable\">$&#123;ETCD_NAME&#125;</span>\\\" --data-dir=\\\"<span class=\"variable\">$&#123;ETCD_DATA_DIR&#125;</span>\\\" --listen-client-urls=\\\"<span class=\"variable\">$&#123;ETCD_LISTEN_CLIENT_URLS&#125;</span>\\\"\"</span></span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">LimitNOFILE=65536</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target    <span class=\"comment\"># WorkingDirectoryetcdetcd****</span></span><br></pre></td></tr></table></figure>\n"},{"layout":"post","title":"Tomcat8APR","author":"Pyker","img":"/images/bar/tomcat.jpg","top":false,"cover":false,"date":"2018-12-14T10:47:00.000Z","_content":"### tomcat\nTomcat Connector\n* __bio__\n,,.\n\n* __nio__ \njavaio,noblocking IO,server.xmlConnector,protocol```protocol=\"org.apache.coyote.http11.Http11NioProtocol\" ``` ,\n\n* __apr__\n,IO,. Tomcat aprTomcataprapr-utilnativenioprotocol `org.apache.coyote.http11.Http11AprProtocol` apr\n\n### APR\n\n**tomcatJDK**\n\nTomcatapr, `` \n```\napr-1.6.2\napr-util-1.6.0\nopenssl-1.0.2l\n```\n#### \n```bash\n$ wget http://mirror.bit.edu.cn/apache//apr/apr-1.6.2.tar.gz\n$ wget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.0.tar.gz\n$ wget https://www.openssl.org/source/openssl-1.0.2l.tar.gz\n```\n#### \n```bash\n#apr\n$ tar zxvf apr-1.6.2.tar.gz\n$ cd apr-1.6.2\n$ ./configure --prefix=/usr/local/apr && make && make install\n#apr-util\n$ tar zxvf apr-util-1.6.0.tar.gz\n$ cd apr-util-1.6.0\n$ ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr && make && make install\n#openss-1.0.2l\n$ tar zxvf openssl-1.0.2l.tar.gz\n$ cd openssl-1.0.2l\n$ ./config --prefix=/usr/local/openssl shared zlib && make && make install\n```\n\n*1apr-util `expat-devel` `yum install expat-devel` *\n\n*2openssl `/usr/local/openssl/bin/openssl version -a`  1.0.2l*\n\n#### tomcat-native\n```bash\n$ tar zxvf /usr/local/tomcat8/bin/tomcat-native.tar.gz\n$ cd /usr/local/tomcat8/bin/tomcat-native-1.2.12-src/native\n$ ./configure --with-apr=/usr/local/apr --with-java-home=/usr/local/java8/ --with-ssl=/usr/local/openssl/ && make && make install\n```\n#### tomcataprapr\n```bash\n#1\n$ echo \"export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/apr/lib\" >> /etc/profile\n$ echo \"export LD_RUN_PATH=$LD_RUN_PATH:/usr/local/apr/lib\" >> /etc/profile && source /etc/profile\n#\n#2catalina.sh# Register custom URL handlers \n$ JAVA_OPTS=\"$JAVA_OPTS -Djava.library.path=/usr/local/apr/lib\"\n```\n#### tomcat server.xml\n\n\t <Connector port=\"8080\" protocol=\"org.apache.coyote.http11.Http11AprProtocol\"\n\t connectionTimeout=\"20000\"\n\t redirectPort=\"8443\" />\n\n#### Tomcat\n```bash\n$ cd /usr/local/tomcat8/bin\n$ ./startup.sh\n```\n#### Tomcat\n```bash\n$ cat /usr/local/tomcat8/logs/catalina.out\n```\n>`[http-apr-8080]` APR\n\n### java.net.ConnectException\ntomcattomcatJDK\n![](/images/pic/tomcat1.png)\n\nJDKjava.security,(`securerandom.source` )\n```bash\n$ vi /usr/local/java8/jre/lib/security/java.security\nsecurerandom.source=file:/dev/./urandom\n```","source":"_posts/tomcat-apr.md","raw":"layout: post\ntitle: Tomcat8APR\nauthor: Pyker\ncategories: web\nimg: /images/bar/tomcat.jpg\ntags:\n  - tomcat\ntop: false\ncover: false\ndate: 2018-12-14 18:47:00\n---\n### tomcat\nTomcat Connector\n* __bio__\n,,.\n\n* __nio__ \njavaio,noblocking IO,server.xmlConnector,protocol```protocol=\"org.apache.coyote.http11.Http11NioProtocol\" ``` ,\n\n* __apr__\n,IO,. Tomcat aprTomcataprapr-utilnativenioprotocol `org.apache.coyote.http11.Http11AprProtocol` apr\n\n### APR\n\n**tomcatJDK**\n\nTomcatapr, `` \n```\napr-1.6.2\napr-util-1.6.0\nopenssl-1.0.2l\n```\n#### \n```bash\n$ wget http://mirror.bit.edu.cn/apache//apr/apr-1.6.2.tar.gz\n$ wget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.0.tar.gz\n$ wget https://www.openssl.org/source/openssl-1.0.2l.tar.gz\n```\n#### \n```bash\n#apr\n$ tar zxvf apr-1.6.2.tar.gz\n$ cd apr-1.6.2\n$ ./configure --prefix=/usr/local/apr && make && make install\n#apr-util\n$ tar zxvf apr-util-1.6.0.tar.gz\n$ cd apr-util-1.6.0\n$ ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr && make && make install\n#openss-1.0.2l\n$ tar zxvf openssl-1.0.2l.tar.gz\n$ cd openssl-1.0.2l\n$ ./config --prefix=/usr/local/openssl shared zlib && make && make install\n```\n\n*1apr-util `expat-devel` `yum install expat-devel` *\n\n*2openssl `/usr/local/openssl/bin/openssl version -a`  1.0.2l*\n\n#### tomcat-native\n```bash\n$ tar zxvf /usr/local/tomcat8/bin/tomcat-native.tar.gz\n$ cd /usr/local/tomcat8/bin/tomcat-native-1.2.12-src/native\n$ ./configure --with-apr=/usr/local/apr --with-java-home=/usr/local/java8/ --with-ssl=/usr/local/openssl/ && make && make install\n```\n#### tomcataprapr\n```bash\n#1\n$ echo \"export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/apr/lib\" >> /etc/profile\n$ echo \"export LD_RUN_PATH=$LD_RUN_PATH:/usr/local/apr/lib\" >> /etc/profile && source /etc/profile\n#\n#2catalina.sh# Register custom URL handlers \n$ JAVA_OPTS=\"$JAVA_OPTS -Djava.library.path=/usr/local/apr/lib\"\n```\n#### tomcat server.xml\n\n\t <Connector port=\"8080\" protocol=\"org.apache.coyote.http11.Http11AprProtocol\"\n\t connectionTimeout=\"20000\"\n\t redirectPort=\"8443\" />\n\n#### Tomcat\n```bash\n$ cd /usr/local/tomcat8/bin\n$ ./startup.sh\n```\n#### Tomcat\n```bash\n$ cat /usr/local/tomcat8/logs/catalina.out\n```\n>`[http-apr-8080]` APR\n\n### java.net.ConnectException\ntomcattomcatJDK\n![](/images/pic/tomcat1.png)\n\nJDKjava.security,(`securerandom.source` )\n```bash\n$ vi /usr/local/java8/jre/lib/security/java.security\nsecurerandom.source=file:/dev/./urandom\n```","slug":"tomcat-apr","published":1,"updated":"2019-05-23T18:37:11.995Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyt000lp4n7lluv22oa","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h3 id=\"tomcat\"><a href=\"#tomcat\" class=\"headerlink\" title=\"tomcat\"></a>tomcat</h3><p>Tomcat Connector</p>\n<ul>\n<li><p><strong>bio</strong><br>,,.</p>\n</li>\n<li><p><strong>nio</strong><br>javaio,noblocking IO,server.xmlConnector,protocol<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* __apr__</span><br><span class=\"line\">,IO,. Tomcat aprTomcataprapr-utilnativenioprotocol `org.apache.coyote.http11.Http11AprProtocol` apr</span><br><span class=\"line\"></span><br><span class=\"line\">### APR</span><br><span class=\"line\"></span><br><span class=\"line\">**tomcatJDK**</span><br><span class=\"line\"></span><br><span class=\"line\">Tomcatapr, `` </span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<p>apr-1.6.2<br>apr-util-1.6.0<br>openssl-1.0.2l<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#### </span></span><br><span class=\"line\">```bash</span><br><span class=\"line\">$ wget http:<span class=\"regexp\">//mi</span>rror.bit.edu.cn<span class=\"regexp\">/apache/</span><span class=\"regexp\">/apr/</span>apr-<span class=\"number\">1.6</span>.<span class=\"number\">2</span>.tar.gz</span><br><span class=\"line\">$ wget http:<span class=\"regexp\">//mi</span>rror.bit.edu.cn<span class=\"regexp\">/apache/</span><span class=\"regexp\">/apr/</span>apr-util-<span class=\"number\">1.6</span>.<span class=\"number\">0</span>.tar.gz</span><br><span class=\"line\">$ wget https:<span class=\"regexp\">//</span>www.openssl.org<span class=\"regexp\">/source/</span>openssl-<span class=\"number\">1.0</span>.<span class=\"number\">2</span>l.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#apr</span></span><br><span class=\"line\">$ tar zxvf apr-1.6.2.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> apr-1.6.2</span><br><span class=\"line\">$ ./configure --prefix=/usr/<span class=\"built_in\">local</span>/apr &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"><span class=\"comment\">#apr-util</span></span><br><span class=\"line\">$ tar zxvf apr-util-1.6.0.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> apr-util-1.6.0</span><br><span class=\"line\">$ ./configure --prefix=/usr/<span class=\"built_in\">local</span>/apr-util --with-apr=/usr/<span class=\"built_in\">local</span>/apr &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"><span class=\"comment\">#openss-1.0.2l</span></span><br><span class=\"line\">$ tar zxvf openssl-1.0.2l.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> openssl-1.0.2l</span><br><span class=\"line\">$ ./config --prefix=/usr/<span class=\"built_in\">local</span>/openssl shared zlib &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p><em>1apr-util <code>expat-devel</code> <code>yum install expat-devel</code> </em></p>\n<p><em>2openssl <code>/usr/local/openssl/bin/openssl version -a</code>  1.0.2l</em></p>\n<h4 id=\"tomcat-native\"><a href=\"#tomcat-native\" class=\"headerlink\" title=\"tomcat-native\"></a>tomcat-native</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf /usr/<span class=\"built_in\">local</span>/tomcat8/bin/tomcat-native.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/tomcat8/bin/tomcat-native-1.2.12-src/native</span><br><span class=\"line\">$ ./configure --with-apr=/usr/<span class=\"built_in\">local</span>/apr --with-java-home=/usr/<span class=\"built_in\">local</span>/java8/ --with-ssl=/usr/<span class=\"built_in\">local</span>/openssl/ &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"tomcataprapr\"><a href=\"#tomcataprapr\" class=\"headerlink\" title=\"tomcataprapr\"></a>tomcataprapr</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#1</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"export LD_LIBRARY_PATH=<span class=\"variable\">$LD_LIBRARY_PATH</span>:/usr/local/apr/lib\"</span> &gt;&gt; /etc/profile</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"export LD_RUN_PATH=<span class=\"variable\">$LD_RUN_PATH</span>:/usr/local/apr/lib\"</span> &gt;&gt; /etc/profile &amp;&amp; <span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#2catalina.sh# Register custom URL handlers </span></span><br><span class=\"line\">$ JAVA_OPTS=<span class=\"string\">\"<span class=\"variable\">$JAVA_OPTS</span> -Djava.library.path=/usr/local/apr/lib\"</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"tomcat-server-xml\"><a href=\"#tomcat-server-xml\" class=\"headerlink\" title=\"tomcat server.xml\"></a>tomcat server.xml</h4><pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\nconnectionTimeout=&quot;20000&quot;\nredirectPort=&quot;8443&quot; /&gt;\n</code></pre><h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/tomcat8/bin</span><br><span class=\"line\">$ ./startup.sh</span><br></pre></td></tr></table></figure>\n<h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /usr/<span class=\"built_in\">local</span>/tomcat8/logs/catalina.out</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>[http-apr-8080]</code> APR</p>\n</blockquote>\n<h3 id=\"java-net-ConnectException\"><a href=\"#java-net-ConnectException\" class=\"headerlink\" title=\"java.net.ConnectException\"></a>java.net.ConnectException</h3><p>tomcattomcatJDK<br><img src=\"/images/pic/tomcat1.png\" alt></p>\n<p>JDKjava.security,(<code>securerandom.source</code> )<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ vi /usr/<span class=\"built_in\">local</span>/java8/jre/lib/security/java.security</span><br><span class=\"line\">securerandom.source=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"length":2489,"excerpt":"","more":"<h3 id=\"tomcat\"><a href=\"#tomcat\" class=\"headerlink\" title=\"tomcat\"></a>tomcat</h3><p>Tomcat Connector</p>\n<ul>\n<li><p><strong>bio</strong><br>,,.</p>\n</li>\n<li><p><strong>nio</strong><br>javaio,noblocking IO,server.xmlConnector,protocol<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* __apr__</span><br><span class=\"line\">,IO,. Tomcat aprTomcataprapr-utilnativenioprotocol `org.apache.coyote.http11.Http11AprProtocol` apr</span><br><span class=\"line\"></span><br><span class=\"line\">### APR</span><br><span class=\"line\"></span><br><span class=\"line\">**tomcatJDK**</span><br><span class=\"line\"></span><br><span class=\"line\">Tomcatapr, `` </span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<p>apr-1.6.2<br>apr-util-1.6.0<br>openssl-1.0.2l<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#### </span></span><br><span class=\"line\">```bash</span><br><span class=\"line\">$ wget http:<span class=\"regexp\">//mi</span>rror.bit.edu.cn<span class=\"regexp\">/apache/</span><span class=\"regexp\">/apr/</span>apr-<span class=\"number\">1.6</span>.<span class=\"number\">2</span>.tar.gz</span><br><span class=\"line\">$ wget http:<span class=\"regexp\">//mi</span>rror.bit.edu.cn<span class=\"regexp\">/apache/</span><span class=\"regexp\">/apr/</span>apr-util-<span class=\"number\">1.6</span>.<span class=\"number\">0</span>.tar.gz</span><br><span class=\"line\">$ wget https:<span class=\"regexp\">//</span>www.openssl.org<span class=\"regexp\">/source/</span>openssl-<span class=\"number\">1.0</span>.<span class=\"number\">2</span>l.tar.gz</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#apr</span></span><br><span class=\"line\">$ tar zxvf apr-1.6.2.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> apr-1.6.2</span><br><span class=\"line\">$ ./configure --prefix=/usr/<span class=\"built_in\">local</span>/apr &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"><span class=\"comment\">#apr-util</span></span><br><span class=\"line\">$ tar zxvf apr-util-1.6.0.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> apr-util-1.6.0</span><br><span class=\"line\">$ ./configure --prefix=/usr/<span class=\"built_in\">local</span>/apr-util --with-apr=/usr/<span class=\"built_in\">local</span>/apr &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"><span class=\"comment\">#openss-1.0.2l</span></span><br><span class=\"line\">$ tar zxvf openssl-1.0.2l.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> openssl-1.0.2l</span><br><span class=\"line\">$ ./config --prefix=/usr/<span class=\"built_in\">local</span>/openssl shared zlib &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p><em>1apr-util <code>expat-devel</code> <code>yum install expat-devel</code> </em></p>\n<p><em>2openssl <code>/usr/local/openssl/bin/openssl version -a</code>  1.0.2l</em></p>\n<h4 id=\"tomcat-native\"><a href=\"#tomcat-native\" class=\"headerlink\" title=\"tomcat-native\"></a>tomcat-native</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf /usr/<span class=\"built_in\">local</span>/tomcat8/bin/tomcat-native.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/tomcat8/bin/tomcat-native-1.2.12-src/native</span><br><span class=\"line\">$ ./configure --with-apr=/usr/<span class=\"built_in\">local</span>/apr --with-java-home=/usr/<span class=\"built_in\">local</span>/java8/ --with-ssl=/usr/<span class=\"built_in\">local</span>/openssl/ &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"tomcataprapr\"><a href=\"#tomcataprapr\" class=\"headerlink\" title=\"tomcataprapr\"></a>tomcataprapr</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#1</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"export LD_LIBRARY_PATH=<span class=\"variable\">$LD_LIBRARY_PATH</span>:/usr/local/apr/lib\"</span> &gt;&gt; /etc/profile</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"export LD_RUN_PATH=<span class=\"variable\">$LD_RUN_PATH</span>:/usr/local/apr/lib\"</span> &gt;&gt; /etc/profile &amp;&amp; <span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#2catalina.sh# Register custom URL handlers </span></span><br><span class=\"line\">$ JAVA_OPTS=<span class=\"string\">\"<span class=\"variable\">$JAVA_OPTS</span> -Djava.library.path=/usr/local/apr/lib\"</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"tomcat-server-xml\"><a href=\"#tomcat-server-xml\" class=\"headerlink\" title=\"tomcat server.xml\"></a>tomcat server.xml</h4><pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\nconnectionTimeout=&quot;20000&quot;\nredirectPort=&quot;8443&quot; /&gt;\n</code></pre><h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/tomcat8/bin</span><br><span class=\"line\">$ ./startup.sh</span><br></pre></td></tr></table></figure>\n<h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /usr/<span class=\"built_in\">local</span>/tomcat8/logs/catalina.out</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>[http-apr-8080]</code> APR</p>\n</blockquote>\n<h3 id=\"java-net-ConnectException\"><a href=\"#java-net-ConnectException\" class=\"headerlink\" title=\"java.net.ConnectException\"></a>java.net.ConnectException</h3><p>tomcattomcatJDK<br><img src=\"/images/pic/tomcat1.png\" alt></p>\n<p>JDKjava.security,(<code>securerandom.source</code> )<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ vi /usr/<span class=\"built_in\">local</span>/java8/jre/lib/security/java.security</span><br><span class=\"line\">securerandom.source=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"ZabbixZabbix Agent","author":"Pyker","img":"/images/bar/zabbix-03.jpg","top":false,"cover":false,"date":"2018-09-11T06:51:30.000Z","_content":"[](https://www.ipyker.com/2018/09/11/zabbix-server/) zabbixserverZabbix agent\n\n[](https://www.ipyker.com/2018/09/11/zabbix-summarize/) `server-agent` agentzabbix-server\n## Zabbix\n>zabbix-server4.2agent4.2\n\n### yumzabbix-agent\n```bash\n#yumzabbix\n$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm\n\n# zabbix-agent\n# zabbix_sender` server\n$ yum install -y zabbix-agent zabbix-sender\n```\n### zabbix\n```bash\n# /etc/zabbix/zabbix_agentd.conf\n# zabbix-serverIP\nServer=192.168.20.210\n\n# zabbix-serverIP\nServerActive=192.168.20.210\n\n# zabbix-agent\nHostname=web server1\n```\n### zabbix\n```bash\n# zabbix-agent\n$ systemctl start zabbix-agent\n\n# zabbix-agent`\n$ systemctl enable zabbix-agent\n```\n>zabbix-agentrootroot`/etc/zabbix/zabbix_agentd.conf` `AllowRoot=1` \n\n**zabbix-agent**\n```bash\n# \n$ netstat -ptln\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      11734/zabbix_agentd \n\n# \n$ ps -ef | grep zabbix_agent\nzabbix    11734      1  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd -c /etc/zabbix/zabbix_agentd.conf\nzabbix    11735  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: collector [idle 1 sec]\nzabbix    11736  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #1 [waiting for connection]\nzabbix    11737  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #2 [waiting for connection]\nzabbix    11738  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #3 [waiting for connection]\nzabbix    11739  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: active checks #1 [idle 1 sec]\nroot      12105  11549  0 00:23 pts/0    00:00:00 grep --color=auto zabbix_agent\n```\n\n`zabbix-agent` \n## zabbix-agent\nzabbix-serverzabbix-agent\n* zabbix-agent\n* \n\n>zabbix-agent\n\n### zabbix-agent\n`http://192.168.20.210/zabbix` zabbix`--` \n![](/images/pic/zabbix/zabbix-config010.png)\n``  \n![](/images/pic/zabbix/zabbix-config011.png)\n``\n![](/images/pic/zabbix/zabbix-config012.png)\n* ``  CPUTemplate OS Linx\n* ``  CPUCPUCPU\n* ``  CPU70%80%\n* ` `   CPU\n* ``\n* `web`:  zabbixwebwebhttp200\n\nzabbix-agent`-`\n![](/images/pic/zabbix/zabbix-config013.png)\n\n### \nzabbixzabbix..Zabbix(Discovery)item\n>Zabbix ServerIP\n\n****\n* Zabbix Agentsystem.uname\n* Action\n\n`--`IPsshzabbix\n![](/images/pic/zabbix/zabbix-config014.png)\n\n`----` \n![](/images/pic/zabbix/zabbix-config015.png)\n`` \n![](/images/pic/zabbix/zabbix-config016.png)\n``\n`` \n`` \n\n``\n\n`-``--Discovered hosts``-`\n![](/images/pic/zabbix/zabbix-config017.png)\n### \n\n>Agentd\n\n`----` \n![](/images/pic/zabbix/zabbix-config018.png)\n``\n\n![](/images/pic/zabbix/zabbix-config019.png)\n\n`-`\n![](/images/pic/zabbix/zabbix-config020.png)","source":"_posts/zabbix-agent.md","raw":"layout: post\ntitle: ZabbixZabbix Agent\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-03.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-11 14:51:30\n---\n[](https://www.ipyker.com/2018/09/11/zabbix-server/) zabbixserverZabbix agent\n\n[](https://www.ipyker.com/2018/09/11/zabbix-summarize/) `server-agent` agentzabbix-server\n## Zabbix\n>zabbix-server4.2agent4.2\n\n### yumzabbix-agent\n```bash\n#yumzabbix\n$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm\n\n# zabbix-agent\n# zabbix_sender` server\n$ yum install -y zabbix-agent zabbix-sender\n```\n### zabbix\n```bash\n# /etc/zabbix/zabbix_agentd.conf\n# zabbix-serverIP\nServer=192.168.20.210\n\n# zabbix-serverIP\nServerActive=192.168.20.210\n\n# zabbix-agent\nHostname=web server1\n```\n### zabbix\n```bash\n# zabbix-agent\n$ systemctl start zabbix-agent\n\n# zabbix-agent`\n$ systemctl enable zabbix-agent\n```\n>zabbix-agentrootroot`/etc/zabbix/zabbix_agentd.conf` `AllowRoot=1` \n\n**zabbix-agent**\n```bash\n# \n$ netstat -ptln\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      11734/zabbix_agentd \n\n# \n$ ps -ef | grep zabbix_agent\nzabbix    11734      1  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd -c /etc/zabbix/zabbix_agentd.conf\nzabbix    11735  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: collector [idle 1 sec]\nzabbix    11736  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #1 [waiting for connection]\nzabbix    11737  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #2 [waiting for connection]\nzabbix    11738  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener #3 [waiting for connection]\nzabbix    11739  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: active checks #1 [idle 1 sec]\nroot      12105  11549  0 00:23 pts/0    00:00:00 grep --color=auto zabbix_agent\n```\n\n`zabbix-agent` \n## zabbix-agent\nzabbix-serverzabbix-agent\n* zabbix-agent\n* \n\n>zabbix-agent\n\n### zabbix-agent\n`http://192.168.20.210/zabbix` zabbix`--` \n![](/images/pic/zabbix/zabbix-config010.png)\n``  \n![](/images/pic/zabbix/zabbix-config011.png)\n``\n![](/images/pic/zabbix/zabbix-config012.png)\n* ``  CPUTemplate OS Linx\n* ``  CPUCPUCPU\n* ``  CPU70%80%\n* ` `   CPU\n* ``\n* `web`:  zabbixwebwebhttp200\n\nzabbix-agent`-`\n![](/images/pic/zabbix/zabbix-config013.png)\n\n### \nzabbixzabbix..Zabbix(Discovery)item\n>Zabbix ServerIP\n\n****\n* Zabbix Agentsystem.uname\n* Action\n\n`--`IPsshzabbix\n![](/images/pic/zabbix/zabbix-config014.png)\n\n`----` \n![](/images/pic/zabbix/zabbix-config015.png)\n`` \n![](/images/pic/zabbix/zabbix-config016.png)\n``\n`` \n`` \n\n``\n\n`-``--Discovered hosts``-`\n![](/images/pic/zabbix/zabbix-config017.png)\n### \n\n>Agentd\n\n`----` \n![](/images/pic/zabbix/zabbix-config018.png)\n``\n\n![](/images/pic/zabbix/zabbix-config019.png)\n\n`-`\n![](/images/pic/zabbix/zabbix-config020.png)","slug":"zabbix-agent","published":1,"updated":"2019-05-27T08:07:09.249Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyv000qp4n781v9gg52","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-server/\"></a> zabbixserverZabbix agent</p>\n<p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-summarize/\"></a> <code>server-agent</code> agentzabbix-server</p>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><blockquote>\n<p>zabbix-server4.2agent4.2</p>\n</blockquote>\n<h3 id=\"yumzabbix-agent\"><a href=\"#yumzabbix-agent\" class=\"headerlink\" title=\"yumzabbix-agent\"></a>yumzabbix-agent</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#yumzabbix</span></span><br><span class=\"line\">$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\"><span class=\"comment\"># zabbix_sender` server</span></span><br><span class=\"line\">$ yum install -y zabbix-agent zabbix-sender</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># /etc/zabbix/zabbix_agentd.conf</span></span><br><span class=\"line\"><span class=\"comment\"># zabbix-serverIP</span></span><br><span class=\"line\">Server=192.168.20.210</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-serverIP</span></span><br><span class=\"line\">ServerActive=192.168.20.210</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\">Hostname=web server1</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\">$ systemctl start zabbix-agent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent`</span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> zabbix-agent</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>zabbix-agentrootroot<code>/etc/zabbix/zabbix_agentd.conf</code> <code>AllowRoot=1</code> </p>\n</blockquote>\n<p><strong>zabbix-agent</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ netstat -ptln</span><br><span class=\"line\">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class=\"line\">tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      11734/zabbix_agentd </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ ps -ef | grep zabbix_agent</span><br><span class=\"line\">zabbix    11734      1  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd -c /etc/zabbix/zabbix_agentd.conf</span><br><span class=\"line\">zabbix    11735  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: collector [idle 1 sec]</span><br><span class=\"line\">zabbix    11736  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#1 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11737  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#2 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11738  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#3 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11739  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: active checks <span class=\"comment\">#1 [idle 1 sec]</span></span><br><span class=\"line\">root      12105  11549  0 00:23 pts/0    00:00:00 grep --color=auto zabbix_agent</span><br></pre></td></tr></table></figure></p>\n<p><code>zabbix-agent</code> </p>\n<h2 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix-agent\"></a>zabbix-agent</h2><p>zabbix-serverzabbix-agent</p>\n<ul>\n<li>zabbix-agent</li>\n<li></li>\n</ul>\n<blockquote>\n<p>zabbix-agent</p>\n</blockquote>\n<h3 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix-agent\"></a>zabbix-agent</h3><p><code>http://192.168.20.210/zabbix</code> zabbix<code>--</code><br><img src=\"/images/pic/zabbix/zabbix-config010.png\" alt><br><code></code>  <br><img src=\"/images/pic/zabbix/zabbix-config011.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config012.png\" alt></p>\n<ul>\n<li><code></code>  CPUTemplate OS Linx</li>\n<li><code></code>  CPUCPUCPU</li>\n<li><code></code>  CPU70%80%</li>\n<li><code> </code>   CPU</li>\n<li><code></code></li>\n<li><code>web</code>:  zabbixwebwebhttp200</li>\n</ul>\n<p>zabbix-agent<code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config013.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>zabbixzabbix..Zabbix(Discovery)item</p>\n<blockquote>\n<p>Zabbix ServerIP</p>\n</blockquote>\n<p><strong></strong></p>\n<ul>\n<li>Zabbix Agentsystem.uname</li>\n<li>Action</li>\n</ul>\n<p><code>--</code>IPsshzabbix<br><img src=\"/images/pic/zabbix/zabbix-config014.png\" alt></p>\n<p><code>----</code> <br><img src=\"/images/pic/zabbix/zabbix-config015.png\" alt><br><code></code> <br><img src=\"/images/pic/zabbix/zabbix-config016.png\" alt><br><code></code><br><code></code><br><code></code> </p>\n<p><code></code></p>\n<p><code>-</code><code>--Discovered hosts</code><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config017.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p>Agentd</p>\n</blockquote>\n<p><code>----</code> <br><img src=\"/images/pic/zabbix/zabbix-config018.png\" alt><br><code></code></p>\n<p><img src=\"/images/pic/zabbix/zabbix-config019.png\" alt></p>\n<p><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config020.png\" alt></p>\n","site":{"data":{}},"length":3473,"excerpt":"","more":"<p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-server/\"></a> zabbixserverZabbix agent</p>\n<p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-summarize/\"></a> <code>server-agent</code> agentzabbix-server</p>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><blockquote>\n<p>zabbix-server4.2agent4.2</p>\n</blockquote>\n<h3 id=\"yumzabbix-agent\"><a href=\"#yumzabbix-agent\" class=\"headerlink\" title=\"yumzabbix-agent\"></a>yumzabbix-agent</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#yumzabbix</span></span><br><span class=\"line\">$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\"><span class=\"comment\"># zabbix_sender` server</span></span><br><span class=\"line\">$ yum install -y zabbix-agent zabbix-sender</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># /etc/zabbix/zabbix_agentd.conf</span></span><br><span class=\"line\"><span class=\"comment\"># zabbix-serverIP</span></span><br><span class=\"line\">Server=192.168.20.210</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-serverIP</span></span><br><span class=\"line\">ServerActive=192.168.20.210</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\">Hostname=web server1</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># zabbix-agent</span></span><br><span class=\"line\">$ systemctl start zabbix-agent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># zabbix-agent`</span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> zabbix-agent</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>zabbix-agentrootroot<code>/etc/zabbix/zabbix_agentd.conf</code> <code>AllowRoot=1</code> </p>\n</blockquote>\n<p><strong>zabbix-agent</strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ netstat -ptln</span><br><span class=\"line\">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class=\"line\">tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      11734/zabbix_agentd </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ ps -ef | grep zabbix_agent</span><br><span class=\"line\">zabbix    11734      1  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd -c /etc/zabbix/zabbix_agentd.conf</span><br><span class=\"line\">zabbix    11735  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: collector [idle 1 sec]</span><br><span class=\"line\">zabbix    11736  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#1 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11737  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#2 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11738  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: listener <span class=\"comment\">#3 [waiting for connection]</span></span><br><span class=\"line\">zabbix    11739  11734  0 413 ?       00:00:00 /usr/sbin/zabbix_agentd: active checks <span class=\"comment\">#1 [idle 1 sec]</span></span><br><span class=\"line\">root      12105  11549  0 00:23 pts/0    00:00:00 grep --color=auto zabbix_agent</span><br></pre></td></tr></table></figure></p>\n<p><code>zabbix-agent</code> </p>\n<h2 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix-agent\"></a>zabbix-agent</h2><p>zabbix-serverzabbix-agent</p>\n<ul>\n<li>zabbix-agent</li>\n<li></li>\n</ul>\n<blockquote>\n<p>zabbix-agent</p>\n</blockquote>\n<h3 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix-agent\"></a>zabbix-agent</h3><p><code>http://192.168.20.210/zabbix</code> zabbix<code>--</code><br><img src=\"/images/pic/zabbix/zabbix-config010.png\" alt><br><code></code>  <br><img src=\"/images/pic/zabbix/zabbix-config011.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config012.png\" alt></p>\n<ul>\n<li><code></code>  CPUTemplate OS Linx</li>\n<li><code></code>  CPUCPUCPU</li>\n<li><code></code>  CPU70%80%</li>\n<li><code> </code>   CPU</li>\n<li><code></code></li>\n<li><code>web</code>:  zabbixwebwebhttp200</li>\n</ul>\n<p>zabbix-agent<code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config013.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>zabbixzabbix..Zabbix(Discovery)item</p>\n<blockquote>\n<p>Zabbix ServerIP</p>\n</blockquote>\n<p><strong></strong></p>\n<ul>\n<li>Zabbix Agentsystem.uname</li>\n<li>Action</li>\n</ul>\n<p><code>--</code>IPsshzabbix<br><img src=\"/images/pic/zabbix/zabbix-config014.png\" alt></p>\n<p><code>----</code> <br><img src=\"/images/pic/zabbix/zabbix-config015.png\" alt><br><code></code> <br><img src=\"/images/pic/zabbix/zabbix-config016.png\" alt><br><code></code><br><code></code><br><code></code> </p>\n<p><code></code></p>\n<p><code>-</code><code>--Discovered hosts</code><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config017.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p>Agentd</p>\n</blockquote>\n<p><code>----</code> <br><img src=\"/images/pic/zabbix/zabbix-config018.png\" alt><br><code></code></p>\n<p><img src=\"/images/pic/zabbix/zabbix-config019.png\" alt></p>\n<p><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config020.png\" alt></p>\n"},{"layout":"post","title":"ZabbixZabbix","author":"Pyker","img":"/images/bar/zabbix-04.jpg","top":false,"cover":false,"date":"2018-09-12T12:10:00.000Z","_content":"[](https://www.ipyker.com/2018/09/11/zabbix-agent/) zabbixagentagentserver``````zabbix\n\n## \nZabbix(item)\"\"\"\"\"\"zabbix\"\"(key)zabbix\"\"\"\"\"\"key```` \n* ****\n`system.cpu.switches` \n* ****\n`vfs.fs.size[fs,<mode>]``vfs.fs.size[fs,<mode>]``vfs.fs.size``[fs,<mode>]``[fs,<mode>]``fs``mode`\n\n## \n \n\n<font color=#FF0000>zabbix()</font>\n>CPUhttp\n\n### \n`--Template OS Linux` Template OS Linux\n![](/images/pic/zabbix/zabbix-config021.png)\n\nTemplate OS Linux`-```\nTemplate OS LinuxCPU \n![](/images/pic/zabbix/zabbix-config022.png)\nTemplate OS LinuxContext switches per second\n![](/images/pic/zabbix/zabbix-config023.png)\n `--`Template OS Linux\n![](/images/pic/zabbix/zabbix-config024.png)\ncpu2zabbix`-`CPU\n![](/images/pic/zabbix/zabbix-config025.png)\n\n![](/images/pic/zabbix/zabbix-config026.png)\n\n### \nTemplate OS Linux`-`\n![](/images/pic/zabbix/zabbix-config027.png)\nTemplate OS Linuxnginx1\n![](/images/pic/zabbix/zabbix-config024.png)\n`-`\n![](/images/pic/zabbix/zabbix-config028.png)\n\n>fsmode[](https://www.zabbix.com/documentation/4.0/zh/manual/config/items/itemtypes/zabbix_agent)\"\"","source":"_posts/zabbix-item.md","raw":"layout: post\ntitle: ZabbixZabbix\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-04.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-12 20:10:00\n---\n[](https://www.ipyker.com/2018/09/11/zabbix-agent/) zabbixagentagentserver``````zabbix\n\n## \nZabbix(item)\"\"\"\"\"\"zabbix\"\"(key)zabbix\"\"\"\"\"\"key```` \n* ****\n`system.cpu.switches` \n* ****\n`vfs.fs.size[fs,<mode>]``vfs.fs.size[fs,<mode>]``vfs.fs.size``[fs,<mode>]``[fs,<mode>]``fs``mode`\n\n## \n \n\n<font color=#FF0000>zabbix()</font>\n>CPUhttp\n\n### \n`--Template OS Linux` Template OS Linux\n![](/images/pic/zabbix/zabbix-config021.png)\n\nTemplate OS Linux`-```\nTemplate OS LinuxCPU \n![](/images/pic/zabbix/zabbix-config022.png)\nTemplate OS LinuxContext switches per second\n![](/images/pic/zabbix/zabbix-config023.png)\n `--`Template OS Linux\n![](/images/pic/zabbix/zabbix-config024.png)\ncpu2zabbix`-`CPU\n![](/images/pic/zabbix/zabbix-config025.png)\n\n![](/images/pic/zabbix/zabbix-config026.png)\n\n### \nTemplate OS Linux`-`\n![](/images/pic/zabbix/zabbix-config027.png)\nTemplate OS Linuxnginx1\n![](/images/pic/zabbix/zabbix-config024.png)\n`-`\n![](/images/pic/zabbix/zabbix-config028.png)\n\n>fsmode[](https://www.zabbix.com/documentation/4.0/zh/manual/config/items/itemtypes/zabbix_agent)\"\"","slug":"zabbix-item","published":1,"updated":"2019-05-27T08:07:17.443Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyx000sp4n74h3vtq2v","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-agent/\"></a> zabbixagentagentserver<code></code><code></code><code></code>zabbix</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Zabbix(item)zabbix(key)zabbixkey<code></code><code></code> </p>\n<ul>\n<li><strong></strong><br><code>system.cpu.switches</code> </li>\n<li><strong></strong><br><code>vfs.fs.size[fs,&lt;mode&gt;]</code><code>vfs.fs.size[fs,&lt;mode&gt;]</code><code>vfs.fs.size</code><code>[fs,&lt;mode&gt;]</code><code>[fs,&lt;mode&gt;]</code><code>fs</code><code>mode</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p><font color=\"#FF0000\">zabbix()</font></p>\n<blockquote>\n<p>CPUhttp</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>--Template OS Linux</code> Template OS Linux<br><img src=\"/images/pic/zabbix/zabbix-config021.png\" alt></p>\n<p>Template OS Linux<code>-</code><code></code><br>Template OS LinuxCPU<br><img src=\"/images/pic/zabbix/zabbix-config022.png\" alt><br>Template OS LinuxContext switches per second<br><img src=\"/images/pic/zabbix/zabbix-config023.png\" alt><br> <code>--</code>Template OS Linux<br><img src=\"/images/pic/zabbix/zabbix-config024.png\" alt><br>cpu2zabbix<code>-</code>CPU<br><img src=\"/images/pic/zabbix/zabbix-config025.png\" alt><br><br><img src=\"/images/pic/zabbix/zabbix-config026.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Template OS Linux<code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config027.png\" alt><br>Template OS Linuxnginx1<br><img src=\"/images/pic/zabbix/zabbix-config024.png\" alt><br><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config028.png\" alt></p>\n<blockquote>\n<p>fsmode<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/config/items/itemtypes/zabbix_agent\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n","site":{"data":{}},"length":1427,"excerpt":"","more":"<p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-agent/\"></a> zabbixagentagentserver<code></code><code></code><code></code>zabbix</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Zabbix(item)zabbix(key)zabbixkey<code></code><code></code> </p>\n<ul>\n<li><strong></strong><br><code>system.cpu.switches</code> </li>\n<li><strong></strong><br><code>vfs.fs.size[fs,&lt;mode&gt;]</code><code>vfs.fs.size[fs,&lt;mode&gt;]</code><code>vfs.fs.size</code><code>[fs,&lt;mode&gt;]</code><code>[fs,&lt;mode&gt;]</code><code>fs</code><code>mode</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p><font color=\"#FF0000\">zabbix()</font></p>\n<blockquote>\n<p>CPUhttp</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>--Template OS Linux</code> Template OS Linux<br><img src=\"/images/pic/zabbix/zabbix-config021.png\" alt></p>\n<p>Template OS Linux<code>-</code><code></code><br>Template OS LinuxCPU<br><img src=\"/images/pic/zabbix/zabbix-config022.png\" alt><br>Template OS LinuxContext switches per second<br><img src=\"/images/pic/zabbix/zabbix-config023.png\" alt><br> <code>--</code>Template OS Linux<br><img src=\"/images/pic/zabbix/zabbix-config024.png\" alt><br>cpu2zabbix<code>-</code>CPU<br><img src=\"/images/pic/zabbix/zabbix-config025.png\" alt><br><br><img src=\"/images/pic/zabbix/zabbix-config026.png\" alt></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Template OS Linux<code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config027.png\" alt><br>Template OS Linuxnginx1<br><img src=\"/images/pic/zabbix/zabbix-config024.png\" alt><br><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config028.png\" alt></p>\n<blockquote>\n<p>fsmode<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/config/items/itemtypes/zabbix_agent\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n"},{"layout":"post","title":"ZabbixZabbix Server","author":"Pyker","img":"/images/bar/zabbix-02.jpg","top":false,"cover":false,"date":"2018-09-11T05:47:00.000Z","_content":"[](https://www.ipyker.com/2018/09/11/zabbix-summarize/) zabbixZabbix Server\n##  \n###  \n |  | IP | \n---- | ---- | -- | ----\ncentos | 7.5 | 192.168.20.210 | \ncentos | 7.5 | 192.168.20.211 |  \n\n###  \n* \n\n```bash\n# server\n$ echo \"zabbix-server\" > /etc/hostname\n \n# agent\n$ echo \"zabbix-agent\" > /etc/hostname\n```\n* SELinux\n\n```bash\n$ sed -i \"s/SELINUX=enforcing/SELINUX=disabled/g\" /etc/selinux/config\n$ systemctl stop firewalld.service\n$ systemctl disable firewalld.service\n```\n## Zabbix \n>zabbix4.2\n\n### yumzabbix-server\n```bash\n#yumzabbix\n$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm\n\n#zabbix\n#zabbix-getagent\n$ yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent zabbix-get\n```\n### mysql\n>`zabbix` \n\n```bash\n# yummysql5.7\n$ wget -c https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n$ rpm -ivh mysql80-community-release-el7-1.noarch.rpm\n$ yum -y install yum-utils\n$ yum-config-manager --disable mysql80-community\n$ yum-config-manager --enable mysql57-community\n$ yum install mysql-community-server -y\n\n# mysql\n$ systemctl start mysqld\n\n# \n$ systemctl enable mysqld\n```\nroot\n```bash\n# mysql\n$ grep 'temporary password' /var/log/mysqld.log\n\n# mysqlroot\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'Ala@2018';\n```\n### zabbix\nzabbix\n```bash\nmysql> create database zabbix character set utf8 collate utf8_bin;\nmysql> grant all privileges on zabbix.* to zabbix@localhost identified by \"Ala@2018\";\n```\n### zabbix\nshellzabbix\n```bash\n$ zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p'Ala@2018' zabbix\n```\n### zabbix\n```bash\n# zabbix\nDBHost=localhost\nDBName=zabbix\nDBUser=zabbix\n\n# `/etc/zabbix/zabbix_server.conf` mysql\nDBPassword=Ala@2018\n\n# \n$ sed -i.ori '19a php_value date.timezone  Asia/Shanghai' /etc/httpd/conf.d/zabbix.conf\n\n# \n$ yum -y install wqy-microhei-fonts\n$ mv /usr/share/fonts/dejavu/DejaVuSans.ttf /usr/share/fonts/dejavu/DejaVuSans.ttf.bak\n$ cp -f /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/fonts/dejavu/DejaVuSans.ttf\n```\n### zabbix\n```bash\n#  zabbix-serverhttpd\n$ systemctl start zabbix-server httpd\n\n# \n$ systemctl enable zabbix-server httpd\n```\n`http://192.168.20.210/zabbix` zabbix\n![](/images/pic/zabbix/zabbix-config001.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config002.png)\nzabbix Next setup\n![](/images/pic/zabbix/zabbix-config003.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config004.png)\nname Next setup\n![](/images/pic/zabbix/zabbix-config005.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config006.png)\nzabbix\n![](/images/pic/zabbix/zabbix-config007.png)\n `--Admin` `-` zabbix\n![](/images/pic/zabbix/zabbix-config008.png)\n## zabbix agent\n>\n\n/etc/zabbix/zabbix_agentd.conf\n```bash\n# \nServer=127.0.0.1\nServerActive=127.0.0.1\nHostname=Zabbix server\n# zabbix\nsystemctl start zabbix-agent\n# \nsystemctl enable zabbix-agent\n```\n`ZBX` zabbix-agent\n![](/images/pic/zabbix/zabbix-config009.png)","source":"_posts/zabbix-server.md","raw":"layout: post\ntitle: ZabbixZabbix Server\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-02.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-11 13:47:00\n---\n[](https://www.ipyker.com/2018/09/11/zabbix-summarize/) zabbixZabbix Server\n##  \n###  \n |  | IP | \n---- | ---- | -- | ----\ncentos | 7.5 | 192.168.20.210 | \ncentos | 7.5 | 192.168.20.211 |  \n\n###  \n* \n\n```bash\n# server\n$ echo \"zabbix-server\" > /etc/hostname\n \n# agent\n$ echo \"zabbix-agent\" > /etc/hostname\n```\n* SELinux\n\n```bash\n$ sed -i \"s/SELINUX=enforcing/SELINUX=disabled/g\" /etc/selinux/config\n$ systemctl stop firewalld.service\n$ systemctl disable firewalld.service\n```\n## Zabbix \n>zabbix4.2\n\n### yumzabbix-server\n```bash\n#yumzabbix\n$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm\n\n#zabbix\n#zabbix-getagent\n$ yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent zabbix-get\n```\n### mysql\n>`zabbix` \n\n```bash\n# yummysql5.7\n$ wget -c https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n$ rpm -ivh mysql80-community-release-el7-1.noarch.rpm\n$ yum -y install yum-utils\n$ yum-config-manager --disable mysql80-community\n$ yum-config-manager --enable mysql57-community\n$ yum install mysql-community-server -y\n\n# mysql\n$ systemctl start mysqld\n\n# \n$ systemctl enable mysqld\n```\nroot\n```bash\n# mysql\n$ grep 'temporary password' /var/log/mysqld.log\n\n# mysqlroot\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'Ala@2018';\n```\n### zabbix\nzabbix\n```bash\nmysql> create database zabbix character set utf8 collate utf8_bin;\nmysql> grant all privileges on zabbix.* to zabbix@localhost identified by \"Ala@2018\";\n```\n### zabbix\nshellzabbix\n```bash\n$ zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p'Ala@2018' zabbix\n```\n### zabbix\n```bash\n# zabbix\nDBHost=localhost\nDBName=zabbix\nDBUser=zabbix\n\n# `/etc/zabbix/zabbix_server.conf` mysql\nDBPassword=Ala@2018\n\n# \n$ sed -i.ori '19a php_value date.timezone  Asia/Shanghai' /etc/httpd/conf.d/zabbix.conf\n\n# \n$ yum -y install wqy-microhei-fonts\n$ mv /usr/share/fonts/dejavu/DejaVuSans.ttf /usr/share/fonts/dejavu/DejaVuSans.ttf.bak\n$ cp -f /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/fonts/dejavu/DejaVuSans.ttf\n```\n### zabbix\n```bash\n#  zabbix-serverhttpd\n$ systemctl start zabbix-server httpd\n\n# \n$ systemctl enable zabbix-server httpd\n```\n`http://192.168.20.210/zabbix` zabbix\n![](/images/pic/zabbix/zabbix-config001.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config002.png)\nzabbix Next setup\n![](/images/pic/zabbix/zabbix-config003.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config004.png)\nname Next setup\n![](/images/pic/zabbix/zabbix-config005.png)\n Next setup\n![](/images/pic/zabbix/zabbix-config006.png)\nzabbix\n![](/images/pic/zabbix/zabbix-config007.png)\n `--Admin` `-` zabbix\n![](/images/pic/zabbix/zabbix-config008.png)\n## zabbix agent\n>\n\n/etc/zabbix/zabbix_agentd.conf\n```bash\n# \nServer=127.0.0.1\nServerActive=127.0.0.1\nHostname=Zabbix server\n# zabbix\nsystemctl start zabbix-agent\n# \nsystemctl enable zabbix-agent\n```\n`ZBX` zabbix-agent\n![](/images/pic/zabbix/zabbix-config009.png)","slug":"zabbix-server","published":1,"updated":"2019-05-27T08:07:22.622Z","comments":1,"photos":[],"link":"","_id":"cjw6jleyz000wp4n7owjt9azi","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-summarize/\"></a> zabbixZabbix Server</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>IP</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>centos</td>\n<td>7.5</td>\n<td>192.168.20.210</td>\n<td></td>\n</tr>\n<tr>\n<td>centos</td>\n<td>7.5</td>\n<td>192.168.20.211</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># server</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"zabbix-server\"</span> &gt; /etc/hostname</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># agent</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"zabbix-agent\"</span> &gt; /etc/hostname</span><br></pre></td></tr></table></figure>\n<ul>\n<li>SELinux</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sed -i <span class=\"string\">\"s/SELINUX=enforcing/SELINUX=disabled/g\"</span> /etc/selinux/config</span><br><span class=\"line\">$ systemctl stop firewalld.service</span><br><span class=\"line\">$ systemctl <span class=\"built_in\">disable</span> firewalld.service</span><br></pre></td></tr></table></figure>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><blockquote>\n<p>zabbix4.2</p>\n</blockquote>\n<h3 id=\"yumzabbix-server\"><a href=\"#yumzabbix-server\" class=\"headerlink\" title=\"yumzabbix-server\"></a>yumzabbix-server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#yumzabbix</span></span><br><span class=\"line\">$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#zabbix</span></span><br><span class=\"line\"><span class=\"comment\">#zabbix-getagent</span></span><br><span class=\"line\">$ yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent zabbix-get</span><br></pre></td></tr></table></figure>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><blockquote>\n<p><code>zabbix</code> </p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># yummysql5.7</span></span><br><span class=\"line\">$ wget -c https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\">$ rpm -ivh mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\">$ yum -y install yum-utils</span><br><span class=\"line\">$ yum-config-manager --<span class=\"built_in\">disable</span> mysql80-community</span><br><span class=\"line\">$ yum-config-manager --<span class=\"built_in\">enable</span> mysql57-community</span><br><span class=\"line\">$ yum install mysql-community-server -y</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># mysql</span></span><br><span class=\"line\">$ systemctl start mysqld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> mysqld</span><br></pre></td></tr></table></figure>\n<p>root<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mysql</span></span><br><span class=\"line\">$ grep <span class=\"string\">'temporary password'</span> /var/<span class=\"built_in\">log</span>/mysqld.log</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># mysqlroot</span></span><br><span class=\"line\">mysql&gt; ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'localhost'</span> IDENTIFIED BY <span class=\"string\">'Ala@2018'</span>;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>zabbix<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; create database zabbix character <span class=\"built_in\">set</span> utf8 collate utf8_bin;</span><br><span class=\"line\">mysql&gt; grant all privileges on zabbix.* to zabbix@localhost identified by <span class=\"string\">\"Ala@2018\"</span>;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>shellzabbix<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p<span class=\"string\">'Ala@2018'</span> zabbix</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># zabbix</span></span><br><span class=\"line\">DBHost=localhost</span><br><span class=\"line\">DBName=zabbix</span><br><span class=\"line\">DBUser=zabbix</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># `/etc/zabbix/zabbix_server.conf` mysql</span></span><br><span class=\"line\">DBPassword=Ala@2018</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ sed -i.ori <span class=\"string\">'19a php_value date.timezone  Asia/Shanghai'</span> /etc/httpd/conf.d/zabbix.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ yum -y install wqy-microhei-fonts</span><br><span class=\"line\">$ mv /usr/share/fonts/dejavu/DejaVuSans.ttf /usr/share/fonts/dejavu/DejaVuSans.ttf.bak</span><br><span class=\"line\">$ cp -f /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/fonts/dejavu/DejaVuSans.ttf</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  zabbix-serverhttpd</span></span><br><span class=\"line\">$ systemctl start zabbix-server httpd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> zabbix-server httpd</span><br></pre></td></tr></table></figure>\n<p><code>http://192.168.20.210/zabbix</code> zabbix<br><img src=\"/images/pic/zabbix/zabbix-config001.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config002.png\" alt><br>zabbix Next setup<br><img src=\"/images/pic/zabbix/zabbix-config003.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config004.png\" alt><br>name Next setup<br><img src=\"/images/pic/zabbix/zabbix-config005.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config006.png\" alt><br>zabbix<br><img src=\"/images/pic/zabbix/zabbix-config007.png\" alt><br> <code>--Admin</code> <code>-</code> zabbix<br><img src=\"/images/pic/zabbix/zabbix-config008.png\" alt></p>\n<h2 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix agent\"></a>zabbix agent</h2><blockquote>\n<p></p>\n</blockquote>\n<p>/etc/zabbix/zabbix_agentd.conf<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">Server=127.0.0.1</span><br><span class=\"line\">ServerActive=127.0.0.1</span><br><span class=\"line\">Hostname=Zabbix server</span><br><span class=\"line\"><span class=\"comment\"># zabbix</span></span><br><span class=\"line\">systemctl start zabbix-agent</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> zabbix-agent</span><br></pre></td></tr></table></figure></p>\n<p><code>ZBX</code> zabbix-agent<br><img src=\"/images/pic/zabbix/zabbix-config009.png\" alt></p>\n","site":{"data":{}},"length":2728,"excerpt":"","more":"<p><a href=\"https://www.ipyker.com/2018/09/11/zabbix-summarize/\"></a> zabbixZabbix Server</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>IP</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>centos</td>\n<td>7.5</td>\n<td>192.168.20.210</td>\n<td></td>\n</tr>\n<tr>\n<td>centos</td>\n<td>7.5</td>\n<td>192.168.20.211</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># server</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"zabbix-server\"</span> &gt; /etc/hostname</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># agent</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"zabbix-agent\"</span> &gt; /etc/hostname</span><br></pre></td></tr></table></figure>\n<ul>\n<li>SELinux</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sed -i <span class=\"string\">\"s/SELINUX=enforcing/SELINUX=disabled/g\"</span> /etc/selinux/config</span><br><span class=\"line\">$ systemctl stop firewalld.service</span><br><span class=\"line\">$ systemctl <span class=\"built_in\">disable</span> firewalld.service</span><br></pre></td></tr></table></figure>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><blockquote>\n<p>zabbix4.2</p>\n</blockquote>\n<h3 id=\"yumzabbix-server\"><a href=\"#yumzabbix-server\" class=\"headerlink\" title=\"yumzabbix-server\"></a>yumzabbix-server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#yumzabbix</span></span><br><span class=\"line\">$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#zabbix</span></span><br><span class=\"line\"><span class=\"comment\">#zabbix-getagent</span></span><br><span class=\"line\">$ yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent zabbix-get</span><br></pre></td></tr></table></figure>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><blockquote>\n<p><code>zabbix</code> </p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># yummysql5.7</span></span><br><span class=\"line\">$ wget -c https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\">$ rpm -ivh mysql80-community-release-el7-1.noarch.rpm</span><br><span class=\"line\">$ yum -y install yum-utils</span><br><span class=\"line\">$ yum-config-manager --<span class=\"built_in\">disable</span> mysql80-community</span><br><span class=\"line\">$ yum-config-manager --<span class=\"built_in\">enable</span> mysql57-community</span><br><span class=\"line\">$ yum install mysql-community-server -y</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># mysql</span></span><br><span class=\"line\">$ systemctl start mysqld</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> mysqld</span><br></pre></td></tr></table></figure>\n<p>root<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mysql</span></span><br><span class=\"line\">$ grep <span class=\"string\">'temporary password'</span> /var/<span class=\"built_in\">log</span>/mysqld.log</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># mysqlroot</span></span><br><span class=\"line\">mysql&gt; ALTER USER <span class=\"string\">'root'</span>@<span class=\"string\">'localhost'</span> IDENTIFIED BY <span class=\"string\">'Ala@2018'</span>;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>zabbix<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; create database zabbix character <span class=\"built_in\">set</span> utf8 collate utf8_bin;</span><br><span class=\"line\">mysql&gt; grant all privileges on zabbix.* to zabbix@localhost identified by <span class=\"string\">\"Ala@2018\"</span>;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>shellzabbix<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p<span class=\"string\">'Ala@2018'</span> zabbix</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># zabbix</span></span><br><span class=\"line\">DBHost=localhost</span><br><span class=\"line\">DBName=zabbix</span><br><span class=\"line\">DBUser=zabbix</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># `/etc/zabbix/zabbix_server.conf` mysql</span></span><br><span class=\"line\">DBPassword=Ala@2018</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ sed -i.ori <span class=\"string\">'19a php_value date.timezone  Asia/Shanghai'</span> /etc/httpd/conf.d/zabbix.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ yum -y install wqy-microhei-fonts</span><br><span class=\"line\">$ mv /usr/share/fonts/dejavu/DejaVuSans.ttf /usr/share/fonts/dejavu/DejaVuSans.ttf.bak</span><br><span class=\"line\">$ cp -f /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/fonts/dejavu/DejaVuSans.ttf</span><br></pre></td></tr></table></figure>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  zabbix-serverhttpd</span></span><br><span class=\"line\">$ systemctl start zabbix-server httpd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> zabbix-server httpd</span><br></pre></td></tr></table></figure>\n<p><code>http://192.168.20.210/zabbix</code> zabbix<br><img src=\"/images/pic/zabbix/zabbix-config001.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config002.png\" alt><br>zabbix Next setup<br><img src=\"/images/pic/zabbix/zabbix-config003.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config004.png\" alt><br>name Next setup<br><img src=\"/images/pic/zabbix/zabbix-config005.png\" alt><br> Next setup<br><img src=\"/images/pic/zabbix/zabbix-config006.png\" alt><br>zabbix<br><img src=\"/images/pic/zabbix/zabbix-config007.png\" alt><br> <code>--Admin</code> <code>-</code> zabbix<br><img src=\"/images/pic/zabbix/zabbix-config008.png\" alt></p>\n<h2 id=\"zabbix-agent\"><a href=\"#zabbix-agent\" class=\"headerlink\" title=\"zabbix agent\"></a>zabbix agent</h2><blockquote>\n<p></p>\n</blockquote>\n<p>/etc/zabbix/zabbix_agentd.conf<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">Server=127.0.0.1</span><br><span class=\"line\">ServerActive=127.0.0.1</span><br><span class=\"line\">Hostname=Zabbix server</span><br><span class=\"line\"><span class=\"comment\"># zabbix</span></span><br><span class=\"line\">systemctl start zabbix-agent</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> zabbix-agent</span><br></pre></td></tr></table></figure></p>\n<p><code>ZBX</code> zabbix-agent<br><img src=\"/images/pic/zabbix/zabbix-config009.png\" alt></p>\n"},{"layout":"post","title":"Zabbixzabbix","author":"Pyker","img":"/images/bar/zabbix-01.jpg","top":false,"cover":false,"date":"2018-09-11T04:27:00.000Z","_content":"## Zabbix\nzabbix\n\n## Zabbix\n* `agent` master/agent,agent\n* `ssh/telnet` sshtelnet\n* `SNMP` SNMPSNMPSimple Network Management Protocol , \"\"agentSNMPSNMPSNMPmaster/agentSNMPagent\n* `IPMI` IPMIIPMI\n* `JMX` JMXJMXJava Management ExtensionsJavaJVM\n\n## Zabbix\nzabbix agentagentmaster/agentmasterzabbix serverzabbix serveragentzabbixzabbixzabbix database zabbixGUIzabbixGUIWeb GUIzabbix webzabbix webphpzabbix webLAMPzabbix server zabbix webzabbix database\n![](/images/pic/zabbix/zabbix1.png)\n\nzabbixzabbixzabbixzabbixzabbixagentzabbix serverzabbix proxyzabbix proxyzabbix serverzabbix proxyzabbix serverzabbix proxyzabbix\n![](/images/pic/zabbix/zabbix2.png)\n\n## \n### zabbix\n* `zabbix agent` zabbix server\n* `zabbix server` agent\n* `zabbix database` zabbix\n* `zabbix proxy` zabbix proxyserverserver\n\n### zabbix\nagentserveragent\nagentserver\nagent\nagent`zabbix_sender` server\nserver`zabbix_get` agent","source":"_posts/zabbix-summarize.md","raw":"layout: post\ntitle: Zabbixzabbix\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-01.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-11 12:27:00\n---\n## Zabbix\nzabbix\n\n## Zabbix\n* `agent` master/agent,agent\n* `ssh/telnet` sshtelnet\n* `SNMP` SNMPSNMPSimple Network Management Protocol , \"\"agentSNMPSNMPSNMPmaster/agentSNMPagent\n* `IPMI` IPMIIPMI\n* `JMX` JMXJMXJava Management ExtensionsJavaJVM\n\n## Zabbix\nzabbix agentagentmaster/agentmasterzabbix serverzabbix serveragentzabbixzabbixzabbix database zabbixGUIzabbixGUIWeb GUIzabbix webzabbix webphpzabbix webLAMPzabbix server zabbix webzabbix database\n![](/images/pic/zabbix/zabbix1.png)\n\nzabbixzabbixzabbixzabbixzabbixagentzabbix serverzabbix proxyzabbix proxyzabbix serverzabbix proxyzabbix serverzabbix proxyzabbix\n![](/images/pic/zabbix/zabbix2.png)\n\n## \n### zabbix\n* `zabbix agent` zabbix server\n* `zabbix server` agent\n* `zabbix database` zabbix\n* `zabbix proxy` zabbix proxyserverserver\n\n### zabbix\nagentserveragent\nagentserver\nagent\nagent`zabbix_sender` server\nserver`zabbix_get` agent","slug":"zabbix-summarize","published":1,"updated":"2019-05-27T08:07:26.487Z","comments":1,"photos":[],"link":"","_id":"cjw6jlez0000zp4n79apd6t0b","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><p>zabbix</p>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><ul>\n<li><code>agent</code> master/agent,agent</li>\n<li><code>ssh/telnet</code> sshtelnet</li>\n<li><code>SNMP</code> SNMPSNMPSimple Network Management Protocol , agentSNMPSNMPSNMPmaster/agentSNMPagent</li>\n<li><code>IPMI</code> IPMIIPMI</li>\n<li><code>JMX</code> JMXJMXJava Management ExtensionsJavaJVM</li>\n</ul>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><p>zabbix agentagentmaster/agentmasterzabbix serverzabbix serveragentzabbixzabbixzabbix database zabbixGUIzabbixGUIWeb GUIzabbix webzabbix webphpzabbix webLAMPzabbix server zabbix webzabbix database<br><img src=\"/images/pic/zabbix/zabbix1.png\" alt></p>\n<p>zabbixzabbixzabbixzabbixzabbixagentzabbix serverzabbix proxyzabbix proxyzabbix serverzabbix proxyzabbix serverzabbix proxyzabbix<br><img src=\"/images/pic/zabbix/zabbix2.png\" alt></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><ul>\n<li><code>zabbix agent</code> zabbix server</li>\n<li><code>zabbix server</code> agent</li>\n<li><code>zabbix database</code> zabbix</li>\n<li><code>zabbix proxy</code> zabbix proxyserverserver</li>\n</ul>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>agentserveragent<br>agentserver<br>agent<br>agent<code>zabbix_sender</code> server<br>server<code>zabbix_get</code> agent</p>\n","site":{"data":{}},"length":2187,"excerpt":"","more":"<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><p>zabbix</p>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><ul>\n<li><code>agent</code> master/agent,agent</li>\n<li><code>ssh/telnet</code> sshtelnet</li>\n<li><code>SNMP</code> SNMPSNMPSimple Network Management Protocol , agentSNMPSNMPSNMPmaster/agentSNMPagent</li>\n<li><code>IPMI</code> IPMIIPMI</li>\n<li><code>JMX</code> JMXJMXJava Management ExtensionsJavaJVM</li>\n</ul>\n<h2 id=\"Zabbix\"><a href=\"#Zabbix\" class=\"headerlink\" title=\"Zabbix\"></a>Zabbix</h2><p>zabbix agentagentmaster/agentmasterzabbix serverzabbix serveragentzabbixzabbixzabbix database zabbixGUIzabbixGUIWeb GUIzabbix webzabbix webphpzabbix webLAMPzabbix server zabbix webzabbix database<br><img src=\"/images/pic/zabbix/zabbix1.png\" alt></p>\n<p>zabbixzabbixzabbixzabbixzabbixagentzabbix serverzabbix proxyzabbix proxyzabbix serverzabbix proxyzabbix serverzabbix proxyzabbix<br><img src=\"/images/pic/zabbix/zabbix2.png\" alt></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><ul>\n<li><code>zabbix agent</code> zabbix server</li>\n<li><code>zabbix server</code> agent</li>\n<li><code>zabbix database</code> zabbix</li>\n<li><code>zabbix proxy</code> zabbix proxyserverserver</li>\n</ul>\n<h3 id=\"zabbix\"><a href=\"#zabbix\" class=\"headerlink\" title=\"zabbix\"></a>zabbix</h3><p>agentserveragent<br>agentserver<br>agent<br>agent<code>zabbix_sender</code> server<br>server<code>zabbix_get</code> agent</p>\n"},{"layout":"post","title":"ZabbixZabbix","author":"Pyker","img":"/images/bar/zabbix-05.jpg","top":false,"cover":false,"date":"2018-09-13T03:30:00.000Z","_content":"[](https://www.ipyker.com/2018/09/12/zabbix-item/) zabbixzabbix``````\n\n`Triggers`zabbix\"OK\",\"Problem\"\"OK\"\"Problem\",\"Problem\"\"OK\"\n\n`Events`\"\"\"\"zabbix\"\"\"\"\n\n`Actions`\n\n## \n>*nginx1*\n\n`-`````\n![](/images/pic/zabbix/zabbix-config029.png)\n\n![](/images/pic/zabbix/zabbix-config030.png)\n``\n![](/images/pic/zabbix/zabbix-config031.png)\n`-`\n![](/images/pic/zabbix/zabbix-config032.png) \n5%5%\"\"\n\n## \n\n![](/images/pic/zabbix/zabbix-config033.png)\n>5`{<server>:<key>.<function>(<parameter>)}<operator><constant>`\n\n`{web server1:vfs.fs.size[/,pused].last()}>5`5\n* `web server1 `\n* `vfs.fs.size[/,pused]`key\n* `last()`<function>(<parameter>)last()\n* `\\>`<operator>\n* `5`\n\n`function`last() avgcountchangesummaxmindatezabbix[](https://www.zabbix.com/documentation/4.0/zh/manual/appendix/triggers/functions)\n\n\"#\",avg(#10),10\"#\"sum(300),300max(#20)20min(600)10last(0)last(#1)avg(1h,1d) 5avg(1h)45avg(1h,1d) 1davg(1h,1d)45\n\n`operator`zabbixzabbix4.0[](https://www.zabbix.com/documentation/4.0/zh/manual/config/triggers/expression)","source":"_posts/zabbix-trigger.md","raw":"layout: post\ntitle: ZabbixZabbix\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-05.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-13 11:30:00\n---\n[](https://www.ipyker.com/2018/09/12/zabbix-item/) zabbixzabbix``````\n\n`Triggers`zabbix\"OK\",\"Problem\"\"OK\"\"Problem\",\"Problem\"\"OK\"\n\n`Events`\"\"\"\"zabbix\"\"\"\"\n\n`Actions`\n\n## \n>*nginx1*\n\n`-`````\n![](/images/pic/zabbix/zabbix-config029.png)\n\n![](/images/pic/zabbix/zabbix-config030.png)\n``\n![](/images/pic/zabbix/zabbix-config031.png)\n`-`\n![](/images/pic/zabbix/zabbix-config032.png) \n5%5%\"\"\n\n## \n\n![](/images/pic/zabbix/zabbix-config033.png)\n>5`{<server>:<key>.<function>(<parameter>)}<operator><constant>`\n\n`{web server1:vfs.fs.size[/,pused].last()}>5`5\n* `web server1 `\n* `vfs.fs.size[/,pused]`key\n* `last()`<function>(<parameter>)last()\n* `\\>`<operator>\n* `5`\n\n`function`last() avgcountchangesummaxmindatezabbix[](https://www.zabbix.com/documentation/4.0/zh/manual/appendix/triggers/functions)\n\n\"#\",avg(#10),10\"#\"sum(300),300max(#20)20min(600)10last(0)last(#1)avg(1h,1d) 5avg(1h)45avg(1h,1d) 1davg(1h,1d)45\n\n`operator`zabbixzabbix4.0[](https://www.zabbix.com/documentation/4.0/zh/manual/config/triggers/expression)","slug":"zabbix-trigger","published":1,"updated":"2019-05-27T08:07:29.891Z","comments":1,"photos":[],"link":"","_id":"cjw6jlez20012p4n7xaq1nk9y","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p><a href=\"https://www.ipyker.com/2018/09/12/zabbix-item/\"></a> zabbixzabbix<code></code><code></code><code></code></p>\n<p><code>Triggers</code>zabbixOK,ProblemOKProblem,ProblemOK</p>\n<p><code>Events</code>zabbix</p>\n<p><code>Actions</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><em>nginx1</em></p>\n</blockquote>\n<p><code>-</code><code></code><code></code><br><img src=\"/images/pic/zabbix/zabbix-config029.png\" alt><br><br><img src=\"/images/pic/zabbix/zabbix-config030.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config031.png\" alt><br><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config032.png\" alt><br>5%5%</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"/images/pic/zabbix/zabbix-config033.png\" alt></p>\n<blockquote>\n<p>5<code>{&lt;server&gt;:&lt;key&gt;.&lt;function&gt;(&lt;parameter&gt;)}&lt;operator&gt;&lt;constant&gt;</code></p>\n</blockquote>\n<p><code>{web server1:vfs.fs.size[/,pused].last()}&gt;5</code>5</p>\n<ul>\n<li><code>web server1</code></li>\n<li><code>vfs.fs.size[/,pused]</code>key</li>\n<li><code>last()</code><function>(<parameter>)last()</parameter></function></li>\n<li><code>\\&gt;</code><operator></operator></li>\n<li><code>5</code></li>\n</ul>\n<p><code>function</code>last() avgcountchangesummaxmindatezabbix<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/appendix/triggers/functions\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>#,avg(#10),10#sum(300),300max(#20)20min(600)10last(0)last(#1)avg(1h,1d) 5avg(1h)45avg(1h,1d) 1davg(1h,1d)45</p>\n<p><code>operator</code>zabbixzabbix4.0<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/config/triggers/expression\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"length":1868,"excerpt":"","more":"<p><a href=\"https://www.ipyker.com/2018/09/12/zabbix-item/\"></a> zabbixzabbix<code></code><code></code><code></code></p>\n<p><code>Triggers</code>zabbixOK,ProblemOKProblem,ProblemOK</p>\n<p><code>Events</code>zabbix</p>\n<p><code>Actions</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><em>nginx1</em></p>\n</blockquote>\n<p><code>-</code><code></code><code></code><br><img src=\"/images/pic/zabbix/zabbix-config029.png\" alt><br><br><img src=\"/images/pic/zabbix/zabbix-config030.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config031.png\" alt><br><code>-</code><br><img src=\"/images/pic/zabbix/zabbix-config032.png\" alt><br>5%5%</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"/images/pic/zabbix/zabbix-config033.png\" alt></p>\n<blockquote>\n<p>5<code>{&lt;server&gt;:&lt;key&gt;.&lt;function&gt;(&lt;parameter&gt;)}&lt;operator&gt;&lt;constant&gt;</code></p>\n</blockquote>\n<p><code>{web server1:vfs.fs.size[/,pused].last()}&gt;5</code>5</p>\n<ul>\n<li><code>web server1</code></li>\n<li><code>vfs.fs.size[/,pused]</code>key</li>\n<li><code>last()</code><function>(<parameter>)last()</parameter></function></li>\n<li><code>\\&gt;</code><operator></operator></li>\n<li><code>5</code></li>\n</ul>\n<p><code>function</code>last() avgcountchangesummaxmindatezabbix<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/appendix/triggers/functions\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>#,avg(#10),10#sum(300),300max(#20)20min(600)10last(0)last(#1)avg(1h,1d) 5avg(1h)45avg(1h,1d) 1davg(1h,1d)45</p>\n<p><code>operator</code>zabbixzabbix4.0<a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/config/triggers/expression\" target=\"_blank\" rel=\"noopener\"></a></p>\n"},{"layout":"post","title":"ZabbixZabbix","author":"Pyker","img":"/images/bar/zabbix-06.jpg","top":false,"cover":false,"date":"2018-09-13T08:30:00.000Z","_content":"[](https://www.ipyker.com/2018/09/13/zabbix-trigger/) zabbixzabbix\n\n## \nzabbixzabbixzabbix\"\"zabbix\"\"zabbix\nzabbix\n\n* `Email`zabbixSMTP\n* `Script`zabbix\n* `SMS`\n* `Jabber`\n* `Ez Texting`\n* `onealert`\n\n## \n>**\n\n`--```  \n![](/images/pic/zabbix/zabbix-config034.png) \n``\n![](/images/pic/zabbix/zabbix-config035.png) \n\"\"\n\n## \nzabbix\"email\"\"Admin\"\"email\"\"\"\"Admin\"\"email\"\"Admin\"\"email\"\n\n`--Admin-`\n![](/images/pic/zabbix/zabbix-config036.png) \n\"\"\n\n## \n>zabbix, \n\nzabbix`----`\n![](/images/pic/zabbix/zabbix-config037.png)\n``\n![](/images/pic/zabbix/zabbix-config038.png)\n``\n![](/images/pic/zabbix/zabbix-config039.png)\n`` \n\n**[](https://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location) **\n```bash\n# \n{TRIGGER.STATUS},:{HOSTNAME}: {TRIGGER.NAME}!\n\n:{HOSTNAME}\n:{EVENT.DATE} {EVENT.TIME}\n:{TRIGGER.SEVERITY}\n: {TRIGGER.NAME}\n:{TRIGGER.KEY}\n:{ITEM.NAME}:{ITEM.VALUE}\n:{TRIGGER.STATUS}:{ITEM.VALUE}\nID:{EVENT.ID}\n\n\n{TRIGGER.STATUS}, :{HOSTNAME}: {TRIGGER.NAME}!\n\n:{HOSTNAME}\n:{EVENT.DATE} {EVENT.TIME}\n:{TRIGGER.SEVERITY}\n: {TRIGGER.NAME}\n:{TRIGGER.KEY}\n:{ITEM.NAME}:{ITEM.VALUE}\n:{TRIGGER.STATUS}:{ITEM.VALUE}\nID:{EVENT.ID}\n```\n\n## \nzabbix \n![](/images/pic/zabbix/zabbix-config040.png) \n0.39% 5%\n```bash\n[root@k8s nginx]# dd if=/dev/zero of=/testfile count=20 bs=1G\n20+0 \n20+0 \n21474836480(21 GB)44.8811 478 MB/\n[root@k8s nginx]# df -h\n             % \n/dev/sda5       296G   22G  275G    8% /\ndevtmpfs        3.9G     0  3.9G    0% /dev\ntmpfs           3.9G     0  3.9G    0% /dev/shm\ntmpfs           3.9G   18M  3.9G    1% /run\ntmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup\n/dev/sda2       200G   33M  200G    1% /home\n/dev/sda1       297M  107M  191M   36% /boot\ntmpfs           797M     0  797M    0% /run/user/0\n```\n8%5%7.16%df -h8%linux1\n![](/images/pic/zabbix/zabbix-config041.png) \n1``\n![](/images/pic/zabbix/zabbix-config042.png) \n`dd`testfile\n```bash\n[root@k8s /]# rm -rf testfile \n[root@k8s /]# df -h\n             % \n/dev/sda5       296G  1.2G  295G    1% /\ndevtmpfs        3.9G     0  3.9G    0% /dev\ntmpfs           3.9G     0  3.9G    0% /dev/shm\ntmpfs           3.9G   18M  3.9G    1% /run\ntmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup\n/dev/sda2       200G   33M  200G    1% /home\n/dev/sda1       297M  107M  191M   36% /boot\ntmpfs           797M     0  797M    0% /run/user/0\n```\n``\n![](/images/pic/zabbix/zabbix-config043.png)\nzabbix","source":"_posts/zabbox-alert.md","raw":"layout: post\ntitle: ZabbixZabbix\nauthor: Pyker\ncategories: Zabbix\nimg: /images/bar/zabbix-06.jpg\ntags:\n  - zabbix\ntop: false\ncover: false\ndate: 2018-09-13 16:30:00\n---\n[](https://www.ipyker.com/2018/09/13/zabbix-trigger/) zabbixzabbix\n\n## \nzabbixzabbixzabbix\"\"zabbix\"\"zabbix\nzabbix\n\n* `Email`zabbixSMTP\n* `Script`zabbix\n* `SMS`\n* `Jabber`\n* `Ez Texting`\n* `onealert`\n\n## \n>**\n\n`--```  \n![](/images/pic/zabbix/zabbix-config034.png) \n``\n![](/images/pic/zabbix/zabbix-config035.png) \n\"\"\n\n## \nzabbix\"email\"\"Admin\"\"email\"\"\"\"Admin\"\"email\"\"Admin\"\"email\"\n\n`--Admin-`\n![](/images/pic/zabbix/zabbix-config036.png) \n\"\"\n\n## \n>zabbix, \n\nzabbix`----`\n![](/images/pic/zabbix/zabbix-config037.png)\n``\n![](/images/pic/zabbix/zabbix-config038.png)\n``\n![](/images/pic/zabbix/zabbix-config039.png)\n`` \n\n**[](https://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location) **\n```bash\n# \n{TRIGGER.STATUS},:{HOSTNAME}: {TRIGGER.NAME}!\n\n:{HOSTNAME}\n:{EVENT.DATE} {EVENT.TIME}\n:{TRIGGER.SEVERITY}\n: {TRIGGER.NAME}\n:{TRIGGER.KEY}\n:{ITEM.NAME}:{ITEM.VALUE}\n:{TRIGGER.STATUS}:{ITEM.VALUE}\nID:{EVENT.ID}\n\n\n{TRIGGER.STATUS}, :{HOSTNAME}: {TRIGGER.NAME}!\n\n:{HOSTNAME}\n:{EVENT.DATE} {EVENT.TIME}\n:{TRIGGER.SEVERITY}\n: {TRIGGER.NAME}\n:{TRIGGER.KEY}\n:{ITEM.NAME}:{ITEM.VALUE}\n:{TRIGGER.STATUS}:{ITEM.VALUE}\nID:{EVENT.ID}\n```\n\n## \nzabbix \n![](/images/pic/zabbix/zabbix-config040.png) \n0.39% 5%\n```bash\n[root@k8s nginx]# dd if=/dev/zero of=/testfile count=20 bs=1G\n20+0 \n20+0 \n21474836480(21 GB)44.8811 478 MB/\n[root@k8s nginx]# df -h\n             % \n/dev/sda5       296G   22G  275G    8% /\ndevtmpfs        3.9G     0  3.9G    0% /dev\ntmpfs           3.9G     0  3.9G    0% /dev/shm\ntmpfs           3.9G   18M  3.9G    1% /run\ntmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup\n/dev/sda2       200G   33M  200G    1% /home\n/dev/sda1       297M  107M  191M   36% /boot\ntmpfs           797M     0  797M    0% /run/user/0\n```\n8%5%7.16%df -h8%linux1\n![](/images/pic/zabbix/zabbix-config041.png) \n1``\n![](/images/pic/zabbix/zabbix-config042.png) \n`dd`testfile\n```bash\n[root@k8s /]# rm -rf testfile \n[root@k8s /]# df -h\n             % \n/dev/sda5       296G  1.2G  295G    1% /\ndevtmpfs        3.9G     0  3.9G    0% /dev\ntmpfs           3.9G     0  3.9G    0% /dev/shm\ntmpfs           3.9G   18M  3.9G    1% /run\ntmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup\n/dev/sda2       200G   33M  200G    1% /home\n/dev/sda1       297M  107M  191M   36% /boot\ntmpfs           797M     0  797M    0% /run/user/0\n```\n``\n![](/images/pic/zabbix/zabbix-config043.png)\nzabbix","slug":"zabbox-alert","published":1,"updated":"2019-05-27T08:07:36.287Z","comments":1,"photos":[],"link":"","_id":"cjw6jlez30014p4n7ypdhtw9j","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p><a href=\"https://www.ipyker.com/2018/09/13/zabbix-trigger/\"></a> zabbixzabbix</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbixzabbixzabbixzabbixzabbix<br>zabbix</p>\n<ul>\n<li><code>Email</code>zabbixSMTP</li>\n<li><code>Script</code>zabbix</li>\n<li><code>SMS</code></li>\n<li><code>Jabber</code></li>\n<li><code>Ez Texting</code></li>\n<li><code>onealert</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><em></em></p>\n</blockquote>\n<p><code>--</code><code></code><br><img src=\"/images/pic/zabbix/zabbix-config034.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config035.png\" alt><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbixemailAdminemailAdminemailAdminemail</p>\n<p><code>--Admin-</code><br><img src=\"/images/pic/zabbix/zabbix-config036.png\" alt><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>zabbix, </p>\n</blockquote>\n<p>zabbix<code>----</code><br><img src=\"/images/pic/zabbix/zabbix-config037.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config038.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config039.png\" alt><br><code></code> </p>\n<p><strong><a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location\" target=\"_blank\" rel=\"noopener\"></a> </strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">&#123;TRIGGER.STATUS&#125;,:&#123;HOSTNAME&#125;: &#123;TRIGGER.NAME&#125;!</span><br><span class=\"line\"></span><br><span class=\"line\">:&#123;HOSTNAME&#125;</span><br><span class=\"line\">:&#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.SEVERITY&#125;</span><br><span class=\"line\">: &#123;TRIGGER.NAME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.KEY&#125;</span><br><span class=\"line\">:&#123;ITEM.NAME&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">:&#123;TRIGGER.STATUS&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">ID:&#123;EVENT.ID&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;TRIGGER.STATUS&#125;, :&#123;HOSTNAME&#125;: &#123;TRIGGER.NAME&#125;!</span><br><span class=\"line\"></span><br><span class=\"line\">:&#123;HOSTNAME&#125;</span><br><span class=\"line\">:&#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.SEVERITY&#125;</span><br><span class=\"line\">: &#123;TRIGGER.NAME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.KEY&#125;</span><br><span class=\"line\">:&#123;ITEM.NAME&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">:&#123;TRIGGER.STATUS&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">ID:&#123;EVENT.ID&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbix<br><img src=\"/images/pic/zabbix/zabbix-config040.png\" alt><br>0.39% 5%<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s nginx]<span class=\"comment\"># dd if=/dev/zero of=/testfile count=20 bs=1G</span></span><br><span class=\"line\">20+0 </span><br><span class=\"line\">20+0 </span><br><span class=\"line\">21474836480(21 GB)44.8811 478 MB/</span><br><span class=\"line\">[root@k8s nginx]<span class=\"comment\"># df -h</span></span><br><span class=\"line\">             % </span><br><span class=\"line\">/dev/sda5       296G   22G  275G    8% /</span><br><span class=\"line\">devtmpfs        3.9G     0  3.9G    0% /dev</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /dev/shm</span><br><span class=\"line\">tmpfs           3.9G   18M  3.9G    1% /run</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class=\"line\">/dev/sda2       200G   33M  200G    1% /home</span><br><span class=\"line\">/dev/sda1       297M  107M  191M   36% /boot</span><br><span class=\"line\">tmpfs           797M     0  797M    0% /run/user/0</span><br></pre></td></tr></table></figure></p>\n<p>8%5%7.16%df -h8%linux1<br><img src=\"/images/pic/zabbix/zabbix-config041.png\" alt><br>1<code></code><br><img src=\"/images/pic/zabbix/zabbix-config042.png\" alt><br><code>dd</code>testfile<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s /]<span class=\"comment\"># rm -rf testfile </span></span><br><span class=\"line\">[root@k8s /]<span class=\"comment\"># df -h</span></span><br><span class=\"line\">             % </span><br><span class=\"line\">/dev/sda5       296G  1.2G  295G    1% /</span><br><span class=\"line\">devtmpfs        3.9G     0  3.9G    0% /dev</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /dev/shm</span><br><span class=\"line\">tmpfs           3.9G   18M  3.9G    1% /run</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class=\"line\">/dev/sda2       200G   33M  200G    1% /home</span><br><span class=\"line\">/dev/sda1       297M  107M  191M   36% /boot</span><br><span class=\"line\">tmpfs           797M     0  797M    0% /run/user/0</span><br></pre></td></tr></table></figure></p>\n<p><code></code><br><img src=\"/images/pic/zabbix/zabbix-config043.png\" alt><br>zabbix</p>\n","site":{"data":{}},"length":3375,"excerpt":"","more":"<p><a href=\"https://www.ipyker.com/2018/09/13/zabbix-trigger/\"></a> zabbixzabbix</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbixzabbixzabbixzabbixzabbix<br>zabbix</p>\n<ul>\n<li><code>Email</code>zabbixSMTP</li>\n<li><code>Script</code>zabbix</li>\n<li><code>SMS</code></li>\n<li><code>Jabber</code></li>\n<li><code>Ez Texting</code></li>\n<li><code>onealert</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><em></em></p>\n</blockquote>\n<p><code>--</code><code></code><br><img src=\"/images/pic/zabbix/zabbix-config034.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config035.png\" alt><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbixemailAdminemailAdminemailAdminemail</p>\n<p><code>--Admin-</code><br><img src=\"/images/pic/zabbix/zabbix-config036.png\" alt><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>zabbix, </p>\n</blockquote>\n<p>zabbix<code>----</code><br><img src=\"/images/pic/zabbix/zabbix-config037.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config038.png\" alt><br><code></code><br><img src=\"/images/pic/zabbix/zabbix-config039.png\" alt><br><code></code> </p>\n<p><strong><a href=\"https://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location\" target=\"_blank\" rel=\"noopener\"></a> </strong><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">&#123;TRIGGER.STATUS&#125;,:&#123;HOSTNAME&#125;: &#123;TRIGGER.NAME&#125;!</span><br><span class=\"line\"></span><br><span class=\"line\">:&#123;HOSTNAME&#125;</span><br><span class=\"line\">:&#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.SEVERITY&#125;</span><br><span class=\"line\">: &#123;TRIGGER.NAME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.KEY&#125;</span><br><span class=\"line\">:&#123;ITEM.NAME&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">:&#123;TRIGGER.STATUS&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">ID:&#123;EVENT.ID&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;TRIGGER.STATUS&#125;, :&#123;HOSTNAME&#125;: &#123;TRIGGER.NAME&#125;!</span><br><span class=\"line\"></span><br><span class=\"line\">:&#123;HOSTNAME&#125;</span><br><span class=\"line\">:&#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.SEVERITY&#125;</span><br><span class=\"line\">: &#123;TRIGGER.NAME&#125;</span><br><span class=\"line\">:&#123;TRIGGER.KEY&#125;</span><br><span class=\"line\">:&#123;ITEM.NAME&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">:&#123;TRIGGER.STATUS&#125;:&#123;ITEM.VALUE&#125;</span><br><span class=\"line\">ID:&#123;EVENT.ID&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zabbix<br><img src=\"/images/pic/zabbix/zabbix-config040.png\" alt><br>0.39% 5%<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s nginx]<span class=\"comment\"># dd if=/dev/zero of=/testfile count=20 bs=1G</span></span><br><span class=\"line\">20+0 </span><br><span class=\"line\">20+0 </span><br><span class=\"line\">21474836480(21 GB)44.8811 478 MB/</span><br><span class=\"line\">[root@k8s nginx]<span class=\"comment\"># df -h</span></span><br><span class=\"line\">             % </span><br><span class=\"line\">/dev/sda5       296G   22G  275G    8% /</span><br><span class=\"line\">devtmpfs        3.9G     0  3.9G    0% /dev</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /dev/shm</span><br><span class=\"line\">tmpfs           3.9G   18M  3.9G    1% /run</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class=\"line\">/dev/sda2       200G   33M  200G    1% /home</span><br><span class=\"line\">/dev/sda1       297M  107M  191M   36% /boot</span><br><span class=\"line\">tmpfs           797M     0  797M    0% /run/user/0</span><br></pre></td></tr></table></figure></p>\n<p>8%5%7.16%df -h8%linux1<br><img src=\"/images/pic/zabbix/zabbix-config041.png\" alt><br>1<code></code><br><img src=\"/images/pic/zabbix/zabbix-config042.png\" alt><br><code>dd</code>testfile<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s /]<span class=\"comment\"># rm -rf testfile </span></span><br><span class=\"line\">[root@k8s /]<span class=\"comment\"># df -h</span></span><br><span class=\"line\">             % </span><br><span class=\"line\">/dev/sda5       296G  1.2G  295G    1% /</span><br><span class=\"line\">devtmpfs        3.9G     0  3.9G    0% /dev</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /dev/shm</span><br><span class=\"line\">tmpfs           3.9G   18M  3.9G    1% /run</span><br><span class=\"line\">tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class=\"line\">/dev/sda2       200G   33M  200G    1% /home</span><br><span class=\"line\">/dev/sda1       297M  107M  191M   36% /boot</span><br><span class=\"line\">tmpfs           797M     0  797M    0% /run/user/0</span><br></pre></td></tr></table></figure></p>\n<p><code></code><br><img src=\"/images/pic/zabbix/zabbix-config043.png\" alt><br>zabbix</p>\n"},{"layout":"post","title":"Ansible ","author":"Pyker","img":"/images/bar/ansible.jpg","top":false,"cover":false,"date":"2018-03-22T06:47:00.000Z","_content":">**ansibleplaybook**\n\n### Ansible\n```bash\n$ yum install epel-release ansible -y\n```\n### \n* ansible.cfg\n```bash\n$ cat /etc/ansible/ansible.cfg \n  [defaults]\n  inventory      = /etc/ansible/hosts           #\n  library        = /usr/share/my_modules/       # \n  forks          = 5                            #\n  sudo_user      = root                         #\n  remote_port    = 22                           #SSH\n  gathering = smart                             #'smart'facts'implicit''explicit'facts\n  fact_caching_timeout = 86400                  #'gatheringsmart'\n  fact_caching = jsonfile                       #'gatheringsmart'factsredismemcachefacts\n  fact_caching_connection = /etc/ansible/ansible_facts_cache  #'gatheringsmart'\n  roles_path    = /etc/ansible/roles            #ansibleroles\n  host_key_checking = false                     #\n  log_path = /var/log/ansible.log               #ansible\n  module_name = command                         #ansible\n  deprecation_warnings = False                  #ansible\n\n  [ssh_connection]\n  ssh_args = -C -o ControlMaster=auto -o ControlPersist=1d        #ssh1\n  control_path_dir = /etc/ansible/ssh-socket                      #ssh\n  control_path = %(directory)s/%%h-%%p-%%r                        #ssh\n  pipelining = True                                               #SSH,/etc/sudoers\"Defaults requiretty\"\n\n  [accelerate]\n  accelerate_port = 5099                        #pythonansiblepython-keyczar\n  accelerate_timeout = 30                       #,\n  accelerate_connect_timeout = 5.0              #..`accelerate_port`sshparamikodaemon.1.0:\n```\n* hosts \n \n ```bash\n  [tomcat]\n  192.168.16.192\n  192.168.16.193\n  [nginx]\n  app1 ansible_ssh_host=192.168.16.190 ansible_ssh_pass=\"2039\"\n  app2 ansible_ssh_host=192.168.16.191 sudo_user=ald ansible_ssh_pass=\"2039\"\n```\n>*sudo_useransible_ssh_pass*\n### Ansible\n* __ansible __\n-m\n-a command\n-B ansible\n-C \n-f \n-i inventory/hosts/etc/ansiable/hosts\n--limit=xxx.xxx.xxx.xxx ip\n--list-hosts \n\n* __ansible-doc __\n-M --module-path=/xxx/xxx   /usr/share/ansible/\n-l  --list          \n-s  command     playbook man \n\n* __ansible-galaxy__ \n>yumpipeasy_install\n\n   ansible-galaxy install <module_name>\n   \n* __ansible-playbook__ \n--syntax-check  [yaml]         \n-t TAGS    tags , \n--skip-tags=SKIP_TAGS   \n--start-at-task=START_AT   \n\n### \n1 copy   ()\n```bash\n$ ansible all m copy -a src=/xxx/xxx dest=/yyy/yyy owner=root group=root mode=644 force=yes/no backup=yes/no\nsrc /dest/root 644forcebackup\n```\n\n2 raw commandshell\n```bash\n$ ansible all m raw -a \"ifconfig\"\nifocnfig\n```\n\n3 yum \n```bash\n$ ansible all m yum a name=httpd state=present\nhttpdstatepresentlatestinstalledabsentremoved\n```\n\n4 file \n```bash\n$ ansible all m file a src=/xxx/xxx/1 dest=/yyy/1 state=link owner=alad group=alad mode=777\n$ ansible develop -m file -a \"path=/xxx/dir recurse=yes owner=root group=alad mode=644\"\n1srcdest/\n      2path\n*statedirectory\n    file\n\thard\n    touch\n    absent\n```\n\n5 cron crontab\n```bash\n$ ansible develop -m cron -a \"name='show time' minute=*/1 hour=* day=* month=* weekday=* job='/bin/date'\"\n$ ansible develop -m cron -a \"name='show time' state=absent\"\n1\n      2show time\n```\n\n6 group\n```bash\n$ ansible all-m group -a \"name=develop\"\ndevelop state=absent\n```\n\n7 user\n```bash\n$ ansible develop -m user -a \"name=harlan groups=root password=-1vFO89dP6qyK\"\n$ ansible develop -m user -a \"name=harlan state=absent remove=yes\"\n1harlanroothashhash\nhash  openssl passwd -salt -1 \"123456\"\n      2harlanRemove\n```\n\n8 service\n```bash\n$ ansible develop -m service -a \"name=nginx state=running\"\n$ ansible develop -m service -a \"name=nginx state=restarted enabled=yes\"\n1changedfalsestatechangedtrue\n      2nginxnginxstatestaetedreloadedstoped\n```\n\n9 script\n```bash\n$ ansible develop -m script -a \"/root/a.sh\"\ndevelopa.sh\n```\n\n10get_urlurlwget\n```bash\n$ ansible develop -m get_url -a \"url=http://file.alavening.com/alading_file/head_img/1526900421976.jpg dest=/home/ owner=alad group=alad mode=644\"\nurldest,/\n```\n \n11synchronizemode=pull\n```bash\n$ ansible develop -m synchronize -a \"src=/home/test/ dest=/home/test compress=yes delete=yes\"\n$ ansible develop -m synchronize -a \"src=/home/test/ dest=/home/test compress=yes mode=pull\"\n1srcdestdelete=yessrc \n      2srcdest\n```\n \n12template\n```bash\n$ ansible develop m template a src=/mytemplates/foo.j2 dest=/etc/file.conf mode=\"u=rw,g=r,o=r\"\nsrcfoo.j2destTemplateplaybook \n```\n><https://www.cnblogs.com/jsonhc/p/7895399.html>\n\n13fetch\n```bash\n$ ansible develop -m fetch -a \"src=/home/test/xxx dest=/home/ flat=yes\"\nxxxhomedest++srcdevelopxxx/home/develop/home/test flat=yes\n```\n \n14unarchive\n```bash\n$ ansible develop -m unarchive -a \"src=/root/apache-tomcat-7.0.85.tar.gz dest=/home/test owner=alad group=alad mode=755\"\n$ ansible develop -m unarchive -a \"src=/home/alad/ansible/elk/logstash-6.2.4.tar.gz dest=/home/test remote_src=yes\"\n$ ansible develop -m unarchive -a \"src=http://mirrors.linuxeye.com/oneinstack-full.tar.gz dest=/home/test remote_src=yes\"\ntomcatdest/remote_src=yes srcurldest\n```\n \n15commandshelllinux\n```\nshellcommandshellcommand\ncommandraw,shell\n```\n \n16setup\n```bash\n$ ansible develop -m setup\n$ ansible develop -m setup -a 'filter=ansible_*_mb'\n1\n      2filter\n```\n\n17assemble\n```bash\n$ ansible test -m assemble -a \"src=/root/test dest=/root/ansible/fileone mode=777 remote_src=False delimiter='========'\"\nsrc testtestdest fileoneremote_srcTuresrcFalseansibledelimiter\n```\n\n### Playbook\nPlaybook7ansiblenginx/etc/ansible/roles\nmkdir -pv nginx/{default,tasks,vars,meta,handlers,templates,files}\nAnsibleYAML/YAML\nYAMLYAMLAnsible------.YAML\n\"- \"\n\n\n```yaml\n\t---\n\t- hosts: test\n\t  remote_user: root\n\t  vars:\n\t    - bsh: b.sh\n\t\t- httprpm: httpd\n\t  task:\n\t    - name: install httpd\n\t\t  yum: name={{ httprpm }} state=present\n\t\t  tags: install_httpd\n\t\t- name: copy b.sh\n\t\t  copy: src=/root/{{ bsh }} dest=/root/ owner=ala group=ala mode=0644\n\t\t  notify:\n\t\t    - reload httpd\n\t\t- name: start httpd\n\t\t  service: name=httpd state=started enabled=yes\n\t  handlers:\n\t    - name: reload httpd\n\t\t  service: name=httpd state=reloaded\n```\ncopy notify  handlers  notify \n\n### templatejinja2\n\n* __template:Jinjia2copyjinja2__\ntemplate: src=httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf\n\n>http.conf.j2destcopyhttp.conf.j2\n\n* __whentasksJinja2__\n\n```yaml\n- name: start nginx service\n shell: systemctl start nginx.service\n when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version == \"7\"\n```\n centos 7sysctemctl\n\n* ____\n\n>itemwith_item\n \n```yaml\n- name: install packages\n yum: name={{ item }} state=latest\n with_items:\n    - httpd\n    - php\n```\n\n  > \n  \n```yaml\n- name: create users\n    user: name={{ item.name }} group={{ item.group }} state=present\n    with_items:\n    - {name: 'userx1', group: 'groupx1'}\n    - {name: 'userx2', group: 'groupx2'}\n```\nitem.name  . ","source":"_posts/ansible-module.md","raw":"layout: post\ntitle: Ansible \nauthor: Pyker\ncategories: CI/CD\nimg: /images/bar/ansible.jpg\ntags:\n  - ansible\ntop: false\ncover: false\ndate: 2018-03-22 14:47:00\n---\n>**ansibleplaybook**\n\n### Ansible\n```bash\n$ yum install epel-release ansible -y\n```\n### \n* ansible.cfg\n```bash\n$ cat /etc/ansible/ansible.cfg \n  [defaults]\n  inventory      = /etc/ansible/hosts           #\n  library        = /usr/share/my_modules/       # \n  forks          = 5                            #\n  sudo_user      = root                         #\n  remote_port    = 22                           #SSH\n  gathering = smart                             #'smart'facts'implicit''explicit'facts\n  fact_caching_timeout = 86400                  #'gatheringsmart'\n  fact_caching = jsonfile                       #'gatheringsmart'factsredismemcachefacts\n  fact_caching_connection = /etc/ansible/ansible_facts_cache  #'gatheringsmart'\n  roles_path    = /etc/ansible/roles            #ansibleroles\n  host_key_checking = false                     #\n  log_path = /var/log/ansible.log               #ansible\n  module_name = command                         #ansible\n  deprecation_warnings = False                  #ansible\n\n  [ssh_connection]\n  ssh_args = -C -o ControlMaster=auto -o ControlPersist=1d        #ssh1\n  control_path_dir = /etc/ansible/ssh-socket                      #ssh\n  control_path = %(directory)s/%%h-%%p-%%r                        #ssh\n  pipelining = True                                               #SSH,/etc/sudoers\"Defaults requiretty\"\n\n  [accelerate]\n  accelerate_port = 5099                        #pythonansiblepython-keyczar\n  accelerate_timeout = 30                       #,\n  accelerate_connect_timeout = 5.0              #..`accelerate_port`sshparamikodaemon.1.0:\n```\n* hosts \n \n ```bash\n  [tomcat]\n  192.168.16.192\n  192.168.16.193\n  [nginx]\n  app1 ansible_ssh_host=192.168.16.190 ansible_ssh_pass=\"2039\"\n  app2 ansible_ssh_host=192.168.16.191 sudo_user=ald ansible_ssh_pass=\"2039\"\n```\n>*sudo_useransible_ssh_pass*\n### Ansible\n* __ansible __\n-m\n-a command\n-B ansible\n-C \n-f \n-i inventory/hosts/etc/ansiable/hosts\n--limit=xxx.xxx.xxx.xxx ip\n--list-hosts \n\n* __ansible-doc __\n-M --module-path=/xxx/xxx   /usr/share/ansible/\n-l  --list          \n-s  command     playbook man \n\n* __ansible-galaxy__ \n>yumpipeasy_install\n\n   ansible-galaxy install <module_name>\n   \n* __ansible-playbook__ \n--syntax-check  [yaml]         \n-t TAGS    tags , \n--skip-tags=SKIP_TAGS   \n--start-at-task=START_AT   \n\n### \n1 copy   ()\n```bash\n$ ansible all m copy -a src=/xxx/xxx dest=/yyy/yyy owner=root group=root mode=644 force=yes/no backup=yes/no\nsrc /dest/root 644forcebackup\n```\n\n2 raw commandshell\n```bash\n$ ansible all m raw -a \"ifconfig\"\nifocnfig\n```\n\n3 yum \n```bash\n$ ansible all m yum a name=httpd state=present\nhttpdstatepresentlatestinstalledabsentremoved\n```\n\n4 file \n```bash\n$ ansible all m file a src=/xxx/xxx/1 dest=/yyy/1 state=link owner=alad group=alad mode=777\n$ ansible develop -m file -a \"path=/xxx/dir recurse=yes owner=root group=alad mode=644\"\n1srcdest/\n      2path\n*statedirectory\n    file\n\thard\n    touch\n    absent\n```\n\n5 cron crontab\n```bash\n$ ansible develop -m cron -a \"name='show time' minute=*/1 hour=* day=* month=* weekday=* job='/bin/date'\"\n$ ansible develop -m cron -a \"name='show time' state=absent\"\n1\n      2show time\n```\n\n6 group\n```bash\n$ ansible all-m group -a \"name=develop\"\ndevelop state=absent\n```\n\n7 user\n```bash\n$ ansible develop -m user -a \"name=harlan groups=root password=-1vFO89dP6qyK\"\n$ ansible develop -m user -a \"name=harlan state=absent remove=yes\"\n1harlanroothashhash\nhash  openssl passwd -salt -1 \"123456\"\n      2harlanRemove\n```\n\n8 service\n```bash\n$ ansible develop -m service -a \"name=nginx state=running\"\n$ ansible develop -m service -a \"name=nginx state=restarted enabled=yes\"\n1changedfalsestatechangedtrue\n      2nginxnginxstatestaetedreloadedstoped\n```\n\n9 script\n```bash\n$ ansible develop -m script -a \"/root/a.sh\"\ndevelopa.sh\n```\n\n10get_urlurlwget\n```bash\n$ ansible develop -m get_url -a \"url=http://file.alavening.com/alading_file/head_img/1526900421976.jpg dest=/home/ owner=alad group=alad mode=644\"\nurldest,/\n```\n \n11synchronizemode=pull\n```bash\n$ ansible develop -m synchronize -a \"src=/home/test/ dest=/home/test compress=yes delete=yes\"\n$ ansible develop -m synchronize -a \"src=/home/test/ dest=/home/test compress=yes mode=pull\"\n1srcdestdelete=yessrc \n      2srcdest\n```\n \n12template\n```bash\n$ ansible develop m template a src=/mytemplates/foo.j2 dest=/etc/file.conf mode=\"u=rw,g=r,o=r\"\nsrcfoo.j2destTemplateplaybook \n```\n><https://www.cnblogs.com/jsonhc/p/7895399.html>\n\n13fetch\n```bash\n$ ansible develop -m fetch -a \"src=/home/test/xxx dest=/home/ flat=yes\"\nxxxhomedest++srcdevelopxxx/home/develop/home/test flat=yes\n```\n \n14unarchive\n```bash\n$ ansible develop -m unarchive -a \"src=/root/apache-tomcat-7.0.85.tar.gz dest=/home/test owner=alad group=alad mode=755\"\n$ ansible develop -m unarchive -a \"src=/home/alad/ansible/elk/logstash-6.2.4.tar.gz dest=/home/test remote_src=yes\"\n$ ansible develop -m unarchive -a \"src=http://mirrors.linuxeye.com/oneinstack-full.tar.gz dest=/home/test remote_src=yes\"\ntomcatdest/remote_src=yes srcurldest\n```\n \n15commandshelllinux\n```\nshellcommandshellcommand\ncommandraw,shell\n```\n \n16setup\n```bash\n$ ansible develop -m setup\n$ ansible develop -m setup -a 'filter=ansible_*_mb'\n1\n      2filter\n```\n\n17assemble\n```bash\n$ ansible test -m assemble -a \"src=/root/test dest=/root/ansible/fileone mode=777 remote_src=False delimiter='========'\"\nsrc testtestdest fileoneremote_srcTuresrcFalseansibledelimiter\n```\n\n### Playbook\nPlaybook7ansiblenginx/etc/ansible/roles\nmkdir -pv nginx/{default,tasks,vars,meta,handlers,templates,files}\nAnsibleYAML/YAML\nYAMLYAMLAnsible------.YAML\n\"- \"\n\n\n```yaml\n\t---\n\t- hosts: test\n\t  remote_user: root\n\t  vars:\n\t    - bsh: b.sh\n\t\t- httprpm: httpd\n\t  task:\n\t    - name: install httpd\n\t\t  yum: name={{ httprpm }} state=present\n\t\t  tags: install_httpd\n\t\t- name: copy b.sh\n\t\t  copy: src=/root/{{ bsh }} dest=/root/ owner=ala group=ala mode=0644\n\t\t  notify:\n\t\t    - reload httpd\n\t\t- name: start httpd\n\t\t  service: name=httpd state=started enabled=yes\n\t  handlers:\n\t    - name: reload httpd\n\t\t  service: name=httpd state=reloaded\n```\ncopy notify  handlers  notify \n\n### templatejinja2\n\n* __template:Jinjia2copyjinja2__\ntemplate: src=httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf\n\n>http.conf.j2destcopyhttp.conf.j2\n\n* __whentasksJinja2__\n\n```yaml\n- name: start nginx service\n shell: systemctl start nginx.service\n when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version == \"7\"\n```\n centos 7sysctemctl\n\n* ____\n\n>itemwith_item\n \n```yaml\n- name: install packages\n yum: name={{ item }} state=latest\n with_items:\n    - httpd\n    - php\n```\n\n  > \n  \n```yaml\n- name: create users\n    user: name={{ item.name }} group={{ item.group }} state=present\n    with_items:\n    - {name: 'userx1', group: 'groupx1'}\n    - {name: 'userx2', group: 'groupx2'}\n```\nitem.name  . ","slug":"ansible-module","published":1,"updated":"2019-05-23T18:36:18.762Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0j0027p4n77u7evesf","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><blockquote>\n<p><strong>ansibleplaybook</strong></p>\n</blockquote>\n<h3 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install epel-release ansible -y</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>ansible.cfg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/ansible.cfg </span><br><span class=\"line\">  [defaults]</span><br><span class=\"line\">  inventory      = /etc/ansible/hosts           <span class=\"comment\">#</span></span><br><span class=\"line\">  library        = /usr/share/my_modules/       <span class=\"comment\"># </span></span><br><span class=\"line\">  forks          = 5                            <span class=\"comment\">#</span></span><br><span class=\"line\">  sudo_user      = root                         <span class=\"comment\">#</span></span><br><span class=\"line\">  remote_port    = 22                           <span class=\"comment\">#SSH</span></span><br><span class=\"line\">  gathering = smart                             <span class=\"comment\">#'smart'facts'implicit''explicit'facts</span></span><br><span class=\"line\">  fact_caching_timeout = 86400                  <span class=\"comment\">#'gatheringsmart'</span></span><br><span class=\"line\">  fact_caching = jsonfile                       <span class=\"comment\">#'gatheringsmart'factsredismemcachefacts</span></span><br><span class=\"line\">  fact_caching_connection = /etc/ansible/ansible_facts_cache  <span class=\"comment\">#'gatheringsmart'</span></span><br><span class=\"line\">  roles_path    = /etc/ansible/roles            <span class=\"comment\">#ansibleroles</span></span><br><span class=\"line\">  host_key_checking = <span class=\"literal\">false</span>                     <span class=\"comment\">#</span></span><br><span class=\"line\">  log_path = /var/<span class=\"built_in\">log</span>/ansible.log               <span class=\"comment\">#ansible</span></span><br><span class=\"line\">  module_name = <span class=\"built_in\">command</span>                         <span class=\"comment\">#ansible</span></span><br><span class=\"line\">  deprecation_warnings = False                  <span class=\"comment\">#ansible</span></span><br><span class=\"line\"></span><br><span class=\"line\">  [ssh_connection]</span><br><span class=\"line\">  ssh_args = -C -o ControlMaster=auto -o ControlPersist=1d        <span class=\"comment\">#ssh1</span></span><br><span class=\"line\">  control_path_dir = /etc/ansible/ssh-socket                      <span class=\"comment\">#ssh</span></span><br><span class=\"line\">  control_path = %(directory)s/%%h-%%p-%%r                        <span class=\"comment\">#ssh</span></span><br><span class=\"line\">  pipelining = True                                               <span class=\"comment\">#SSH,/etc/sudoers\"Defaults requiretty\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  [accelerate]</span><br><span class=\"line\">  accelerate_port = 5099                        <span class=\"comment\">#pythonansiblepython-keyczar</span></span><br><span class=\"line\">  accelerate_timeout = 30                       <span class=\"comment\">#,</span></span><br><span class=\"line\">  accelerate_connect_timeout = 5.0              <span class=\"comment\">#..`accelerate_port`sshparamikodaemon.1.0:</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>hosts <br></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[tomcat]</span><br><span class=\"line\">192.168.16.192</span><br><span class=\"line\">192.168.16.193</span><br><span class=\"line\">[nginx]</span><br><span class=\"line\">app1 ansible_ssh_host=192.168.16.190 ansible_ssh_pass=<span class=\"string\">\"2039\"</span></span><br><span class=\"line\">app2 ansible_ssh_host=192.168.16.191 sudo_user=ald ansible_ssh_pass=<span class=\"string\">\"2039\"</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><em>sudo_useransible_ssh_pass</em></p>\n</blockquote>\n<h3 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h3><ul>\n<li><p><strong>ansible </strong><br>-m<br>-a command<br>-B ansible<br>-C <br>-f <br>-i inventory/hosts/etc/ansiable/hosts<br>limit=xxx.xxx.xxx.xxx ip<br>list-hosts </p>\n</li>\n<li><p><strong>ansible-doc </strong><br>-M module-path=/xxx/xxx   /usr/share/ansible/<br>-l  list          <br>-s  command     playbook man </p>\n</li>\n<li><p><strong>ansible-galaxy</strong> </p>\n<blockquote>\n<p>yumpipeasy_install</p>\n</blockquote>\n<p> ansible-galaxy install &lt;module_name&gt;</p>\n</li>\n<li><p><strong>ansible-playbook</strong> <br>syntax-check  [yaml]         <br>-t TAGS    tags , <br>skip-tags=SKIP_TAGS   <br>start-at-task=START_AT   </p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1 copy   ()<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m copy -a src=/xxx/xxx dest=/yyy/yyy owner=root group=root mode=644 force=yes/no backup=yes/no</span><br><span class=\"line\">src /dest/root 644forcebackup</span><br></pre></td></tr></table></figure></p>\n<p>2 raw commandshell<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m raw -a <span class=\"string\">\"ifconfig\"</span></span><br><span class=\"line\">ifocnfig</span><br></pre></td></tr></table></figure></p>\n<p>3 yum <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m yum a name=httpd state=present</span><br><span class=\"line\">httpdstatepresentlatestinstalledabsentremoved</span><br></pre></td></tr></table></figure></p>\n<p>4 file <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m file a src=/xxx/xxx/1 dest=/yyy/1 state=link owner=alad group=alad mode=777</span><br><span class=\"line\">$ ansible develop -m file -a <span class=\"string\">\"path=/xxx/dir recurse=yes owner=root group=alad mode=644\"</span></span><br><span class=\"line\">1srcdest/</span><br><span class=\"line\">      2path</span><br><span class=\"line\">*statedirectory</span><br><span class=\"line\">    file</span><br><span class=\"line\">\thard</span><br><span class=\"line\">    touch</span><br><span class=\"line\">    absent</span><br></pre></td></tr></table></figure></p>\n<p>5 cron crontab<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m cron -a <span class=\"string\">\"name='show time' minute=*/1 hour=* day=* month=* weekday=* job='/bin/date'\"</span></span><br><span class=\"line\">$ ansible develop -m cron -a <span class=\"string\">\"name='show time' state=absent\"</span></span><br><span class=\"line\">1</span><br><span class=\"line\">      2show time</span><br></pre></td></tr></table></figure></p>\n<p>6 group<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all-m group -a <span class=\"string\">\"name=develop\"</span></span><br><span class=\"line\">develop state=absent</span><br></pre></td></tr></table></figure></p>\n<p>7 user<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m user -a <span class=\"string\">\"name=harlan groups=root password=-1vFO89dP6qyK\"</span></span><br><span class=\"line\">$ ansible develop -m user -a <span class=\"string\">\"name=harlan state=absent remove=yes\"</span></span><br><span class=\"line\">1harlanroot<span class=\"built_in\">hash</span><span class=\"built_in\">hash</span></span><br><span class=\"line\"><span class=\"built_in\">hash</span>  openssl passwd -salt -1 <span class=\"string\">\"123456\"</span></span><br><span class=\"line\">      2harlanRemove</span><br></pre></td></tr></table></figure></p>\n<p>8 service<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m service -a <span class=\"string\">\"name=nginx state=running\"</span></span><br><span class=\"line\">$ ansible develop -m service -a <span class=\"string\">\"name=nginx state=restarted enabled=yes\"</span></span><br><span class=\"line\">1changed<span class=\"literal\">false</span>statechanged<span class=\"literal\">true</span></span><br><span class=\"line\">      2nginxnginxstatestaetedreloadedstoped</span><br></pre></td></tr></table></figure></p>\n<p>9 script<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m script -a <span class=\"string\">\"/root/a.sh\"</span></span><br><span class=\"line\">developa.sh</span><br></pre></td></tr></table></figure></p>\n<p>10get_urlurlwget<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m get_url -a <span class=\"string\">\"url=http://file.alavening.com/alading_file/head_img/1526900421976.jpg dest=/home/ owner=alad group=alad mode=644\"</span></span><br><span class=\"line\">urldest,/</span><br></pre></td></tr></table></figure></p>\n<p>11synchronizemode=pull<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m synchronize -a <span class=\"string\">\"src=/home/test/ dest=/home/test compress=yes delete=yes\"</span></span><br><span class=\"line\">$ ansible develop -m synchronize -a <span class=\"string\">\"src=/home/test/ dest=/home/test compress=yes mode=pull\"</span></span><br><span class=\"line\">1srcdestdelete=yessrc </span><br><span class=\"line\">      2srcdest</span><br></pre></td></tr></table></figure></p>\n<p>12template<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop m template a src=/mytemplates/foo.j2 dest=/etc/file.conf mode=<span class=\"string\">\"u=rw,g=r,o=r\"</span></span><br><span class=\"line\">srcfoo.j2destTemplateplaybook </span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/jsonhc/p/7895399.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/jsonhc/p/7895399.html</a></p>\n</blockquote>\n<p>13fetch<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m fetch -a <span class=\"string\">\"src=/home/test/xxx dest=/home/ flat=yes\"</span></span><br><span class=\"line\">xxxhomedest++srcdevelopxxx/home/develop/home/<span class=\"built_in\">test</span> flat=yes</span><br></pre></td></tr></table></figure></p>\n<p>14unarchive<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=/root/apache-tomcat-7.0.85.tar.gz dest=/home/test owner=alad group=alad mode=755\"</span></span><br><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=/home/alad/ansible/elk/logstash-6.2.4.tar.gz dest=/home/test remote_src=yes\"</span></span><br><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=http://mirrors.linuxeye.com/oneinstack-full.tar.gz dest=/home/test remote_src=yes\"</span></span><br><span class=\"line\">tomcatdest/remote_src=yes srcurldest</span><br></pre></td></tr></table></figure></p>\n<p>15commandshelllinux<br><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">shell</span><span class=\"bash\"><span class=\"built_in\">command</span>shell<span class=\"built_in\">command</span></span></span><br><span class=\"line\">commandraw,<span class=\"keyword\">shell</span><span class=\"bash\"></span></span><br></pre></td></tr></table></figure></p>\n<p>16setup<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m setup</span><br><span class=\"line\">$ ansible develop -m setup -a <span class=\"string\">'filter=ansible_*_mb'</span></span><br><span class=\"line\">1</span><br><span class=\"line\">      2filter</span><br></pre></td></tr></table></figure></p>\n<p>17assemble<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible <span class=\"built_in\">test</span> -m assemble -a <span class=\"string\">\"src=/root/test dest=/root/ansible/fileone mode=777 remote_src=False delimiter='========'\"</span></span><br><span class=\"line\">src <span class=\"built_in\">test</span><span class=\"built_in\">test</span>dest fileoneremote_srcTuresrcFalseansibledelimiter</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h3><p>Playbook7ansiblenginx/etc/ansible/roles<br>mkdir -pv nginx/{default,tasks,vars,meta,handlers,templates,files}<br>AnsibleYAML/YAML<br>YAMLYAMLAnsible.YAML<br>- </p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- hosts:</span> <span class=\"string\">test</span></span><br><span class=\"line\"><span class=\"attr\">  remote_user:</span> <span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">  vars:</span></span><br><span class=\"line\"><span class=\"attr\">    - bsh:</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">httprpm:</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"attr\">  task:</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">install</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">httprpm</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span></span><br><span class=\"line\">\t  <span class=\"attr\">tags:</span> <span class=\"string\">install_httpd</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\">\t  <span class=\"attr\">copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/root/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\">\t  <span class=\"attr\">notify:</span></span><br><span class=\"line\">\t    <span class=\"bullet\">-</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">start</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=started</span> <span class=\"string\">enabled=yes</span></span><br><span class=\"line\"><span class=\"attr\">  handlers:</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=reloaded</span></span><br></pre></td></tr></table></figure></p>\n<p>copy notify  handlers  notify </p>\n<h3 id=\"templatejinja2\"><a href=\"#templatejinja2\" class=\"headerlink\" title=\"templatejinja2\"></a>templatejinja2</h3><ul>\n<li><strong>template:Jinjia2copyjinja2</strong><br>template: src=httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf</li>\n</ul>\n<blockquote>\n<p>http.conf.j2destcopyhttp.conf.j2</p>\n</blockquote>\n<ul>\n<li><strong>whentasksJinja2</strong></li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span> <span class=\"string\">service</span></span><br><span class=\"line\"><span class=\"attr\"> shell:</span> <span class=\"string\">systemctl</span> <span class=\"string\">start</span> <span class=\"string\">nginx.service</span></span><br><span class=\"line\"><span class=\"attr\"> when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"CentOS\"</span> <span class=\"string\">and</span> <span class=\"string\">ansible_distribution_major_version</span> <span class=\"string\">==</span> <span class=\"string\">\"7\"</span></span><br></pre></td></tr></table></figure>\n<p> centos 7sysctemctl</p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<blockquote>\n<p>itemwith_item</p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">install</span> <span class=\"string\">packages</span></span><br><span class=\"line\"><span class=\"attr\"> yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=latest</span></span><br><span class=\"line\"><span class=\"attr\"> with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">php</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> </p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">create</span> <span class=\"string\">users</span></span><br><span class=\"line\"><span class=\"attr\">    user:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">item.name</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">group=&#123;&#123;</span> <span class=\"string\">item.group</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span></span><br><span class=\"line\"><span class=\"attr\">    with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">&#123;name:</span> <span class=\"string\">'userx1'</span><span class=\"string\">,</span> <span class=\"attr\">group:</span> <span class=\"string\">'groupx1'</span><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">&#123;name:</span> <span class=\"string\">'userx2'</span><span class=\"string\">,</span> <span class=\"attr\">group:</span> <span class=\"string\">'groupx2'</span><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>item.name  . </p>\n","site":{"data":{}},"length":8716,"excerpt":"","more":"<blockquote>\n<p><strong>ansibleplaybook</strong></p>\n</blockquote>\n<h3 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install epel-release ansible -y</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>ansible.cfg</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/ansible.cfg </span><br><span class=\"line\">  [defaults]</span><br><span class=\"line\">  inventory      = /etc/ansible/hosts           <span class=\"comment\">#</span></span><br><span class=\"line\">  library        = /usr/share/my_modules/       <span class=\"comment\"># </span></span><br><span class=\"line\">  forks          = 5                            <span class=\"comment\">#</span></span><br><span class=\"line\">  sudo_user      = root                         <span class=\"comment\">#</span></span><br><span class=\"line\">  remote_port    = 22                           <span class=\"comment\">#SSH</span></span><br><span class=\"line\">  gathering = smart                             <span class=\"comment\">#'smart'facts'implicit''explicit'facts</span></span><br><span class=\"line\">  fact_caching_timeout = 86400                  <span class=\"comment\">#'gatheringsmart'</span></span><br><span class=\"line\">  fact_caching = jsonfile                       <span class=\"comment\">#'gatheringsmart'factsredismemcachefacts</span></span><br><span class=\"line\">  fact_caching_connection = /etc/ansible/ansible_facts_cache  <span class=\"comment\">#'gatheringsmart'</span></span><br><span class=\"line\">  roles_path    = /etc/ansible/roles            <span class=\"comment\">#ansibleroles</span></span><br><span class=\"line\">  host_key_checking = <span class=\"literal\">false</span>                     <span class=\"comment\">#</span></span><br><span class=\"line\">  log_path = /var/<span class=\"built_in\">log</span>/ansible.log               <span class=\"comment\">#ansible</span></span><br><span class=\"line\">  module_name = <span class=\"built_in\">command</span>                         <span class=\"comment\">#ansible</span></span><br><span class=\"line\">  deprecation_warnings = False                  <span class=\"comment\">#ansible</span></span><br><span class=\"line\"></span><br><span class=\"line\">  [ssh_connection]</span><br><span class=\"line\">  ssh_args = -C -o ControlMaster=auto -o ControlPersist=1d        <span class=\"comment\">#ssh1</span></span><br><span class=\"line\">  control_path_dir = /etc/ansible/ssh-socket                      <span class=\"comment\">#ssh</span></span><br><span class=\"line\">  control_path = %(directory)s/%%h-%%p-%%r                        <span class=\"comment\">#ssh</span></span><br><span class=\"line\">  pipelining = True                                               <span class=\"comment\">#SSH,/etc/sudoers\"Defaults requiretty\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">  [accelerate]</span><br><span class=\"line\">  accelerate_port = 5099                        <span class=\"comment\">#pythonansiblepython-keyczar</span></span><br><span class=\"line\">  accelerate_timeout = 30                       <span class=\"comment\">#,</span></span><br><span class=\"line\">  accelerate_connect_timeout = 5.0              <span class=\"comment\">#..`accelerate_port`sshparamikodaemon.1.0:</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>hosts <br></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[tomcat]</span><br><span class=\"line\">192.168.16.192</span><br><span class=\"line\">192.168.16.193</span><br><span class=\"line\">[nginx]</span><br><span class=\"line\">app1 ansible_ssh_host=192.168.16.190 ansible_ssh_pass=<span class=\"string\">\"2039\"</span></span><br><span class=\"line\">app2 ansible_ssh_host=192.168.16.191 sudo_user=ald ansible_ssh_pass=<span class=\"string\">\"2039\"</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><em>sudo_useransible_ssh_pass</em></p>\n</blockquote>\n<h3 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h3><ul>\n<li><p><strong>ansible </strong><br>-m<br>-a command<br>-B ansible<br>-C <br>-f <br>-i inventory/hosts/etc/ansiable/hosts<br>limit=xxx.xxx.xxx.xxx ip<br>list-hosts </p>\n</li>\n<li><p><strong>ansible-doc </strong><br>-M module-path=/xxx/xxx   /usr/share/ansible/<br>-l  list          <br>-s  command     playbook man </p>\n</li>\n<li><p><strong>ansible-galaxy</strong> </p>\n<blockquote>\n<p>yumpipeasy_install</p>\n</blockquote>\n<p> ansible-galaxy install &lt;module_name&gt;</p>\n</li>\n<li><p><strong>ansible-playbook</strong> <br>syntax-check  [yaml]         <br>-t TAGS    tags , <br>skip-tags=SKIP_TAGS   <br>start-at-task=START_AT   </p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1 copy   ()<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m copy -a src=/xxx/xxx dest=/yyy/yyy owner=root group=root mode=644 force=yes/no backup=yes/no</span><br><span class=\"line\">src /dest/root 644forcebackup</span><br></pre></td></tr></table></figure></p>\n<p>2 raw commandshell<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m raw -a <span class=\"string\">\"ifconfig\"</span></span><br><span class=\"line\">ifocnfig</span><br></pre></td></tr></table></figure></p>\n<p>3 yum <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m yum a name=httpd state=present</span><br><span class=\"line\">httpdstatepresentlatestinstalledabsentremoved</span><br></pre></td></tr></table></figure></p>\n<p>4 file <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all m file a src=/xxx/xxx/1 dest=/yyy/1 state=link owner=alad group=alad mode=777</span><br><span class=\"line\">$ ansible develop -m file -a <span class=\"string\">\"path=/xxx/dir recurse=yes owner=root group=alad mode=644\"</span></span><br><span class=\"line\">1srcdest/</span><br><span class=\"line\">      2path</span><br><span class=\"line\">*statedirectory</span><br><span class=\"line\">    file</span><br><span class=\"line\">\thard</span><br><span class=\"line\">    touch</span><br><span class=\"line\">    absent</span><br></pre></td></tr></table></figure></p>\n<p>5 cron crontab<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m cron -a <span class=\"string\">\"name='show time' minute=*/1 hour=* day=* month=* weekday=* job='/bin/date'\"</span></span><br><span class=\"line\">$ ansible develop -m cron -a <span class=\"string\">\"name='show time' state=absent\"</span></span><br><span class=\"line\">1</span><br><span class=\"line\">      2show time</span><br></pre></td></tr></table></figure></p>\n<p>6 group<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible all-m group -a <span class=\"string\">\"name=develop\"</span></span><br><span class=\"line\">develop state=absent</span><br></pre></td></tr></table></figure></p>\n<p>7 user<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m user -a <span class=\"string\">\"name=harlan groups=root password=-1vFO89dP6qyK\"</span></span><br><span class=\"line\">$ ansible develop -m user -a <span class=\"string\">\"name=harlan state=absent remove=yes\"</span></span><br><span class=\"line\">1harlanroot<span class=\"built_in\">hash</span><span class=\"built_in\">hash</span></span><br><span class=\"line\"><span class=\"built_in\">hash</span>  openssl passwd -salt -1 <span class=\"string\">\"123456\"</span></span><br><span class=\"line\">      2harlanRemove</span><br></pre></td></tr></table></figure></p>\n<p>8 service<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m service -a <span class=\"string\">\"name=nginx state=running\"</span></span><br><span class=\"line\">$ ansible develop -m service -a <span class=\"string\">\"name=nginx state=restarted enabled=yes\"</span></span><br><span class=\"line\">1changed<span class=\"literal\">false</span>statechanged<span class=\"literal\">true</span></span><br><span class=\"line\">      2nginxnginxstatestaetedreloadedstoped</span><br></pre></td></tr></table></figure></p>\n<p>9 script<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m script -a <span class=\"string\">\"/root/a.sh\"</span></span><br><span class=\"line\">developa.sh</span><br></pre></td></tr></table></figure></p>\n<p>10get_urlurlwget<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m get_url -a <span class=\"string\">\"url=http://file.alavening.com/alading_file/head_img/1526900421976.jpg dest=/home/ owner=alad group=alad mode=644\"</span></span><br><span class=\"line\">urldest,/</span><br></pre></td></tr></table></figure></p>\n<p>11synchronizemode=pull<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m synchronize -a <span class=\"string\">\"src=/home/test/ dest=/home/test compress=yes delete=yes\"</span></span><br><span class=\"line\">$ ansible develop -m synchronize -a <span class=\"string\">\"src=/home/test/ dest=/home/test compress=yes mode=pull\"</span></span><br><span class=\"line\">1srcdestdelete=yessrc </span><br><span class=\"line\">      2srcdest</span><br></pre></td></tr></table></figure></p>\n<p>12template<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop m template a src=/mytemplates/foo.j2 dest=/etc/file.conf mode=<span class=\"string\">\"u=rw,g=r,o=r\"</span></span><br><span class=\"line\">srcfoo.j2destTemplateplaybook </span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/jsonhc/p/7895399.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/jsonhc/p/7895399.html</a></p>\n</blockquote>\n<p>13fetch<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m fetch -a <span class=\"string\">\"src=/home/test/xxx dest=/home/ flat=yes\"</span></span><br><span class=\"line\">xxxhomedest++srcdevelopxxx/home/develop/home/<span class=\"built_in\">test</span> flat=yes</span><br></pre></td></tr></table></figure></p>\n<p>14unarchive<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=/root/apache-tomcat-7.0.85.tar.gz dest=/home/test owner=alad group=alad mode=755\"</span></span><br><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=/home/alad/ansible/elk/logstash-6.2.4.tar.gz dest=/home/test remote_src=yes\"</span></span><br><span class=\"line\">$ ansible develop -m unarchive -a <span class=\"string\">\"src=http://mirrors.linuxeye.com/oneinstack-full.tar.gz dest=/home/test remote_src=yes\"</span></span><br><span class=\"line\">tomcatdest/remote_src=yes srcurldest</span><br></pre></td></tr></table></figure></p>\n<p>15commandshelllinux<br><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">shell</span><span class=\"bash\"><span class=\"built_in\">command</span>shell<span class=\"built_in\">command</span></span></span><br><span class=\"line\">commandraw,<span class=\"keyword\">shell</span><span class=\"bash\"></span></span><br></pre></td></tr></table></figure></p>\n<p>16setup<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible develop -m setup</span><br><span class=\"line\">$ ansible develop -m setup -a <span class=\"string\">'filter=ansible_*_mb'</span></span><br><span class=\"line\">1</span><br><span class=\"line\">      2filter</span><br></pre></td></tr></table></figure></p>\n<p>17assemble<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible <span class=\"built_in\">test</span> -m assemble -a <span class=\"string\">\"src=/root/test dest=/root/ansible/fileone mode=777 remote_src=False delimiter='========'\"</span></span><br><span class=\"line\">src <span class=\"built_in\">test</span><span class=\"built_in\">test</span>dest fileoneremote_srcTuresrcFalseansibledelimiter</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h3><p>Playbook7ansiblenginx/etc/ansible/roles<br>mkdir -pv nginx/{default,tasks,vars,meta,handlers,templates,files}<br>AnsibleYAML/YAML<br>YAMLYAMLAnsible.YAML<br>- </p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- hosts:</span> <span class=\"string\">test</span></span><br><span class=\"line\"><span class=\"attr\">  remote_user:</span> <span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">  vars:</span></span><br><span class=\"line\"><span class=\"attr\">    - bsh:</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">httprpm:</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"attr\">  task:</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">install</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">httprpm</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span></span><br><span class=\"line\">\t  <span class=\"attr\">tags:</span> <span class=\"string\">install_httpd</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\">\t  <span class=\"attr\">copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/root/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\">\t  <span class=\"attr\">notify:</span></span><br><span class=\"line\">\t    <span class=\"bullet\">-</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t<span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">start</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=started</span> <span class=\"string\">enabled=yes</span></span><br><span class=\"line\"><span class=\"attr\">  handlers:</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span></span><br><span class=\"line\">\t  <span class=\"attr\">service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=reloaded</span></span><br></pre></td></tr></table></figure></p>\n<p>copy notify  handlers  notify </p>\n<h3 id=\"templatejinja2\"><a href=\"#templatejinja2\" class=\"headerlink\" title=\"templatejinja2\"></a>templatejinja2</h3><ul>\n<li><strong>template:Jinjia2copyjinja2</strong><br>template: src=httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf</li>\n</ul>\n<blockquote>\n<p>http.conf.j2destcopyhttp.conf.j2</p>\n</blockquote>\n<ul>\n<li><strong>whentasksJinja2</strong></li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span> <span class=\"string\">service</span></span><br><span class=\"line\"><span class=\"attr\"> shell:</span> <span class=\"string\">systemctl</span> <span class=\"string\">start</span> <span class=\"string\">nginx.service</span></span><br><span class=\"line\"><span class=\"attr\"> when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"CentOS\"</span> <span class=\"string\">and</span> <span class=\"string\">ansible_distribution_major_version</span> <span class=\"string\">==</span> <span class=\"string\">\"7\"</span></span><br></pre></td></tr></table></figure>\n<p> centos 7sysctemctl</p>\n<ul>\n<li><strong></strong></li>\n</ul>\n<blockquote>\n<p>itemwith_item</p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">install</span> <span class=\"string\">packages</span></span><br><span class=\"line\"><span class=\"attr\"> yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=latest</span></span><br><span class=\"line\"><span class=\"attr\"> with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">php</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> </p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">create</span> <span class=\"string\">users</span></span><br><span class=\"line\"><span class=\"attr\">    user:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">item.name</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">group=&#123;&#123;</span> <span class=\"string\">item.group</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span></span><br><span class=\"line\"><span class=\"attr\">    with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">&#123;name:</span> <span class=\"string\">'userx1'</span><span class=\"string\">,</span> <span class=\"attr\">group:</span> <span class=\"string\">'groupx1'</span><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">&#123;name:</span> <span class=\"string\">'userx2'</span><span class=\"string\">,</span> <span class=\"attr\">group:</span> <span class=\"string\">'groupx2'</span><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>item.name  . </p>\n"},{"layout":"post","title":"HTTP","author":"Pyker","img":"/images/bar/http.jpg","top":false,"cover":false,"date":"2017-12-26T05:15:00.000Z","_content":"HTTP Hypertext Transfer Protocol HTTPHTTPHTTP\n### HTTP\nHTTP`Request` `Response` HTTPHTTP/Accept-Charset: utf-8(CR)(LF)HTTPCR-LF\nHTTP 'X-'\n### \n**Accept **\n\n\tAccept: text/plain\n\n**Accept-Charset **\n\n\tAccept-Charset: utf-8\n\n**Accept-Encoding **\n\n\tAccept-Encoding: gzip, deflate\n\n**Accept-Datetime **\n\n\tAccept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n\n**Accept-Language **\n\n\tAccept-Language: en-US\n\n**Authorization HTTP**\n\n\tAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n\n**Cache-Control **\n\n\tCache-Control: no-cache\n\n**Connection hop-by-hop**\n\n\tConnection: keep-alive\n\tConnection: Upgrade\n\n**Content-Length **\n\n\tContent-Length: 348\n\n**Content-MD5 MD5Base64**\n\n\tContent-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n\n**Content-Type MIMEPOSTPUT**\n\n\tContent-Type: application/x-www-form-urlencoded\n\n**Cookie Set-Cookiehttp cookie**\n\n\tCookie: $Version=1; Skin=new;\n\n**Date **\n\n\tDate: Tue, 15 Nov 1994 08:12:31 GMT\n\n**Expect **\n\n\tExpect: 100-continue\n\n**Forwarded httpweb**\n\n\tForwarded: for=192.0.2.60;proto=http;by=203.0.113.43\n\tForwarded: for=192.0.2.43, for=198.51.100.17\n\n**From email**\n\n\tFrom: user@example.com\n\n**Host TCP**\n\n\tHost: en.wikipedia.org:8080\n\tHost: en.wikipedia.org\n\n**If-Match ETag,ETagETag**\n\n\tIf-Match: \"737060cd8c284d8af7ad3082f209582d\n\n**If-Modified-Since 304 Not Modified**\n\n\tIf-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n\n**If-None-Match ETagETage304 Not Modified**\n\n\tIf-None-Match: \"737060cd8c284d8af7ad3082f209582d\"\n\n**If-Range ETagETage**\n\n\tIf-Range: \"737060cd8c284d8af7ad3082f209582d\"\n\n**If-Unmodified-Since **\n\n\tIf-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n\n**Max-Forwards **\n\n\tMax-Forwards: 10\n\n**Origin Access-Control-Allow-Origin**\n\n\tOrigin: http://www.example-social-network.com\n\n**Pragma **\n\n\tPragma: no-cache\n\n**Proxy-Authorization **\n\n\tProxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n\n**Range HTTP/1.1Byte serving**\n\n\tRange: bytes=500-999\n\n**Referer ArefererAurl \"referrer\",\"referer\"**\n\n\tReferer: http://en.wikipedia.org/wiki/Main_Page\n\n**TE Transfer-Encoding**\n\n\tTE: trailers, deflate\n\n**Upgrade **\n\n\tUpgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n\n**User-Agent **\n\n\tUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0\n\n**Via **\n\n\tVia: 1.0 fred, 1.1 example.com (Apache/1.1)\n\n**Warning **\n\n\tWarning: 199 Miscellaneous warning\n\t\n### \n\n**X-Requested-With AjaxjsXMLHttpRequest**\n\n\tX-Requested-With: XMLHttpRequest\n\n**DNT web**\n\n\tDNT: 1 (Do Not Track Enabled)\n\tDNT: 0 (Do Not Track Disabled)\n\n**X-Forwarded-For HTTPwebIP**\n\n\tX-Forwarded-For: client1, proxy1, proxy2\n\tX-Forwarded-For: 129.78.138.66, 129.78.64.103\n\n**X-Forwarded-Host HTTPhost,**\n\n\tX-Forwarded-Host: en.wikipedia.org:8080\n\tX-Forwarded-Host: en.wikipedia.org\n\n**X-Forwarded-Proto HTTPwebhttp,https**\n\n\tX-Forwarded-Proto: https\n\n**Front-End-Https header Front-End-Https: on**\n\n**X-Http-Method-Override webheaderputdeletepost,putdelete**\n\n\tX-HTTP-Method-Override: DELETE\n\n**X-ATT-DeviceId AT&TMakeModel/Firmware**\n\n\tX-Att-Deviceid: GT-P7320/P7320XXLPG\n\n**X-Wap-Profile xml**\n\n\tx-wap-profile: http://wap.samsungmobile.com/uaprof/SGH-I777.xml\n\n**Proxy-Connection HTTPconnection**\n\n\tProxy-Connection: keep-alive\n\n**X-UIDH IDVerizon Wireless**\n\n\tX-UIDH: ...\n\n**X-Csrf-Token,X-CSRFToken,X-XSRF-TOKEN **\n\n\tX-Csrf-Token: i8XNjC4b8KVok4uw5RftR38Wgp2BFwql\n\n**X-Request-ID,X-Correlation-ID HTTP**\n\n\tX-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n\n### \n\n**Access-Control-Allow-Origin **\n\n\tAccess-Control-Allow-Origin: *\n\n**Accept-Patch httppatch**\n\n\tAccept-Patch: text/example;charset=utf-8\n\n**Accept-Ranges byte serving**\n\n\tAccept-Ranges: bytes\n\n**Age **\n\n\tAge: 12\n\n**Allow http 405**\n\n\tAllow: GET, HEAD\n\n**Alt-Svc \"Alt-Svc\"Alternative Servicesde**\n\n\tAlt-Svc: h2=\"http2.example.com:443\"; ma=7200\n\n**Cache-Control **\n\n\tCache-Control: max-age=3600\n\n**Connection hop-by-hop**\n\n\tConnection: close\n\n**Content-Disposition **\n\n\tContent-Disposition: attachment; filename=\"fname.ext\"\n\n**Content-Encoding **\n\n\tContent-Encoding: gzip\n\n**Content-Language **\n\n\tContent-Language: en\n\n**Content-Length **\n\n\tContent-Length: 348\n\n**Content-Location **\n\n\tContent-Location: /index.htm\n\n**Content-MD5 MD5Base64**\n\n\tContent-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n\n**Content-Range **\n\n\tContent-Range: bytes 21010-47021/47022\n\n**Content-Type MIME**\n\n\tContent-Type: text/html; charset=utf-8\n\n**Date **\n\n\tDate: Tue, 15 Nov 1994 08:12:31 GMT\n\n**ETag **\n\n\tETag: \"737060cd8c284d8af7ad3082f209582d\"\n\n**Expires **\n\n\tExpires: Thu, 01 Dec 1994 16:00:00 GMT\n\n**Last-Modified **\n\n\tLast-Modified: Tue, 15 Nov 1994 12:45:26 GMT\n\n**Link **\n\n\tLink: </feed>; rel=\"alternate\"\n\n**Location **\n\n\tLocation: http://www.w3.org/pub/WWW/People.html\n\n**P3P P3P:CP=\"your_compact_policy\"P3P(Platform for Privacy Preferences Project)P3PP3Pcookie**\n\n\tP3P: CP=\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\"\n\n**Pragma **\n\n\tPragma: no-cache\n\n**Proxy-Authenticate **\n\n\tProxy-Authenticate: Basic\n\n**Public-Key-Pins TLS**\n\n\tPublic-Key-Pins: max-age=2592000; pin-sha256=\"E9CZ9INDbd+2eRQozYqqbQ2yXLVKB9+xcprMF+44U1g=\";\n\n**Refresh \"**\n`meta http-equiv=\"refresh\" content=\"5; url=http://example.com/` \n\n\tRefresh: 5; url=http://www.w3.org/pub/WWW/People.html\n\n**Retry-After HTTP**\n\n\tExample 1: Retry-After: 120\n\tExample 2: Retry-After: Fri, 07 Nov 2014 23:59:59 GMT\n\n**Server WEB**\n\n\tServer: Apache/2.4.1 (Unix)\n\n**Set-Cookie HTTP Cookie**\n\n\tSet-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1\n\n**Status HTTP**\n\n\tStatus: 200 OK\n\n**Strict-Transport-Security HSTSHTTPHTTPS**\n\n\tStrict-Transport-Security: max-age=16070400; includeSubDomains\n\n**Trailer headerchunked**\n\n\tTrailer: Max-Forwards\n\n**Transfer-Encoding  chunked, compress, deflate, gzip, identity**\n\n\tTransfer-Encoding: chunked\n\n**TSV Tracking Status ValueDNT(do-not-track),**\n\n\t\"!\"  under construction\n\t\"?\"  dynamic\n\t\"G\"  gateway to multiple parties\n\t\"N\"  not tracking\n\t\"T\"  tracking\n\t\"C\"  tracking with consent\n\t\"P\"  tracking only if consented\n\t\"D\"  disregarding DNT\n\t\"U\"  updated\n\t\n\tTSV: ?\n\n**Upgrade **\n\n\tUpgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n\n**Vary **\n\n\tExample 1: Vary: *\n\tExample 2: Vary: Accept-Language\n\n**Via **\n\n\tVia: cache46.l2cn1341[84,206-0,H], cache38.l2c0c801[91,0], kunlun6.cn536[172,304-0,H], kunlun7.cn196[174,0]\n\n**x-cache HITMISS**\n\t\n\tx-cache: HIT TCP_IMS_HIT dirn:-2:-2\n\t\n**Warning **\n\n\tWarning: 199 Miscellaneous warning\n\n**WWW-Authenticate **\n\n\tWWW-Authenticate: Basic\n\n**X-Frame-Options **\n\n\tdeny frame\n\tsameorigin \n\tallow-from \n\tallowall \n\n\tX-Frame-Options: deny\n\n### \n**X-XSS-Protection **\n\n\tX-XSS-Protection: 1; mode=block\n\n**Content-Security-Policy, X-Content-Security-Policy,X-WebKit-CSP **\n\n\tX-WebKit-CSP: default-src 'self'\n\n**X-Content-Type-Options \"\",IEMIME**\n\n\tX-Content-Type-Options: nosniff\n\n**X-Powered-By web**\n\n\tX-Powered-By: PHP/5.4.0\n\n**X-UA-Compatible IEchrome**\n`<meta http-equiv=\"X-UA-Compatible\" content=\"chrome=1\" />` \n\n\tX-UA-Compatible: IE=EmulateIE7\n\tX-UA-Compatible: IE=edge\n\tX-UA-Compatible: Chrome=1\n\n**X-Content-Duration Gecko**\n\n\tX-Content-Duration: 42.666\n\n**Upgrade-Insecure-Requests HTTPS**\n\n\tUpgrade-Insecure-Requests: 1\n\n**X-Request-ID,X-Correlation-ID **\n\n\tX-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n\t\n****\n\n![](/images/pic/http-cache.png)\n\n>1. \n>\n>2. \n>\n>3.  ETag  If-None-Match: \"etag\" ETag(200)304\nEtag Last-Modified cache If-Modified-Since Last-Modified  304  cache \n","source":"_posts/http-header.md","raw":"layout: post\ntitle: HTTP\nauthor: Pyker\ncategories: web\nimg: /images/bar/http.jpg\ntags:\n  - https\ntop: false\ncover: false\ndate: 2017-12-26 13:15:00\n---\nHTTP Hypertext Transfer Protocol HTTPHTTPHTTP\n### HTTP\nHTTP`Request` `Response` HTTPHTTP/Accept-Charset: utf-8(CR)(LF)HTTPCR-LF\nHTTP 'X-'\n### \n**Accept **\n\n\tAccept: text/plain\n\n**Accept-Charset **\n\n\tAccept-Charset: utf-8\n\n**Accept-Encoding **\n\n\tAccept-Encoding: gzip, deflate\n\n**Accept-Datetime **\n\n\tAccept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n\n**Accept-Language **\n\n\tAccept-Language: en-US\n\n**Authorization HTTP**\n\n\tAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n\n**Cache-Control **\n\n\tCache-Control: no-cache\n\n**Connection hop-by-hop**\n\n\tConnection: keep-alive\n\tConnection: Upgrade\n\n**Content-Length **\n\n\tContent-Length: 348\n\n**Content-MD5 MD5Base64**\n\n\tContent-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n\n**Content-Type MIMEPOSTPUT**\n\n\tContent-Type: application/x-www-form-urlencoded\n\n**Cookie Set-Cookiehttp cookie**\n\n\tCookie: $Version=1; Skin=new;\n\n**Date **\n\n\tDate: Tue, 15 Nov 1994 08:12:31 GMT\n\n**Expect **\n\n\tExpect: 100-continue\n\n**Forwarded httpweb**\n\n\tForwarded: for=192.0.2.60;proto=http;by=203.0.113.43\n\tForwarded: for=192.0.2.43, for=198.51.100.17\n\n**From email**\n\n\tFrom: user@example.com\n\n**Host TCP**\n\n\tHost: en.wikipedia.org:8080\n\tHost: en.wikipedia.org\n\n**If-Match ETag,ETagETag**\n\n\tIf-Match: \"737060cd8c284d8af7ad3082f209582d\n\n**If-Modified-Since 304 Not Modified**\n\n\tIf-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n\n**If-None-Match ETagETage304 Not Modified**\n\n\tIf-None-Match: \"737060cd8c284d8af7ad3082f209582d\"\n\n**If-Range ETagETage**\n\n\tIf-Range: \"737060cd8c284d8af7ad3082f209582d\"\n\n**If-Unmodified-Since **\n\n\tIf-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n\n**Max-Forwards **\n\n\tMax-Forwards: 10\n\n**Origin Access-Control-Allow-Origin**\n\n\tOrigin: http://www.example-social-network.com\n\n**Pragma **\n\n\tPragma: no-cache\n\n**Proxy-Authorization **\n\n\tProxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n\n**Range HTTP/1.1Byte serving**\n\n\tRange: bytes=500-999\n\n**Referer ArefererAurl \"referrer\",\"referer\"**\n\n\tReferer: http://en.wikipedia.org/wiki/Main_Page\n\n**TE Transfer-Encoding**\n\n\tTE: trailers, deflate\n\n**Upgrade **\n\n\tUpgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n\n**User-Agent **\n\n\tUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0\n\n**Via **\n\n\tVia: 1.0 fred, 1.1 example.com (Apache/1.1)\n\n**Warning **\n\n\tWarning: 199 Miscellaneous warning\n\t\n### \n\n**X-Requested-With AjaxjsXMLHttpRequest**\n\n\tX-Requested-With: XMLHttpRequest\n\n**DNT web**\n\n\tDNT: 1 (Do Not Track Enabled)\n\tDNT: 0 (Do Not Track Disabled)\n\n**X-Forwarded-For HTTPwebIP**\n\n\tX-Forwarded-For: client1, proxy1, proxy2\n\tX-Forwarded-For: 129.78.138.66, 129.78.64.103\n\n**X-Forwarded-Host HTTPhost,**\n\n\tX-Forwarded-Host: en.wikipedia.org:8080\n\tX-Forwarded-Host: en.wikipedia.org\n\n**X-Forwarded-Proto HTTPwebhttp,https**\n\n\tX-Forwarded-Proto: https\n\n**Front-End-Https header Front-End-Https: on**\n\n**X-Http-Method-Override webheaderputdeletepost,putdelete**\n\n\tX-HTTP-Method-Override: DELETE\n\n**X-ATT-DeviceId AT&TMakeModel/Firmware**\n\n\tX-Att-Deviceid: GT-P7320/P7320XXLPG\n\n**X-Wap-Profile xml**\n\n\tx-wap-profile: http://wap.samsungmobile.com/uaprof/SGH-I777.xml\n\n**Proxy-Connection HTTPconnection**\n\n\tProxy-Connection: keep-alive\n\n**X-UIDH IDVerizon Wireless**\n\n\tX-UIDH: ...\n\n**X-Csrf-Token,X-CSRFToken,X-XSRF-TOKEN **\n\n\tX-Csrf-Token: i8XNjC4b8KVok4uw5RftR38Wgp2BFwql\n\n**X-Request-ID,X-Correlation-ID HTTP**\n\n\tX-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n\n### \n\n**Access-Control-Allow-Origin **\n\n\tAccess-Control-Allow-Origin: *\n\n**Accept-Patch httppatch**\n\n\tAccept-Patch: text/example;charset=utf-8\n\n**Accept-Ranges byte serving**\n\n\tAccept-Ranges: bytes\n\n**Age **\n\n\tAge: 12\n\n**Allow http 405**\n\n\tAllow: GET, HEAD\n\n**Alt-Svc \"Alt-Svc\"Alternative Servicesde**\n\n\tAlt-Svc: h2=\"http2.example.com:443\"; ma=7200\n\n**Cache-Control **\n\n\tCache-Control: max-age=3600\n\n**Connection hop-by-hop**\n\n\tConnection: close\n\n**Content-Disposition **\n\n\tContent-Disposition: attachment; filename=\"fname.ext\"\n\n**Content-Encoding **\n\n\tContent-Encoding: gzip\n\n**Content-Language **\n\n\tContent-Language: en\n\n**Content-Length **\n\n\tContent-Length: 348\n\n**Content-Location **\n\n\tContent-Location: /index.htm\n\n**Content-MD5 MD5Base64**\n\n\tContent-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n\n**Content-Range **\n\n\tContent-Range: bytes 21010-47021/47022\n\n**Content-Type MIME**\n\n\tContent-Type: text/html; charset=utf-8\n\n**Date **\n\n\tDate: Tue, 15 Nov 1994 08:12:31 GMT\n\n**ETag **\n\n\tETag: \"737060cd8c284d8af7ad3082f209582d\"\n\n**Expires **\n\n\tExpires: Thu, 01 Dec 1994 16:00:00 GMT\n\n**Last-Modified **\n\n\tLast-Modified: Tue, 15 Nov 1994 12:45:26 GMT\n\n**Link **\n\n\tLink: </feed>; rel=\"alternate\"\n\n**Location **\n\n\tLocation: http://www.w3.org/pub/WWW/People.html\n\n**P3P P3P:CP=\"your_compact_policy\"P3P(Platform for Privacy Preferences Project)P3PP3Pcookie**\n\n\tP3P: CP=\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\"\n\n**Pragma **\n\n\tPragma: no-cache\n\n**Proxy-Authenticate **\n\n\tProxy-Authenticate: Basic\n\n**Public-Key-Pins TLS**\n\n\tPublic-Key-Pins: max-age=2592000; pin-sha256=\"E9CZ9INDbd+2eRQozYqqbQ2yXLVKB9+xcprMF+44U1g=\";\n\n**Refresh \"**\n`meta http-equiv=\"refresh\" content=\"5; url=http://example.com/` \n\n\tRefresh: 5; url=http://www.w3.org/pub/WWW/People.html\n\n**Retry-After HTTP**\n\n\tExample 1: Retry-After: 120\n\tExample 2: Retry-After: Fri, 07 Nov 2014 23:59:59 GMT\n\n**Server WEB**\n\n\tServer: Apache/2.4.1 (Unix)\n\n**Set-Cookie HTTP Cookie**\n\n\tSet-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1\n\n**Status HTTP**\n\n\tStatus: 200 OK\n\n**Strict-Transport-Security HSTSHTTPHTTPS**\n\n\tStrict-Transport-Security: max-age=16070400; includeSubDomains\n\n**Trailer headerchunked**\n\n\tTrailer: Max-Forwards\n\n**Transfer-Encoding  chunked, compress, deflate, gzip, identity**\n\n\tTransfer-Encoding: chunked\n\n**TSV Tracking Status ValueDNT(do-not-track),**\n\n\t\"!\"  under construction\n\t\"?\"  dynamic\n\t\"G\"  gateway to multiple parties\n\t\"N\"  not tracking\n\t\"T\"  tracking\n\t\"C\"  tracking with consent\n\t\"P\"  tracking only if consented\n\t\"D\"  disregarding DNT\n\t\"U\"  updated\n\t\n\tTSV: ?\n\n**Upgrade **\n\n\tUpgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n\n**Vary **\n\n\tExample 1: Vary: *\n\tExample 2: Vary: Accept-Language\n\n**Via **\n\n\tVia: cache46.l2cn1341[84,206-0,H], cache38.l2c0c801[91,0], kunlun6.cn536[172,304-0,H], kunlun7.cn196[174,0]\n\n**x-cache HITMISS**\n\t\n\tx-cache: HIT TCP_IMS_HIT dirn:-2:-2\n\t\n**Warning **\n\n\tWarning: 199 Miscellaneous warning\n\n**WWW-Authenticate **\n\n\tWWW-Authenticate: Basic\n\n**X-Frame-Options **\n\n\tdeny frame\n\tsameorigin \n\tallow-from \n\tallowall \n\n\tX-Frame-Options: deny\n\n### \n**X-XSS-Protection **\n\n\tX-XSS-Protection: 1; mode=block\n\n**Content-Security-Policy, X-Content-Security-Policy,X-WebKit-CSP **\n\n\tX-WebKit-CSP: default-src 'self'\n\n**X-Content-Type-Options \"\",IEMIME**\n\n\tX-Content-Type-Options: nosniff\n\n**X-Powered-By web**\n\n\tX-Powered-By: PHP/5.4.0\n\n**X-UA-Compatible IEchrome**\n`<meta http-equiv=\"X-UA-Compatible\" content=\"chrome=1\" />` \n\n\tX-UA-Compatible: IE=EmulateIE7\n\tX-UA-Compatible: IE=edge\n\tX-UA-Compatible: Chrome=1\n\n**X-Content-Duration Gecko**\n\n\tX-Content-Duration: 42.666\n\n**Upgrade-Insecure-Requests HTTPS**\n\n\tUpgrade-Insecure-Requests: 1\n\n**X-Request-ID,X-Correlation-ID **\n\n\tX-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n\t\n****\n\n![](/images/pic/http-cache.png)\n\n>1. \n>\n>2. \n>\n>3.  ETag  If-None-Match: \"etag\" ETag(200)304\nEtag Last-Modified cache If-Modified-Since Last-Modified  304  cache \n","slug":"http-header","published":1,"updated":"2019-05-23T18:38:52.089Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0k0028p4n7auqz2ccw","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>HTTP Hypertext Transfer Protocol HTTPHTTPHTTP</p>\n<h3 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h3><p>HTTP<code>Request</code> <code>Response</code> HTTPHTTP/Accept-Charset: utf-8(CR)(LF)HTTPCR-LF<br>HTTP X-</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>Accept </strong></p>\n<pre><code>Accept: text/plain\n</code></pre><p><strong>Accept-Charset </strong></p>\n<pre><code>Accept-Charset: utf-8\n</code></pre><p><strong>Accept-Encoding </strong></p>\n<pre><code>Accept-Encoding: gzip, deflate\n</code></pre><p><strong>Accept-Datetime </strong></p>\n<pre><code>Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n</code></pre><p><strong>Accept-Language </strong></p>\n<pre><code>Accept-Language: en-US\n</code></pre><p><strong>Authorization HTTP</strong></p>\n<pre><code>Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n</code></pre><p><strong>Cache-Control </strong></p>\n<pre><code>Cache-Control: no-cache\n</code></pre><p><strong>Connection hop-by-hop</strong></p>\n<pre><code>Connection: keep-alive\nConnection: Upgrade\n</code></pre><p><strong>Content-Length </strong></p>\n<pre><code>Content-Length: 348\n</code></pre><p><strong>Content-MD5 MD5Base64</strong></p>\n<pre><code>Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n</code></pre><p><strong>Content-Type MIMEPOSTPUT</strong></p>\n<pre><code>Content-Type: application/x-www-form-urlencoded\n</code></pre><p><strong>Cookie Set-Cookiehttp cookie</strong></p>\n<pre><code>Cookie: $Version=1; Skin=new;\n</code></pre><p><strong>Date </strong></p>\n<pre><code>Date: Tue, 15 Nov 1994 08:12:31 GMT\n</code></pre><p><strong>Expect </strong></p>\n<pre><code>Expect: 100-continue\n</code></pre><p><strong>Forwarded httpweb</strong></p>\n<pre><code>Forwarded: for=192.0.2.60;proto=http;by=203.0.113.43\nForwarded: for=192.0.2.43, for=198.51.100.17\n</code></pre><p><strong>From email</strong></p>\n<pre><code>From: user@example.com\n</code></pre><p><strong>Host TCP</strong></p>\n<pre><code>Host: en.wikipedia.org:8080\nHost: en.wikipedia.org\n</code></pre><p><strong>If-Match ETag,ETagETag</strong></p>\n<pre><code>If-Match: &quot;737060cd8c284d8af7ad3082f209582d\n</code></pre><p><strong>If-Modified-Since 304 Not Modified</strong></p>\n<pre><code>If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n</code></pre><p><strong>If-None-Match ETagETage304 Not Modified</strong></p>\n<pre><code>If-None-Match: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>If-Range ETagETage</strong></p>\n<pre><code>If-Range: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>If-Unmodified-Since </strong></p>\n<pre><code>If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n</code></pre><p><strong>Max-Forwards </strong></p>\n<pre><code>Max-Forwards: 10\n</code></pre><p><strong>Origin Access-Control-Allow-Origin</strong></p>\n<pre><code>Origin: http://www.example-social-network.com\n</code></pre><p><strong>Pragma </strong></p>\n<pre><code>Pragma: no-cache\n</code></pre><p><strong>Proxy-Authorization </strong></p>\n<pre><code>Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n</code></pre><p><strong>Range HTTP/1.1Byte serving</strong></p>\n<pre><code>Range: bytes=500-999\n</code></pre><p><strong>Referer ArefererAurl referrer,referer</strong></p>\n<pre><code>Referer: http://en.wikipedia.org/wiki/Main_Page\n</code></pre><p><strong>TE Transfer-Encoding</strong></p>\n<pre><code>TE: trailers, deflate\n</code></pre><p><strong>Upgrade </strong></p>\n<pre><code>Upgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n</code></pre><p><strong>User-Agent </strong></p>\n<pre><code>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0\n</code></pre><p><strong>Via </strong></p>\n<pre><code>Via: 1.0 fred, 1.1 example.com (Apache/1.1)\n</code></pre><p><strong>Warning </strong></p>\n<pre><code>Warning: 199 Miscellaneous warning\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>X-Requested-With AjaxjsXMLHttpRequest</strong></p>\n<pre><code>X-Requested-With: XMLHttpRequest\n</code></pre><p><strong>DNT web</strong></p>\n<pre><code>DNT: 1 (Do Not Track Enabled)\nDNT: 0 (Do Not Track Disabled)\n</code></pre><p><strong>X-Forwarded-For HTTPwebIP</strong></p>\n<pre><code>X-Forwarded-For: client1, proxy1, proxy2\nX-Forwarded-For: 129.78.138.66, 129.78.64.103\n</code></pre><p><strong>X-Forwarded-Host HTTPhost,</strong></p>\n<pre><code>X-Forwarded-Host: en.wikipedia.org:8080\nX-Forwarded-Host: en.wikipedia.org\n</code></pre><p><strong>X-Forwarded-Proto HTTPwebhttp,https</strong></p>\n<pre><code>X-Forwarded-Proto: https\n</code></pre><p><strong>Front-End-Https header Front-End-Https: on</strong></p>\n<p><strong>X-Http-Method-Override webheaderputdeletepost,putdelete</strong></p>\n<pre><code>X-HTTP-Method-Override: DELETE\n</code></pre><p><strong>X-ATT-DeviceId AT&amp;TMakeModel/Firmware</strong></p>\n<pre><code>X-Att-Deviceid: GT-P7320/P7320XXLPG\n</code></pre><p><strong>X-Wap-Profile xml</strong></p>\n<pre><code>x-wap-profile: http://wap.samsungmobile.com/uaprof/SGH-I777.xml\n</code></pre><p><strong>Proxy-Connection HTTPconnection</strong></p>\n<pre><code>Proxy-Connection: keep-alive\n</code></pre><p><strong>X-UIDH IDVerizon Wireless</strong></p>\n<pre><code>X-UIDH: ...\n</code></pre><p><strong>X-Csrf-Token,X-CSRFToken,X-XSRF-TOKEN </strong></p>\n<pre><code>X-Csrf-Token: i8XNjC4b8KVok4uw5RftR38Wgp2BFwql\n</code></pre><p><strong>X-Request-ID,X-Correlation-ID HTTP</strong></p>\n<pre><code>X-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>Access-Control-Allow-Origin </strong></p>\n<pre><code>Access-Control-Allow-Origin: *\n</code></pre><p><strong>Accept-Patch httppatch</strong></p>\n<pre><code>Accept-Patch: text/example;charset=utf-8\n</code></pre><p><strong>Accept-Ranges byte serving</strong></p>\n<pre><code>Accept-Ranges: bytes\n</code></pre><p><strong>Age </strong></p>\n<pre><code>Age: 12\n</code></pre><p><strong>Allow http 405</strong></p>\n<pre><code>Allow: GET, HEAD\n</code></pre><p><strong>Alt-Svc Alt-SvcAlternative Servicesde</strong></p>\n<pre><code>Alt-Svc: h2=&quot;http2.example.com:443&quot;; ma=7200\n</code></pre><p><strong>Cache-Control </strong></p>\n<pre><code>Cache-Control: max-age=3600\n</code></pre><p><strong>Connection hop-by-hop</strong></p>\n<pre><code>Connection: close\n</code></pre><p><strong>Content-Disposition </strong></p>\n<pre><code>Content-Disposition: attachment; filename=&quot;fname.ext&quot;\n</code></pre><p><strong>Content-Encoding </strong></p>\n<pre><code>Content-Encoding: gzip\n</code></pre><p><strong>Content-Language </strong></p>\n<pre><code>Content-Language: en\n</code></pre><p><strong>Content-Length </strong></p>\n<pre><code>Content-Length: 348\n</code></pre><p><strong>Content-Location </strong></p>\n<pre><code>Content-Location: /index.htm\n</code></pre><p><strong>Content-MD5 MD5Base64</strong></p>\n<pre><code>Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n</code></pre><p><strong>Content-Range </strong></p>\n<pre><code>Content-Range: bytes 21010-47021/47022\n</code></pre><p><strong>Content-Type MIME</strong></p>\n<pre><code>Content-Type: text/html; charset=utf-8\n</code></pre><p><strong>Date </strong></p>\n<pre><code>Date: Tue, 15 Nov 1994 08:12:31 GMT\n</code></pre><p><strong>ETag </strong></p>\n<pre><code>ETag: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>Expires </strong></p>\n<pre><code>Expires: Thu, 01 Dec 1994 16:00:00 GMT\n</code></pre><p><strong>Last-Modified </strong></p>\n<pre><code>Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT\n</code></pre><p><strong>Link </strong></p>\n<pre><code>Link: &lt;/feed&gt;; rel=&quot;alternate&quot;\n</code></pre><p><strong>Location </strong></p>\n<pre><code>Location: http://www.w3.org/pub/WWW/People.html\n</code></pre><p><strong>P3P P3P:CP=your_compact_policyP3P(Platform for Privacy Preferences Project)P3PP3Pcookie</strong></p>\n<pre><code>P3P: CP=&quot;This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&amp;answer=151657 for more info.&quot;\n</code></pre><p><strong>Pragma </strong></p>\n<pre><code>Pragma: no-cache\n</code></pre><p><strong>Proxy-Authenticate </strong></p>\n<pre><code>Proxy-Authenticate: Basic\n</code></pre><p><strong>Public-Key-Pins TLS</strong></p>\n<pre><code>Public-Key-Pins: max-age=2592000; pin-sha256=&quot;E9CZ9INDbd+2eRQozYqqbQ2yXLVKB9+xcprMF+44U1g=&quot;;\n</code></pre><p><strong>Refresh </strong><br><code>meta http-equiv=&quot;refresh&quot; content=&quot;5; url=http://example.com/</code> </p>\n<pre><code>Refresh: 5; url=http://www.w3.org/pub/WWW/People.html\n</code></pre><p><strong>Retry-After HTTP</strong></p>\n<pre><code>Example 1: Retry-After: 120\nExample 2: Retry-After: Fri, 07 Nov 2014 23:59:59 GMT\n</code></pre><p><strong>Server WEB</strong></p>\n<pre><code>Server: Apache/2.4.1 (Unix)\n</code></pre><p><strong>Set-Cookie HTTP Cookie</strong></p>\n<pre><code>Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1\n</code></pre><p><strong>Status HTTP</strong></p>\n<pre><code>Status: 200 OK\n</code></pre><p><strong>Strict-Transport-Security HSTSHTTPHTTPS</strong></p>\n<pre><code>Strict-Transport-Security: max-age=16070400; includeSubDomains\n</code></pre><p><strong>Trailer headerchunked</strong></p>\n<pre><code>Trailer: Max-Forwards\n</code></pre><p><strong>Transfer-Encoding  chunked, compress, deflate, gzip, identity</strong></p>\n<pre><code>Transfer-Encoding: chunked\n</code></pre><p><strong>TSV Tracking Status ValueDNT(do-not-track),</strong></p>\n<pre><code>&quot;!&quot;  under construction\n&quot;?&quot;  dynamic\n&quot;G&quot;  gateway to multiple parties\n&quot;N&quot;  not tracking\n&quot;T&quot;  tracking\n&quot;C&quot;  tracking with consent\n&quot;P&quot;  tracking only if consented\n&quot;D&quot;  disregarding DNT\n&quot;U&quot;  updated\n\nTSV: ?\n</code></pre><p><strong>Upgrade </strong></p>\n<pre><code>Upgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n</code></pre><p><strong>Vary </strong></p>\n<pre><code>Example 1: Vary: *\nExample 2: Vary: Accept-Language\n</code></pre><p><strong>Via </strong></p>\n<pre><code>Via: cache46.l2cn1341[84,206-0,H], cache38.l2c0c801[91,0], kunlun6.cn536[172,304-0,H], kunlun7.cn196[174,0]\n</code></pre><p><strong>x-cache HITMISS</strong></p>\n<pre><code>x-cache: HIT TCP_IMS_HIT dirn:-2:-2\n</code></pre><p><strong>Warning </strong></p>\n<pre><code>Warning: 199 Miscellaneous warning\n</code></pre><p><strong>WWW-Authenticate </strong></p>\n<pre><code>WWW-Authenticate: Basic\n</code></pre><p><strong>X-Frame-Options </strong></p>\n<pre><code>deny frame\nsameorigin \nallow-from \nallowall \n\nX-Frame-Options: deny\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>X-XSS-Protection </strong></p>\n<pre><code>X-XSS-Protection: 1; mode=block\n</code></pre><p><strong>Content-Security-Policy, X-Content-Security-Policy,X-WebKit-CSP </strong></p>\n<pre><code>X-WebKit-CSP: default-src &apos;self&apos;\n</code></pre><p><strong>X-Content-Type-Options ,IEMIME</strong></p>\n<pre><code>X-Content-Type-Options: nosniff\n</code></pre><p><strong>X-Powered-By web</strong></p>\n<pre><code>X-Powered-By: PHP/5.4.0\n</code></pre><p><strong>X-UA-Compatible IEchrome</strong><br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;chrome=1&quot; /&gt;</code> </p>\n<pre><code>X-UA-Compatible: IE=EmulateIE7\nX-UA-Compatible: IE=edge\nX-UA-Compatible: Chrome=1\n</code></pre><p><strong>X-Content-Duration Gecko</strong></p>\n<pre><code>X-Content-Duration: 42.666\n</code></pre><p><strong>Upgrade-Insecure-Requests HTTPS</strong></p>\n<pre><code>Upgrade-Insecure-Requests: 1\n</code></pre><p><strong>X-Request-ID,X-Correlation-ID </strong></p>\n<pre><code>X-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n</code></pre><p><strong></strong></p>\n<p><img src=\"/images/pic/http-cache.png\" alt><br></p>\n<blockquote>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> ETag  If-None-Match: etag ETag(200)304<br>Etag Last-Modified cache If-Modified-Since Last-Modified  304  cache </p>\n</li>\n</ol>\n</blockquote>\n","site":{"data":{}},"length":9531,"excerpt":"","more":"<p>HTTP Hypertext Transfer Protocol HTTPHTTPHTTP</p>\n<h3 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h3><p>HTTP<code>Request</code> <code>Response</code> HTTPHTTP/Accept-Charset: utf-8(CR)(LF)HTTPCR-LF<br>HTTP X-</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>Accept </strong></p>\n<pre><code>Accept: text/plain\n</code></pre><p><strong>Accept-Charset </strong></p>\n<pre><code>Accept-Charset: utf-8\n</code></pre><p><strong>Accept-Encoding </strong></p>\n<pre><code>Accept-Encoding: gzip, deflate\n</code></pre><p><strong>Accept-Datetime </strong></p>\n<pre><code>Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n</code></pre><p><strong>Accept-Language </strong></p>\n<pre><code>Accept-Language: en-US\n</code></pre><p><strong>Authorization HTTP</strong></p>\n<pre><code>Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n</code></pre><p><strong>Cache-Control </strong></p>\n<pre><code>Cache-Control: no-cache\n</code></pre><p><strong>Connection hop-by-hop</strong></p>\n<pre><code>Connection: keep-alive\nConnection: Upgrade\n</code></pre><p><strong>Content-Length </strong></p>\n<pre><code>Content-Length: 348\n</code></pre><p><strong>Content-MD5 MD5Base64</strong></p>\n<pre><code>Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n</code></pre><p><strong>Content-Type MIMEPOSTPUT</strong></p>\n<pre><code>Content-Type: application/x-www-form-urlencoded\n</code></pre><p><strong>Cookie Set-Cookiehttp cookie</strong></p>\n<pre><code>Cookie: $Version=1; Skin=new;\n</code></pre><p><strong>Date </strong></p>\n<pre><code>Date: Tue, 15 Nov 1994 08:12:31 GMT\n</code></pre><p><strong>Expect </strong></p>\n<pre><code>Expect: 100-continue\n</code></pre><p><strong>Forwarded httpweb</strong></p>\n<pre><code>Forwarded: for=192.0.2.60;proto=http;by=203.0.113.43\nForwarded: for=192.0.2.43, for=198.51.100.17\n</code></pre><p><strong>From email</strong></p>\n<pre><code>From: user@example.com\n</code></pre><p><strong>Host TCP</strong></p>\n<pre><code>Host: en.wikipedia.org:8080\nHost: en.wikipedia.org\n</code></pre><p><strong>If-Match ETag,ETagETag</strong></p>\n<pre><code>If-Match: &quot;737060cd8c284d8af7ad3082f209582d\n</code></pre><p><strong>If-Modified-Since 304 Not Modified</strong></p>\n<pre><code>If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n</code></pre><p><strong>If-None-Match ETagETage304 Not Modified</strong></p>\n<pre><code>If-None-Match: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>If-Range ETagETage</strong></p>\n<pre><code>If-Range: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>If-Unmodified-Since </strong></p>\n<pre><code>If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT\n</code></pre><p><strong>Max-Forwards </strong></p>\n<pre><code>Max-Forwards: 10\n</code></pre><p><strong>Origin Access-Control-Allow-Origin</strong></p>\n<pre><code>Origin: http://www.example-social-network.com\n</code></pre><p><strong>Pragma </strong></p>\n<pre><code>Pragma: no-cache\n</code></pre><p><strong>Proxy-Authorization </strong></p>\n<pre><code>Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n</code></pre><p><strong>Range HTTP/1.1Byte serving</strong></p>\n<pre><code>Range: bytes=500-999\n</code></pre><p><strong>Referer ArefererAurl referrer,referer</strong></p>\n<pre><code>Referer: http://en.wikipedia.org/wiki/Main_Page\n</code></pre><p><strong>TE Transfer-Encoding</strong></p>\n<pre><code>TE: trailers, deflate\n</code></pre><p><strong>Upgrade </strong></p>\n<pre><code>Upgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n</code></pre><p><strong>User-Agent </strong></p>\n<pre><code>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0\n</code></pre><p><strong>Via </strong></p>\n<pre><code>Via: 1.0 fred, 1.1 example.com (Apache/1.1)\n</code></pre><p><strong>Warning </strong></p>\n<pre><code>Warning: 199 Miscellaneous warning\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>X-Requested-With AjaxjsXMLHttpRequest</strong></p>\n<pre><code>X-Requested-With: XMLHttpRequest\n</code></pre><p><strong>DNT web</strong></p>\n<pre><code>DNT: 1 (Do Not Track Enabled)\nDNT: 0 (Do Not Track Disabled)\n</code></pre><p><strong>X-Forwarded-For HTTPwebIP</strong></p>\n<pre><code>X-Forwarded-For: client1, proxy1, proxy2\nX-Forwarded-For: 129.78.138.66, 129.78.64.103\n</code></pre><p><strong>X-Forwarded-Host HTTPhost,</strong></p>\n<pre><code>X-Forwarded-Host: en.wikipedia.org:8080\nX-Forwarded-Host: en.wikipedia.org\n</code></pre><p><strong>X-Forwarded-Proto HTTPwebhttp,https</strong></p>\n<pre><code>X-Forwarded-Proto: https\n</code></pre><p><strong>Front-End-Https header Front-End-Https: on</strong></p>\n<p><strong>X-Http-Method-Override webheaderputdeletepost,putdelete</strong></p>\n<pre><code>X-HTTP-Method-Override: DELETE\n</code></pre><p><strong>X-ATT-DeviceId AT&amp;TMakeModel/Firmware</strong></p>\n<pre><code>X-Att-Deviceid: GT-P7320/P7320XXLPG\n</code></pre><p><strong>X-Wap-Profile xml</strong></p>\n<pre><code>x-wap-profile: http://wap.samsungmobile.com/uaprof/SGH-I777.xml\n</code></pre><p><strong>Proxy-Connection HTTPconnection</strong></p>\n<pre><code>Proxy-Connection: keep-alive\n</code></pre><p><strong>X-UIDH IDVerizon Wireless</strong></p>\n<pre><code>X-UIDH: ...\n</code></pre><p><strong>X-Csrf-Token,X-CSRFToken,X-XSRF-TOKEN </strong></p>\n<pre><code>X-Csrf-Token: i8XNjC4b8KVok4uw5RftR38Wgp2BFwql\n</code></pre><p><strong>X-Request-ID,X-Correlation-ID HTTP</strong></p>\n<pre><code>X-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>Access-Control-Allow-Origin </strong></p>\n<pre><code>Access-Control-Allow-Origin: *\n</code></pre><p><strong>Accept-Patch httppatch</strong></p>\n<pre><code>Accept-Patch: text/example;charset=utf-8\n</code></pre><p><strong>Accept-Ranges byte serving</strong></p>\n<pre><code>Accept-Ranges: bytes\n</code></pre><p><strong>Age </strong></p>\n<pre><code>Age: 12\n</code></pre><p><strong>Allow http 405</strong></p>\n<pre><code>Allow: GET, HEAD\n</code></pre><p><strong>Alt-Svc Alt-SvcAlternative Servicesde</strong></p>\n<pre><code>Alt-Svc: h2=&quot;http2.example.com:443&quot;; ma=7200\n</code></pre><p><strong>Cache-Control </strong></p>\n<pre><code>Cache-Control: max-age=3600\n</code></pre><p><strong>Connection hop-by-hop</strong></p>\n<pre><code>Connection: close\n</code></pre><p><strong>Content-Disposition </strong></p>\n<pre><code>Content-Disposition: attachment; filename=&quot;fname.ext&quot;\n</code></pre><p><strong>Content-Encoding </strong></p>\n<pre><code>Content-Encoding: gzip\n</code></pre><p><strong>Content-Language </strong></p>\n<pre><code>Content-Language: en\n</code></pre><p><strong>Content-Length </strong></p>\n<pre><code>Content-Length: 348\n</code></pre><p><strong>Content-Location </strong></p>\n<pre><code>Content-Location: /index.htm\n</code></pre><p><strong>Content-MD5 MD5Base64</strong></p>\n<pre><code>Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ==\n</code></pre><p><strong>Content-Range </strong></p>\n<pre><code>Content-Range: bytes 21010-47021/47022\n</code></pre><p><strong>Content-Type MIME</strong></p>\n<pre><code>Content-Type: text/html; charset=utf-8\n</code></pre><p><strong>Date </strong></p>\n<pre><code>Date: Tue, 15 Nov 1994 08:12:31 GMT\n</code></pre><p><strong>ETag </strong></p>\n<pre><code>ETag: &quot;737060cd8c284d8af7ad3082f209582d&quot;\n</code></pre><p><strong>Expires </strong></p>\n<pre><code>Expires: Thu, 01 Dec 1994 16:00:00 GMT\n</code></pre><p><strong>Last-Modified </strong></p>\n<pre><code>Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT\n</code></pre><p><strong>Link </strong></p>\n<pre><code>Link: &lt;/feed&gt;; rel=&quot;alternate&quot;\n</code></pre><p><strong>Location </strong></p>\n<pre><code>Location: http://www.w3.org/pub/WWW/People.html\n</code></pre><p><strong>P3P P3P:CP=your_compact_policyP3P(Platform for Privacy Preferences Project)P3PP3Pcookie</strong></p>\n<pre><code>P3P: CP=&quot;This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&amp;answer=151657 for more info.&quot;\n</code></pre><p><strong>Pragma </strong></p>\n<pre><code>Pragma: no-cache\n</code></pre><p><strong>Proxy-Authenticate </strong></p>\n<pre><code>Proxy-Authenticate: Basic\n</code></pre><p><strong>Public-Key-Pins TLS</strong></p>\n<pre><code>Public-Key-Pins: max-age=2592000; pin-sha256=&quot;E9CZ9INDbd+2eRQozYqqbQ2yXLVKB9+xcprMF+44U1g=&quot;;\n</code></pre><p><strong>Refresh </strong><br><code>meta http-equiv=&quot;refresh&quot; content=&quot;5; url=http://example.com/</code> </p>\n<pre><code>Refresh: 5; url=http://www.w3.org/pub/WWW/People.html\n</code></pre><p><strong>Retry-After HTTP</strong></p>\n<pre><code>Example 1: Retry-After: 120\nExample 2: Retry-After: Fri, 07 Nov 2014 23:59:59 GMT\n</code></pre><p><strong>Server WEB</strong></p>\n<pre><code>Server: Apache/2.4.1 (Unix)\n</code></pre><p><strong>Set-Cookie HTTP Cookie</strong></p>\n<pre><code>Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1\n</code></pre><p><strong>Status HTTP</strong></p>\n<pre><code>Status: 200 OK\n</code></pre><p><strong>Strict-Transport-Security HSTSHTTPHTTPS</strong></p>\n<pre><code>Strict-Transport-Security: max-age=16070400; includeSubDomains\n</code></pre><p><strong>Trailer headerchunked</strong></p>\n<pre><code>Trailer: Max-Forwards\n</code></pre><p><strong>Transfer-Encoding  chunked, compress, deflate, gzip, identity</strong></p>\n<pre><code>Transfer-Encoding: chunked\n</code></pre><p><strong>TSV Tracking Status ValueDNT(do-not-track),</strong></p>\n<pre><code>&quot;!&quot;  under construction\n&quot;?&quot;  dynamic\n&quot;G&quot;  gateway to multiple parties\n&quot;N&quot;  not tracking\n&quot;T&quot;  tracking\n&quot;C&quot;  tracking with consent\n&quot;P&quot;  tracking only if consented\n&quot;D&quot;  disregarding DNT\n&quot;U&quot;  updated\n\nTSV: ?\n</code></pre><p><strong>Upgrade </strong></p>\n<pre><code>Upgrade: HTTP/2.0, HTTPS/1.3, IRC/6.9, RTA/x11, websocket\n</code></pre><p><strong>Vary </strong></p>\n<pre><code>Example 1: Vary: *\nExample 2: Vary: Accept-Language\n</code></pre><p><strong>Via </strong></p>\n<pre><code>Via: cache46.l2cn1341[84,206-0,H], cache38.l2c0c801[91,0], kunlun6.cn536[172,304-0,H], kunlun7.cn196[174,0]\n</code></pre><p><strong>x-cache HITMISS</strong></p>\n<pre><code>x-cache: HIT TCP_IMS_HIT dirn:-2:-2\n</code></pre><p><strong>Warning </strong></p>\n<pre><code>Warning: 199 Miscellaneous warning\n</code></pre><p><strong>WWW-Authenticate </strong></p>\n<pre><code>WWW-Authenticate: Basic\n</code></pre><p><strong>X-Frame-Options </strong></p>\n<pre><code>deny frame\nsameorigin \nallow-from \nallowall \n\nX-Frame-Options: deny\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>X-XSS-Protection </strong></p>\n<pre><code>X-XSS-Protection: 1; mode=block\n</code></pre><p><strong>Content-Security-Policy, X-Content-Security-Policy,X-WebKit-CSP </strong></p>\n<pre><code>X-WebKit-CSP: default-src &apos;self&apos;\n</code></pre><p><strong>X-Content-Type-Options ,IEMIME</strong></p>\n<pre><code>X-Content-Type-Options: nosniff\n</code></pre><p><strong>X-Powered-By web</strong></p>\n<pre><code>X-Powered-By: PHP/5.4.0\n</code></pre><p><strong>X-UA-Compatible IEchrome</strong><br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;chrome=1&quot; /&gt;</code> </p>\n<pre><code>X-UA-Compatible: IE=EmulateIE7\nX-UA-Compatible: IE=edge\nX-UA-Compatible: Chrome=1\n</code></pre><p><strong>X-Content-Duration Gecko</strong></p>\n<pre><code>X-Content-Duration: 42.666\n</code></pre><p><strong>Upgrade-Insecure-Requests HTTPS</strong></p>\n<pre><code>Upgrade-Insecure-Requests: 1\n</code></pre><p><strong>X-Request-ID,X-Correlation-ID </strong></p>\n<pre><code>X-Request-ID: f058ebd6-02f7-4d3f-942e-904344e8cde5\n</code></pre><p><strong></strong></p>\n<p><img src=\"/images/pic/http-cache.png\" alt><br></p>\n<blockquote>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> ETag  If-None-Match: etag ETag(200)304<br>Etag Last-Modified cache If-Modified-Since Last-Modified  304  cache </p>\n</li>\n</ol>\n</blockquote>\n"},{"layout":"post","title":"Elastic StackX-Pack7.0","author":"Pyker","img":"/images/bar/xpack.png","top":false,"cover":false,"date":"2019-03-13T08:30:00.000Z","_content":">** elasticelastic stack 6.4.2elasticsearchX-PackX-Pack7.0.1elastic stack7.0.1X-Packelasticsearchelasticsearch7.0.1**\n\n## X-Pack\nX-packelasticsearchx-pack\n>6.2X-pack jar[](https://www.elastic.co/cn/subscriptions)\n\n## elasticsearch\nX-Pack6.4.2elasticsearchelasticsearch7.0.1\n```bash\n# elasticsearch.tar.gz\n$ mkdir /elk && cd /elk\n$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz\n\n# elasticsearch.tar.gz\n$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz\n```\nx-pack\n```bash\n# x-pack\n\n$ cd elasticsearch-7.0.1\n$ ls modules/ | grep x-pack\nx-pack-ccr\nx-pack-core\nx-pack-deprecation\nx-pack-graph\nx-pack-ilm\nx-pack-logstash\nx-pack-ml\nx-pack-monitoring\nx-pack-rollup\nx-pack-security\nx-pack-sql\nx-pack-watcher\n```\n`x-pack-core.7.0.1.jar`x-pack-core\n```bash\n$ ls /elk/elasticsearch-7.0.1/modules/x-pack-core | grep x-pack\nx-pack-core-7.0.1.jar \n```\n## Luyten\nX-Pack-core-7.0.1.jarLuyten[](https://github.com/deathmarine/Luyten/releases)Luyten\nLuyten.exe windows`x-pack-core.7.0.1.jar`jar\n\n## X-Pack\nLuyten2`org.elasticsearch.license.LicenseVerifier``org.elasticsearch.xpack.core.XPackBuild`\n### LicenseVerifier.java\n`LicenseVerifier`true.\n```java\n/*,*/\n\npackage org.elasticsearch.license;\n\nimport java.nio.*;\nimport org.elasticsearch.common.bytes.*;\nimport java.security.*;\nimport java.util.*;\nimport org.elasticsearch.common.xcontent.*;\nimport org.apache.lucene.util.*;\nimport org.elasticsearch.core.internal.io.*;\nimport java.io.*;\n\npublic class LicenseVerifier\n{\n    public static boolean verifyLicense(final License license, final byte[] publicKeyData) {\n /*       \n        byte[] signedContent = null;\n        byte[] publicKeyFingerprint = null;\n        try {\n            final byte[] signatureBytes = Base64.getDecoder().decode(license.signature());\n            final ByteBuffer byteBuffer = ByteBuffer.wrap(signatureBytes);\n            final int version = byteBuffer.getInt();\n            final int magicLen = byteBuffer.getInt();\n            final byte[] magic = new byte[magicLen];\n            byteBuffer.get(magic);\n            final int hashLen = byteBuffer.getInt();\n            publicKeyFingerprint = new byte[hashLen];\n            byteBuffer.get(publicKeyFingerprint);\n            final int signedContentLen = byteBuffer.getInt();\n            signedContent = new byte[signedContentLen];\n            byteBuffer.get(signedContent);\n            final XContentBuilder contentBuilder = XContentFactory.contentBuilder(XContentType.JSON);\n            license.toXContent(contentBuilder, (ToXContent.Params)new ToXContent.MapParams((Map)Collections.singletonMap(\"license_spec_view\", \"true\")));\n            final Signature rsa = Signature.getInstance(\"SHA512withRSA\");\n            rsa.initVerify(CryptUtils.readPublicKey(publicKeyData));\n            final BytesRefIterator iterator = BytesReference.bytes(contentBuilder).iterator();\n            BytesRef ref;\n            while ((ref = iterator.next()) != null) {\n                rsa.update(ref.bytes, ref.offset, ref.length);\n            }\n            return rsa.verify(signedContent);\n        }\n        catch (IOException ex) {}\n        catch (NoSuchAlgorithmException ex2) {}\n        catch (SignatureException ex3) {}\n        catch (InvalidKeyException e) {\n            throw new IllegalStateException(e);\n        }\n        finally {\n            if (signedContent != null) {\n                Arrays.fill(signedContent, (byte)0);\n            }\n        }\n*/\n        return true;\n    }\n    \n    public static boolean verifyLicense(final License license) {\n        /*\n        byte[] publicKeyBytes;\n        try {\n            final InputStream is = LicenseVerifier.class.getResourceAsStream(\"/public.key\");\n            try {\n                final ByteArrayOutputStream out = new ByteArrayOutputStream();\n                Streams.copy(is, (OutputStream)out);\n                publicKeyBytes = out.toByteArray();\n                if (is != null) {\n                    is.close();\n                }\n            }\n            catch (Throwable t) {\n                if (is != null) {\n                    try {\n                        is.close();\n                    }\n                    catch (Throwable t2) {\n                        t.addSuppressed(t2);\n                    }\n                }\n                throw t;\n            }\n        }\n        catch (IOException ex) {\n            throw new IllegalStateException(ex);\n        }\n        //return verifyLicense(license, publicKeyBytes);\n        */\n        return true;\n    }\n}\n\n```\n### XPackBuild.java\n`XPackBuild` tryjar.\n```java\n/*,*/\n\npackage org.elasticsearch.xpack.core;\n\nimport org.elasticsearch.common.io.*;\nimport java.net.*;\nimport org.elasticsearch.common.*;\nimport java.nio.file.*;\nimport java.io.*;\nimport java.util.jar.*;\n\npublic class XPackBuild\n{\n    public static final XPackBuild CURRENT;\n    private String shortHash;\n    private String date;\n    \n    @SuppressForbidden(reason = \"looks up path of xpack.jar directly\")\n    static Path getElasticsearchCodebase() {\n        final URL url = XPackBuild.class.getProtectionDomain().getCodeSource().getLocation();\n        try {\n            return PathUtils.get(url.toURI());\n        }\n        catch (URISyntaxException bogus) {\n            throw new RuntimeException(bogus);\n        }\n    }\n    \n    XPackBuild(final String shortHash, final String date) {\n        this.shortHash = shortHash;\n        this.date = date;\n    }\n    \n    public String shortHash() {\n        return this.shortHash;\n    }\n    \n    public String date() {\n        return this.date;\n    }\n    \n    static {\n        final Path path = getElasticsearchCodebase();\n        String shortHash = null;\n        String date = null;\n        Label_0109: {\n/*            if (path.toString().endsWith(\".jar\")) {\n                try {\n                    final JarInputStream jar = new JarInputStream(Files.newInputStream(path, new OpenOption[0]));\n                    try {\n                        final Manifest manifest = jar.getManifest();\n                        shortHash = manifest.getMainAttributes().getValue(\"Change\");\n                        date = manifest.getMainAttributes().getValue(\"Build-Date\");\n                        jar.close();\n                    }\n                    catch (Throwable t) {\n                        try {\n                            jar.close();\n                        }\n                        catch (Throwable t2) {\n                            t.addSuppressed(t2);\n                        }\n                        throw t;\n                    }\n                    break Label_0109;\n                }\n                catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n*/\n            shortHash = \"Unknown\";\n            date = \"Unknown\";\n        }\n        CURRENT = new XPackBuild(shortHash, date);\n    }\n}\n\n\n```\n## .class\n`LicenseVerifier.java``XPackBuild.java`windowselasticsearchclassx-pack-core-7.0.1.jar2/root\n```bash\n# LicenseVerifier.java\n$ javac -cp \"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\" /root/LicenseVerifier.java\n\n# XPackBuild.java\n$ javac -cp \"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\" /root/XPackBuild.java\n\n# \n$ ls /root | grep .class\nLicenseVerifier.class\nXPackBuild.class\n```\n\n## LicenseVerifier.classXPackBuild.class\n`/elk/elasticsearch-7.0.1/modules/x-pack-core``x-pack-core-7.0.1.jar``/elk/x-pack`\n```bash\n$ cp /elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar /elk/x-pack\n$ cd /elk/x-pack\n# x-pack-core-7.0.1.jar\n$ jar -xvf x-pack-core-7.0.1.jar\n\n# .class\n$ cp /root/XPackBuild.class /elk/x-pack/org/elasticsearch/xpack/core/\n$ cp /root/LicenseVerifier.class /elk/x-pack/org/elasticsearch/license/\n```\n## x-pack-core-7.0.1.jar\n```bash\n$ cd /elk/x-pack\n$ rm -rf x-pack-core-7.0.1.jar   # \n$ jar cvf x-pack-core-7.0.1.jar .\n```\n/elk/x-pack`x-pack-core-7.0.1.jar`\n\n## x-pack-core-7.0.1.jar\nx-pack-core-7.0.1.jarx-pack-core-7.0.1.jar\n```bash\ncp /elk/x-pack/x-pack-core-7.0.1.jar /elk/elasticsearch-7.0.1/modules/x-pack-core/\nrm -rf /elk/x-pack  # \n``` \n## License\nelasticlicense, [License](https://license.elastic.co/registration)LicensejsonLicense`type``expiry_date_in_millis``max_nodes``platinum``2524579200999``1000`\n```json\n{\"license\":\n    {\n        \"uid\":\"537c5c48-c1dd-43ea-ab69-68d209d80c32\",\n        \"type\":\"platinum\",\n        \"issue_date_in_millis\":1558051200000,\n        \"expiry_date_in_millis\":2524579200999,\n        \"max_nodes\":1000,\n        \"issued_to\":\"pyker\",\n        \"issuer\":\"Web Form\",\n        \"signature\":\"AAAAAwAAAA3fIq7NLN3Blk2olVjbAAABmC9ZN0hjZDBGYnVyRXpCOW5Bb3FjZDAxOWpSbTVoMVZwUzRxVk1PSmkxaktJRVl5MUYvUWh3bHZVUTllbXNPbzBUemtnbWpBbmlWRmRZb25KNFlBR2x0TXc2K2p1Y1VtMG1UQU9TRGZVSGRwaEJGUjE3bXd3LzRqZ05iLzRteWFNekdxRGpIYlFwYkJiNUs0U1hTVlJKNVlXekMrSlVUdFIvV0FNeWdOYnlESDc3MWhlY3hSQmdKSjJ2ZTcvYlBFOHhPQlV3ZHdDQ0tHcG5uOElCaDJ4K1hob29xSG85N0kvTWV3THhlQk9NL01VMFRjNDZpZEVXeUtUMXIyMlIveFpJUkk2WUdveEZaME9XWitGUi9WNTZVQW1FMG1DenhZU0ZmeXlZakVEMjZFT2NvOWxpZGlqVmlHNC8rWVVUYzMwRGVySHpIdURzKzFiRDl4TmM1TUp2VTBOUlJZUlAyV0ZVL2kvVk10L0NsbXNFYVZwT3NSU082dFNNa2prQ0ZsclZ4NTltbU1CVE5lR09Bck93V2J1Y3c9PQAAAQCjNd8mwy8B1sm9rGrgTmN2Gjm/lxqfnTEpTc+HOEmAgwQ7Q1Ye/FSGVNIU/enZ5cqSzWS2mY8oZ7FM/7UPKVQ4hkarWn2qye964MW+cux54h7dqxlSB19fG0ZJOJZxxwVxxi8iyJPUSQBa+QN8m7TFkK2kVmP+HnhU7mGUrqXt3zTk5d3pZw3QBQ/Rr3wmSYC5pxV6/o2UHFgu1OPDcX+kEb+UZtMrVNneR+cEwyx7o5Bg3rbKC014T+lMtt69Y080JDI5KfHa7e9Ul0c3rozIL975fP45dU175D4PKZy98cvHJgtsCJF3K8XUZKo2lOcbsWzhK2mZ5kFp0BMXF3Hs\",\n        \"start_date_in_millis\":1558051200000\n    }\n}\n```\n2050typeplatinum x-pack\n## elasticsearch\nelasticsearchelasticsearchSSL/TLS,securityLicenseLicensesecuritySSL\\TLS\n```bash\n# Licenseelasticsearch\n$ echo \"xpack.security.enabled: false\" >> /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ ./bin/elasticsearch -d   # elasticsearch\n\n# Licenseelasticsearch\n$ echo \"xpack.security.transport.ssl.enabled: true\" >> /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ sed -i 's/xpack.security.enabled: false/xpack.security.enabled: true/g' /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ kill -9 13023 && ./bin/elasticsearch -d   # elasticsearch\n```\n## Licenseelasticsearch\n```bash\n$ curl -XPUT -u elastic 'http://192.168.20.210:9200/_xpack/license' -H \"Content-Type: application/json\" -d @license.json\nEnter host password for user 'elastic':           # elastic\n{\"acknowledged\":true,\"license_status\":\"valid\"}    # license\n```\n## License\n```bash\n$ curl -XGET -u elastic:tWbWZc7NE3wYqS6DvSu4 http://192.168.20.210:9200/_license\n{\n  \"license\" : {\n    \"status\" : \"active\",\n    \"uid\" : \"537c5c48-c1dd-43ea-ab69-68d209d80c32\",\n    \"type\" : \"platinum\",\n    \"issue_date\" : \"2019-05-17T00:00:00.000Z\",\n    \"issue_date_in_millis\" : 1558051200000,\n    \"expiry_date\" : \"2049-12-31T16:00:00.999Z\",\n    \"expiry_date_in_millis\" : 2524579200999,\n    \"max_nodes\" : 1000,\n    \"issued_to\" : \"pyker\",\n    \"issuer\" : \"Web Form\",\n    \"start_date_in_millis\" : 1558051200000\n  }\n}\n```\nx-pack2049-12-31kibana web``\n![](/images/pic/x-pack.png)\n\n## \n`x-pack`\n```bash\n$ ./bin/elasticsearch-setup-passwords auto\n\nInitiating the setup of passwords for reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.\nThe passwords will be randomly generated and printed to the console.\nPlease confirm that you would like to continue [y/N]y\n\nChanged password for user apm_system\nPASSWORD apm_system = 24UtJKbNI1UqHUQkKPZY\n\nChanged password for user kibana\nPASSWORD kibana = 8SSZMisIY0NZFMCS6wv9\n\nChanged password for user logstash_system\nPASSWORD logstash_system = rFhWkYzayIUZVl8VIunJ\n\nChanged password for user beats_system\nPASSWORD beats_system = U1B4O5SKrSEatqDQRsQz\n\nChanged password for user remote_monitoring_user\nPASSWORD remote_monitoring_user = zdpj7HqO02yRXZR9Bwa2\n\nChanged password for user elastic\nPASSWORD elastic = tWbWZc7NE3wYqS6DvSu4\n```","source":"_posts/elastic-x-pack.md","raw":"layout: post\ntitle: Elastic StackX-Pack7.0\nauthor: Pyker\ncategories: elastic\nimg: /images/bar/xpack.png\ntags:\n  - x-pack\ntop: false\ncover: false\ndate: 2019-03-13 16:30:00\n---\n>** elasticelastic stack 6.4.2elasticsearchX-PackX-Pack7.0.1elastic stack7.0.1X-Packelasticsearchelasticsearch7.0.1**\n\n## X-Pack\nX-packelasticsearchx-pack\n>6.2X-pack jar[](https://www.elastic.co/cn/subscriptions)\n\n## elasticsearch\nX-Pack6.4.2elasticsearchelasticsearch7.0.1\n```bash\n# elasticsearch.tar.gz\n$ mkdir /elk && cd /elk\n$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz\n\n# elasticsearch.tar.gz\n$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz\n```\nx-pack\n```bash\n# x-pack\n\n$ cd elasticsearch-7.0.1\n$ ls modules/ | grep x-pack\nx-pack-ccr\nx-pack-core\nx-pack-deprecation\nx-pack-graph\nx-pack-ilm\nx-pack-logstash\nx-pack-ml\nx-pack-monitoring\nx-pack-rollup\nx-pack-security\nx-pack-sql\nx-pack-watcher\n```\n`x-pack-core.7.0.1.jar`x-pack-core\n```bash\n$ ls /elk/elasticsearch-7.0.1/modules/x-pack-core | grep x-pack\nx-pack-core-7.0.1.jar \n```\n## Luyten\nX-Pack-core-7.0.1.jarLuyten[](https://github.com/deathmarine/Luyten/releases)Luyten\nLuyten.exe windows`x-pack-core.7.0.1.jar`jar\n\n## X-Pack\nLuyten2`org.elasticsearch.license.LicenseVerifier``org.elasticsearch.xpack.core.XPackBuild`\n### LicenseVerifier.java\n`LicenseVerifier`true.\n```java\n/*,*/\n\npackage org.elasticsearch.license;\n\nimport java.nio.*;\nimport org.elasticsearch.common.bytes.*;\nimport java.security.*;\nimport java.util.*;\nimport org.elasticsearch.common.xcontent.*;\nimport org.apache.lucene.util.*;\nimport org.elasticsearch.core.internal.io.*;\nimport java.io.*;\n\npublic class LicenseVerifier\n{\n    public static boolean verifyLicense(final License license, final byte[] publicKeyData) {\n /*       \n        byte[] signedContent = null;\n        byte[] publicKeyFingerprint = null;\n        try {\n            final byte[] signatureBytes = Base64.getDecoder().decode(license.signature());\n            final ByteBuffer byteBuffer = ByteBuffer.wrap(signatureBytes);\n            final int version = byteBuffer.getInt();\n            final int magicLen = byteBuffer.getInt();\n            final byte[] magic = new byte[magicLen];\n            byteBuffer.get(magic);\n            final int hashLen = byteBuffer.getInt();\n            publicKeyFingerprint = new byte[hashLen];\n            byteBuffer.get(publicKeyFingerprint);\n            final int signedContentLen = byteBuffer.getInt();\n            signedContent = new byte[signedContentLen];\n            byteBuffer.get(signedContent);\n            final XContentBuilder contentBuilder = XContentFactory.contentBuilder(XContentType.JSON);\n            license.toXContent(contentBuilder, (ToXContent.Params)new ToXContent.MapParams((Map)Collections.singletonMap(\"license_spec_view\", \"true\")));\n            final Signature rsa = Signature.getInstance(\"SHA512withRSA\");\n            rsa.initVerify(CryptUtils.readPublicKey(publicKeyData));\n            final BytesRefIterator iterator = BytesReference.bytes(contentBuilder).iterator();\n            BytesRef ref;\n            while ((ref = iterator.next()) != null) {\n                rsa.update(ref.bytes, ref.offset, ref.length);\n            }\n            return rsa.verify(signedContent);\n        }\n        catch (IOException ex) {}\n        catch (NoSuchAlgorithmException ex2) {}\n        catch (SignatureException ex3) {}\n        catch (InvalidKeyException e) {\n            throw new IllegalStateException(e);\n        }\n        finally {\n            if (signedContent != null) {\n                Arrays.fill(signedContent, (byte)0);\n            }\n        }\n*/\n        return true;\n    }\n    \n    public static boolean verifyLicense(final License license) {\n        /*\n        byte[] publicKeyBytes;\n        try {\n            final InputStream is = LicenseVerifier.class.getResourceAsStream(\"/public.key\");\n            try {\n                final ByteArrayOutputStream out = new ByteArrayOutputStream();\n                Streams.copy(is, (OutputStream)out);\n                publicKeyBytes = out.toByteArray();\n                if (is != null) {\n                    is.close();\n                }\n            }\n            catch (Throwable t) {\n                if (is != null) {\n                    try {\n                        is.close();\n                    }\n                    catch (Throwable t2) {\n                        t.addSuppressed(t2);\n                    }\n                }\n                throw t;\n            }\n        }\n        catch (IOException ex) {\n            throw new IllegalStateException(ex);\n        }\n        //return verifyLicense(license, publicKeyBytes);\n        */\n        return true;\n    }\n}\n\n```\n### XPackBuild.java\n`XPackBuild` tryjar.\n```java\n/*,*/\n\npackage org.elasticsearch.xpack.core;\n\nimport org.elasticsearch.common.io.*;\nimport java.net.*;\nimport org.elasticsearch.common.*;\nimport java.nio.file.*;\nimport java.io.*;\nimport java.util.jar.*;\n\npublic class XPackBuild\n{\n    public static final XPackBuild CURRENT;\n    private String shortHash;\n    private String date;\n    \n    @SuppressForbidden(reason = \"looks up path of xpack.jar directly\")\n    static Path getElasticsearchCodebase() {\n        final URL url = XPackBuild.class.getProtectionDomain().getCodeSource().getLocation();\n        try {\n            return PathUtils.get(url.toURI());\n        }\n        catch (URISyntaxException bogus) {\n            throw new RuntimeException(bogus);\n        }\n    }\n    \n    XPackBuild(final String shortHash, final String date) {\n        this.shortHash = shortHash;\n        this.date = date;\n    }\n    \n    public String shortHash() {\n        return this.shortHash;\n    }\n    \n    public String date() {\n        return this.date;\n    }\n    \n    static {\n        final Path path = getElasticsearchCodebase();\n        String shortHash = null;\n        String date = null;\n        Label_0109: {\n/*            if (path.toString().endsWith(\".jar\")) {\n                try {\n                    final JarInputStream jar = new JarInputStream(Files.newInputStream(path, new OpenOption[0]));\n                    try {\n                        final Manifest manifest = jar.getManifest();\n                        shortHash = manifest.getMainAttributes().getValue(\"Change\");\n                        date = manifest.getMainAttributes().getValue(\"Build-Date\");\n                        jar.close();\n                    }\n                    catch (Throwable t) {\n                        try {\n                            jar.close();\n                        }\n                        catch (Throwable t2) {\n                            t.addSuppressed(t2);\n                        }\n                        throw t;\n                    }\n                    break Label_0109;\n                }\n                catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n*/\n            shortHash = \"Unknown\";\n            date = \"Unknown\";\n        }\n        CURRENT = new XPackBuild(shortHash, date);\n    }\n}\n\n\n```\n## .class\n`LicenseVerifier.java``XPackBuild.java`windowselasticsearchclassx-pack-core-7.0.1.jar2/root\n```bash\n# LicenseVerifier.java\n$ javac -cp \"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\" /root/LicenseVerifier.java\n\n# XPackBuild.java\n$ javac -cp \"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\" /root/XPackBuild.java\n\n# \n$ ls /root | grep .class\nLicenseVerifier.class\nXPackBuild.class\n```\n\n## LicenseVerifier.classXPackBuild.class\n`/elk/elasticsearch-7.0.1/modules/x-pack-core``x-pack-core-7.0.1.jar``/elk/x-pack`\n```bash\n$ cp /elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar /elk/x-pack\n$ cd /elk/x-pack\n# x-pack-core-7.0.1.jar\n$ jar -xvf x-pack-core-7.0.1.jar\n\n# .class\n$ cp /root/XPackBuild.class /elk/x-pack/org/elasticsearch/xpack/core/\n$ cp /root/LicenseVerifier.class /elk/x-pack/org/elasticsearch/license/\n```\n## x-pack-core-7.0.1.jar\n```bash\n$ cd /elk/x-pack\n$ rm -rf x-pack-core-7.0.1.jar   # \n$ jar cvf x-pack-core-7.0.1.jar .\n```\n/elk/x-pack`x-pack-core-7.0.1.jar`\n\n## x-pack-core-7.0.1.jar\nx-pack-core-7.0.1.jarx-pack-core-7.0.1.jar\n```bash\ncp /elk/x-pack/x-pack-core-7.0.1.jar /elk/elasticsearch-7.0.1/modules/x-pack-core/\nrm -rf /elk/x-pack  # \n``` \n## License\nelasticlicense, [License](https://license.elastic.co/registration)LicensejsonLicense`type``expiry_date_in_millis``max_nodes``platinum``2524579200999``1000`\n```json\n{\"license\":\n    {\n        \"uid\":\"537c5c48-c1dd-43ea-ab69-68d209d80c32\",\n        \"type\":\"platinum\",\n        \"issue_date_in_millis\":1558051200000,\n        \"expiry_date_in_millis\":2524579200999,\n        \"max_nodes\":1000,\n        \"issued_to\":\"pyker\",\n        \"issuer\":\"Web Form\",\n        \"signature\":\"AAAAAwAAAA3fIq7NLN3Blk2olVjbAAABmC9ZN0hjZDBGYnVyRXpCOW5Bb3FjZDAxOWpSbTVoMVZwUzRxVk1PSmkxaktJRVl5MUYvUWh3bHZVUTllbXNPbzBUemtnbWpBbmlWRmRZb25KNFlBR2x0TXc2K2p1Y1VtMG1UQU9TRGZVSGRwaEJGUjE3bXd3LzRqZ05iLzRteWFNekdxRGpIYlFwYkJiNUs0U1hTVlJKNVlXekMrSlVUdFIvV0FNeWdOYnlESDc3MWhlY3hSQmdKSjJ2ZTcvYlBFOHhPQlV3ZHdDQ0tHcG5uOElCaDJ4K1hob29xSG85N0kvTWV3THhlQk9NL01VMFRjNDZpZEVXeUtUMXIyMlIveFpJUkk2WUdveEZaME9XWitGUi9WNTZVQW1FMG1DenhZU0ZmeXlZakVEMjZFT2NvOWxpZGlqVmlHNC8rWVVUYzMwRGVySHpIdURzKzFiRDl4TmM1TUp2VTBOUlJZUlAyV0ZVL2kvVk10L0NsbXNFYVZwT3NSU082dFNNa2prQ0ZsclZ4NTltbU1CVE5lR09Bck93V2J1Y3c9PQAAAQCjNd8mwy8B1sm9rGrgTmN2Gjm/lxqfnTEpTc+HOEmAgwQ7Q1Ye/FSGVNIU/enZ5cqSzWS2mY8oZ7FM/7UPKVQ4hkarWn2qye964MW+cux54h7dqxlSB19fG0ZJOJZxxwVxxi8iyJPUSQBa+QN8m7TFkK2kVmP+HnhU7mGUrqXt3zTk5d3pZw3QBQ/Rr3wmSYC5pxV6/o2UHFgu1OPDcX+kEb+UZtMrVNneR+cEwyx7o5Bg3rbKC014T+lMtt69Y080JDI5KfHa7e9Ul0c3rozIL975fP45dU175D4PKZy98cvHJgtsCJF3K8XUZKo2lOcbsWzhK2mZ5kFp0BMXF3Hs\",\n        \"start_date_in_millis\":1558051200000\n    }\n}\n```\n2050typeplatinum x-pack\n## elasticsearch\nelasticsearchelasticsearchSSL/TLS,securityLicenseLicensesecuritySSL\\TLS\n```bash\n# Licenseelasticsearch\n$ echo \"xpack.security.enabled: false\" >> /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ ./bin/elasticsearch -d   # elasticsearch\n\n# Licenseelasticsearch\n$ echo \"xpack.security.transport.ssl.enabled: true\" >> /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ sed -i 's/xpack.security.enabled: false/xpack.security.enabled: true/g' /elk/elasticsearch-7.0.1/config/elasticsearch.yml\n$ kill -9 13023 && ./bin/elasticsearch -d   # elasticsearch\n```\n## Licenseelasticsearch\n```bash\n$ curl -XPUT -u elastic 'http://192.168.20.210:9200/_xpack/license' -H \"Content-Type: application/json\" -d @license.json\nEnter host password for user 'elastic':           # elastic\n{\"acknowledged\":true,\"license_status\":\"valid\"}    # license\n```\n## License\n```bash\n$ curl -XGET -u elastic:tWbWZc7NE3wYqS6DvSu4 http://192.168.20.210:9200/_license\n{\n  \"license\" : {\n    \"status\" : \"active\",\n    \"uid\" : \"537c5c48-c1dd-43ea-ab69-68d209d80c32\",\n    \"type\" : \"platinum\",\n    \"issue_date\" : \"2019-05-17T00:00:00.000Z\",\n    \"issue_date_in_millis\" : 1558051200000,\n    \"expiry_date\" : \"2049-12-31T16:00:00.999Z\",\n    \"expiry_date_in_millis\" : 2524579200999,\n    \"max_nodes\" : 1000,\n    \"issued_to\" : \"pyker\",\n    \"issuer\" : \"Web Form\",\n    \"start_date_in_millis\" : 1558051200000\n  }\n}\n```\nx-pack2049-12-31kibana web``\n![](/images/pic/x-pack.png)\n\n## \n`x-pack`\n```bash\n$ ./bin/elasticsearch-setup-passwords auto\n\nInitiating the setup of passwords for reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.\nThe passwords will be randomly generated and printed to the console.\nPlease confirm that you would like to continue [y/N]y\n\nChanged password for user apm_system\nPASSWORD apm_system = 24UtJKbNI1UqHUQkKPZY\n\nChanged password for user kibana\nPASSWORD kibana = 8SSZMisIY0NZFMCS6wv9\n\nChanged password for user logstash_system\nPASSWORD logstash_system = rFhWkYzayIUZVl8VIunJ\n\nChanged password for user beats_system\nPASSWORD beats_system = U1B4O5SKrSEatqDQRsQz\n\nChanged password for user remote_monitoring_user\nPASSWORD remote_monitoring_user = zdpj7HqO02yRXZR9Bwa2\n\nChanged password for user elastic\nPASSWORD elastic = tWbWZc7NE3wYqS6DvSu4\n```","slug":"elastic-x-pack","published":1,"updated":"2019-05-23T18:39:19.861Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0l002ap4n7m0pm300j","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><blockquote>\n<p><strong> elasticelastic stack 6.4.2elasticsearchX-PackX-Pack7.0.1elastic stack7.0.1X-Packelasticsearchelasticsearch7.0.1</strong></p>\n</blockquote>\n<h2 id=\"X-Pack\"><a href=\"#X-Pack\" class=\"headerlink\" title=\"X-Pack\"></a>X-Pack</h2><p>X-packelasticsearchx-pack</p>\n<blockquote>\n<p>6.2X-pack jar<a href=\"https://www.elastic.co/cn/subscriptions\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p>X-Pack6.4.2elasticsearchelasticsearch7.0.1<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elasticsearch.tar.gz</span></span><br><span class=\"line\">$ mkdir /elk &amp;&amp; <span class=\"built_in\">cd</span> /elk</span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># elasticsearch.tar.gz</span></span><br><span class=\"line\">$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>x-pack<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># x-pack</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> elasticsearch-7.0.1</span><br><span class=\"line\">$ ls modules/ | grep x-pack</span><br><span class=\"line\">x-pack-ccr</span><br><span class=\"line\">x-pack-core</span><br><span class=\"line\">x-pack-deprecation</span><br><span class=\"line\">x-pack-graph</span><br><span class=\"line\">x-pack-ilm</span><br><span class=\"line\">x-pack-logstash</span><br><span class=\"line\">x-pack-ml</span><br><span class=\"line\">x-pack-monitoring</span><br><span class=\"line\">x-pack-rollup</span><br><span class=\"line\">x-pack-security</span><br><span class=\"line\">x-pack-sql</span><br><span class=\"line\">x-pack-watcher</span><br></pre></td></tr></table></figure></p>\n<p><code>x-pack-core.7.0.1.jar</code>x-pack-core<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls /elk/elasticsearch-7.0.1/modules/x-pack-core | grep x-pack</span><br><span class=\"line\">x-pack-core-7.0.1.jar</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Luyten\"><a href=\"#Luyten\" class=\"headerlink\" title=\"Luyten\"></a>Luyten</h2><p>X-Pack-core-7.0.1.jarLuyten<a href=\"https://github.com/deathmarine/Luyten/releases\" target=\"_blank\" rel=\"noopener\"></a>Luyten<br>Luyten.exe windows<code>x-pack-core.7.0.1.jar</code>jar</p>\n<h2 id=\"X-Pack\"><a href=\"#X-Pack\" class=\"headerlink\" title=\"X-Pack\"></a>X-Pack</h2><p>Luyten2<code>org.elasticsearch.license.LicenseVerifier</code><code>org.elasticsearch.xpack.core.XPackBuild</code></p>\n<h3 id=\"LicenseVerifier-java\"><a href=\"#LicenseVerifier-java\" class=\"headerlink\" title=\"LicenseVerifier.java\"></a>LicenseVerifier.java</h3><p><code>LicenseVerifier</code>true.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*,*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> org.elasticsearch.license;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.nio.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.bytes.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.security.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.xcontent.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.lucene.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.core.internal.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LicenseVerifier</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">verifyLicense</span><span class=\"params\">(<span class=\"keyword\">final</span> License license, <span class=\"keyword\">final</span> <span class=\"keyword\">byte</span>[] publicKeyData)</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"comment\">/*       </span></span><br><span class=\"line\"><span class=\"comment\">        byte[] signedContent = null;</span></span><br><span class=\"line\"><span class=\"comment\">        byte[] publicKeyFingerprint = null;</span></span><br><span class=\"line\"><span class=\"comment\">        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            final byte[] signatureBytes = Base64.getDecoder().decode(license.signature());</span></span><br><span class=\"line\"><span class=\"comment\">            final ByteBuffer byteBuffer = ByteBuffer.wrap(signatureBytes);</span></span><br><span class=\"line\"><span class=\"comment\">            final int version = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            final int magicLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            final byte[] magic = new byte[magicLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(magic);</span></span><br><span class=\"line\"><span class=\"comment\">            final int hashLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            publicKeyFingerprint = new byte[hashLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(publicKeyFingerprint);</span></span><br><span class=\"line\"><span class=\"comment\">            final int signedContentLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            signedContent = new byte[signedContentLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(signedContent);</span></span><br><span class=\"line\"><span class=\"comment\">            final XContentBuilder contentBuilder = XContentFactory.contentBuilder(XContentType.JSON);</span></span><br><span class=\"line\"><span class=\"comment\">            license.toXContent(contentBuilder, (ToXContent.Params)new ToXContent.MapParams((Map)Collections.singletonMap(\"license_spec_view\", \"true\")));</span></span><br><span class=\"line\"><span class=\"comment\">            final Signature rsa = Signature.getInstance(\"SHA512withRSA\");</span></span><br><span class=\"line\"><span class=\"comment\">            rsa.initVerify(CryptUtils.readPublicKey(publicKeyData));</span></span><br><span class=\"line\"><span class=\"comment\">            final BytesRefIterator iterator = BytesReference.bytes(contentBuilder).iterator();</span></span><br><span class=\"line\"><span class=\"comment\">            BytesRef ref;</span></span><br><span class=\"line\"><span class=\"comment\">            while ((ref = iterator.next()) != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                rsa.update(ref.bytes, ref.offset, ref.length);</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            return rsa.verify(signedContent);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (IOException ex) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (NoSuchAlgorithmException ex2) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (SignatureException ex3) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (InvalidKeyException e) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            throw new IllegalStateException(e);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        finally &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            if (signedContent != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                Arrays.fill(signedContent, (byte)0);</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">verifyLicense</span><span class=\"params\">(<span class=\"keyword\">final</span> License license)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        byte[] publicKeyBytes;</span></span><br><span class=\"line\"><span class=\"comment\">        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            final InputStream is = LicenseVerifier.class.getResourceAsStream(\"/public.key\");</span></span><br><span class=\"line\"><span class=\"comment\">            try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                final ByteArrayOutputStream out = new ByteArrayOutputStream();</span></span><br><span class=\"line\"><span class=\"comment\">                Streams.copy(is, (OutputStream)out);</span></span><br><span class=\"line\"><span class=\"comment\">                publicKeyBytes = out.toByteArray();</span></span><br><span class=\"line\"><span class=\"comment\">                if (is != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    is.close();</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            catch (Throwable t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                if (is != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        is.close();</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    catch (Throwable t2) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        t.addSuppressed(t2);</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                throw t;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (IOException ex) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            throw new IllegalStateException(ex);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        //return verifyLicense(license, publicKeyBytes);</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"XPackBuild-java\"><a href=\"#XPackBuild-java\" class=\"headerlink\" title=\"XPackBuild.java\"></a>XPackBuild.java</h3><p><code>XPackBuild</code> tryjar.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*,*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> org.elasticsearch.xpack.core;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.nio.file.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.jar.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XPackBuild</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> XPackBuild CURRENT;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String shortHash;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String date;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@SuppressForbidden</span>(reason = <span class=\"string\">\"looks up path of xpack.jar directly\"</span>)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> Path <span class=\"title\">getElasticsearchCodebase</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> URL url = XPackBuild.class.getProtectionDomain().getCodeSource().getLocation();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> PathUtils.get(url.toURI());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (URISyntaxException bogus) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(bogus);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    XPackBuild(<span class=\"keyword\">final</span> String shortHash, <span class=\"keyword\">final</span> String date) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.shortHash = shortHash;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.date = date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">shortHash</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.shortHash;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">date</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> Path path = getElasticsearchCodebase();</span><br><span class=\"line\">        String shortHash = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        String date = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        Label_0109: &#123;</span><br><span class=\"line\"><span class=\"comment\">/*            if (path.toString().endsWith(\".jar\")) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    final JarInputStream jar = new JarInputStream(Files.newInputStream(path, new OpenOption[0]));</span></span><br><span class=\"line\"><span class=\"comment\">                    try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        final Manifest manifest = jar.getManifest();</span></span><br><span class=\"line\"><span class=\"comment\">                        shortHash = manifest.getMainAttributes().getValue(\"Change\");</span></span><br><span class=\"line\"><span class=\"comment\">                        date = manifest.getMainAttributes().getValue(\"Build-Date\");</span></span><br><span class=\"line\"><span class=\"comment\">                        jar.close();</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    catch (Throwable t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                            jar.close();</span></span><br><span class=\"line\"><span class=\"comment\">                        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                        catch (Throwable t2) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                            t.addSuppressed(t2);</span></span><br><span class=\"line\"><span class=\"comment\">                        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                        throw t;</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    break Label_0109;</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                catch (IOException e) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    throw new RuntimeException(e);</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">            shortHash = <span class=\"string\">\"Unknown\"</span>;</span><br><span class=\"line\">            date = <span class=\"string\">\"Unknown\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        CURRENT = <span class=\"keyword\">new</span> XPackBuild(shortHash, date);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"-class\"><a href=\"#-class\" class=\"headerlink\" title=\".class\"></a>.class</h2><p><code>LicenseVerifier.java</code><code>XPackBuild.java</code>windowselasticsearchclassx-pack-core-7.0.1.jar2/root<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># LicenseVerifier.java</span></span><br><span class=\"line\">$ javac -cp <span class=\"string\">\"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\"</span> /root/LicenseVerifier.java</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># XPackBuild.java</span></span><br><span class=\"line\">$ javac -cp <span class=\"string\">\"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\"</span> /root/XPackBuild.java</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ ls /root | grep .class</span><br><span class=\"line\">LicenseVerifier.class</span><br><span class=\"line\">XPackBuild.class</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"LicenseVerifier-classXPackBuild-class\"><a href=\"#LicenseVerifier-classXPackBuild-class\" class=\"headerlink\" title=\"LicenseVerifier.classXPackBuild.class\"></a>LicenseVerifier.classXPackBuild.class</h2><p><code>/elk/elasticsearch-7.0.1/modules/x-pack-core</code><code>x-pack-core-7.0.1.jar</code><code>/elk/x-pack</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cp /elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar /elk/x-pack</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /elk/x-pack</span><br><span class=\"line\"><span class=\"comment\"># x-pack-core-7.0.1.jar</span></span><br><span class=\"line\">$ jar -xvf x-pack-core-7.0.1.jar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .class</span></span><br><span class=\"line\">$ cp /root/XPackBuild.class /elk/x-pack/org/elasticsearch/xpack/core/</span><br><span class=\"line\">$ cp /root/LicenseVerifier.class /elk/x-pack/org/elasticsearch/license/</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"x-pack-core-7-0-1-jar\"><a href=\"#x-pack-core-7-0-1-jar\" class=\"headerlink\" title=\"x-pack-core-7.0.1.jar\"></a>x-pack-core-7.0.1.jar</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /elk/x-pack</span><br><span class=\"line\">$ rm -rf x-pack-core-7.0.1.jar   <span class=\"comment\"># </span></span><br><span class=\"line\">$ jar cvf x-pack-core-7.0.1.jar .</span><br></pre></td></tr></table></figure>\n<p>/elk/x-pack<code>x-pack-core-7.0.1.jar</code></p>\n<h2 id=\"x-pack-core-7-0-1-jar\"><a href=\"#x-pack-core-7-0-1-jar\" class=\"headerlink\" title=\"x-pack-core-7.0.1.jar\"></a>x-pack-core-7.0.1.jar</h2><p>x-pack-core-7.0.1.jarx-pack-core-7.0.1.jar<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /elk/x-pack/x-pack-core-7.0.1.jar /elk/elasticsearch-7.0.1/modules/x-pack-core/</span><br><span class=\"line\">rm -rf /elk/x-pack  <span class=\"comment\"># </span></span><br><span class=\"line\">``` </span><br><span class=\"line\"><span class=\"comment\">## License</span></span><br><span class=\"line\">elasticlicense, [License](https://license.elastic.co/registration)LicensejsonLicense`<span class=\"built_in\">type</span>``expiry_date_in_millis``max_nodes``platinum``2524579200999``1000`</span><br><span class=\"line\">```json</span><br><span class=\"line\">&#123;<span class=\"string\">\"license\"</span>:</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">\"uid\"</span>:<span class=\"string\">\"537c5c48-c1dd-43ea-ab69-68d209d80c32\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>:<span class=\"string\">\"platinum\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"issue_date_in_millis\"</span>:1558051200000,</span><br><span class=\"line\">        <span class=\"string\">\"expiry_date_in_millis\"</span>:2524579200999,</span><br><span class=\"line\">        <span class=\"string\">\"max_nodes\"</span>:1000,</span><br><span class=\"line\">        <span class=\"string\">\"issued_to\"</span>:<span class=\"string\">\"pyker\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"issuer\"</span>:<span class=\"string\">\"Web Form\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"signature\"</span>:<span class=\"string\">\"AAAAAwAAAA3fIq7NLN3Blk2olVjbAAABmC9ZN0hjZDBGYnVyRXpCOW5Bb3FjZDAxOWpSbTVoMVZwUzRxVk1PSmkxaktJRVl5MUYvUWh3bHZVUTllbXNPbzBUemtnbWpBbmlWRmRZb25KNFlBR2x0TXc2K2p1Y1VtMG1UQU9TRGZVSGRwaEJGUjE3bXd3LzRqZ05iLzRteWFNekdxRGpIYlFwYkJiNUs0U1hTVlJKNVlXekMrSlVUdFIvV0FNeWdOYnlESDc3MWhlY3hSQmdKSjJ2ZTcvYlBFOHhPQlV3ZHdDQ0tHcG5uOElCaDJ4K1hob29xSG85N0kvTWV3THhlQk9NL01VMFRjNDZpZEVXeUtUMXIyMlIveFpJUkk2WUdveEZaME9XWitGUi9WNTZVQW1FMG1DenhZU0ZmeXlZakVEMjZFT2NvOWxpZGlqVmlHNC8rWVVUYzMwRGVySHpIdURzKzFiRDl4TmM1TUp2VTBOUlJZUlAyV0ZVL2kvVk10L0NsbXNFYVZwT3NSU082dFNNa2prQ0ZsclZ4NTltbU1CVE5lR09Bck93V2J1Y3c9PQAAAQCjNd8mwy8B1sm9rGrgTmN2Gjm/lxqfnTEpTc+HOEmAgwQ7Q1Ye/FSGVNIU/enZ5cqSzWS2mY8oZ7FM/7UPKVQ4hkarWn2qye964MW+cux54h7dqxlSB19fG0ZJOJZxxwVxxi8iyJPUSQBa+QN8m7TFkK2kVmP+HnhU7mGUrqXt3zTk5d3pZw3QBQ/Rr3wmSYC5pxV6/o2UHFgu1OPDcX+kEb+UZtMrVNneR+cEwyx7o5Bg3rbKC014T+lMtt69Y080JDI5KfHa7e9Ul0c3rozIL975fP45dU175D4PKZy98cvHJgtsCJF3K8XUZKo2lOcbsWzhK2mZ5kFp0BMXF3Hs\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"start_date_in_millis\"</span>:1558051200000</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2050typeplatinum x-pack</p>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p>elasticsearchelasticsearchSSL/TLS,securityLicenseLicensesecuritySSL\\TLS<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Licenseelasticsearch</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"xpack.security.enabled: false\"</span> &gt;&gt; /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ ./bin/elasticsearch -d   <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Licenseelasticsearch</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"xpack.security.transport.ssl.enabled: true\"</span> &gt;&gt; /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ sed -i <span class=\"string\">'s/xpack.security.enabled: false/xpack.security.enabled: true/g'</span> /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ <span class=\"built_in\">kill</span> -9 13023 &amp;&amp; ./bin/elasticsearch -d   <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Licenseelasticsearch\"><a href=\"#Licenseelasticsearch\" class=\"headerlink\" title=\"Licenseelasticsearch\"></a>Licenseelasticsearch</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -XPUT -u elastic <span class=\"string\">'http://192.168.20.210:9200/_xpack/license'</span> -H <span class=\"string\">\"Content-Type: application/json\"</span> -d @license.json</span><br><span class=\"line\">Enter host password <span class=\"keyword\">for</span> user <span class=\"string\">'elastic'</span>:           <span class=\"comment\"># elastic</span></span><br><span class=\"line\">&#123;<span class=\"string\">\"acknowledged\"</span>:<span class=\"literal\">true</span>,<span class=\"string\">\"license_status\"</span>:<span class=\"string\">\"valid\"</span>&#125;    <span class=\"comment\"># license</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"License\"><a href=\"#License\" class=\"headerlink\" title=\"License\"></a>License</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -XGET -u elastic:tWbWZc7NE3wYqS6DvSu4 http://192.168.20.210:9200/_license</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"license\"</span> : &#123;</span><br><span class=\"line\">    <span class=\"string\">\"status\"</span> : <span class=\"string\">\"active\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"uid\"</span> : <span class=\"string\">\"537c5c48-c1dd-43ea-ab69-68d209d80c32\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"type\"</span> : <span class=\"string\">\"platinum\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issue_date\"</span> : <span class=\"string\">\"2019-05-17T00:00:00.000Z\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issue_date_in_millis\"</span> : 1558051200000,</span><br><span class=\"line\">    <span class=\"string\">\"expiry_date\"</span> : <span class=\"string\">\"2049-12-31T16:00:00.999Z\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"expiry_date_in_millis\"</span> : 2524579200999,</span><br><span class=\"line\">    <span class=\"string\">\"max_nodes\"</span> : 1000,</span><br><span class=\"line\">    <span class=\"string\">\"issued_to\"</span> : <span class=\"string\">\"pyker\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issuer\"</span> : <span class=\"string\">\"Web Form\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"start_date_in_millis\"</span> : 1558051200000</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>x-pack2049-12-31kibana web<code></code><br><img src=\"/images/pic/x-pack.png\" alt></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>x-pack</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./bin/elasticsearch-setup-passwords auto</span><br><span class=\"line\"></span><br><span class=\"line\">Initiating the setup of passwords <span class=\"keyword\">for</span> reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.</span><br><span class=\"line\">The passwords will be randomly generated and printed to the console.</span><br><span class=\"line\">Please confirm that you would like to <span class=\"built_in\">continue</span> [y/N]y</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user apm_system</span><br><span class=\"line\">PASSWORD apm_system = 24UtJKbNI1UqHUQkKPZY</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user kibana</span><br><span class=\"line\">PASSWORD kibana = 8SSZMisIY0NZFMCS6wv9</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user logstash_system</span><br><span class=\"line\">PASSWORD logstash_system = rFhWkYzayIUZVl8VIunJ</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user beats_system</span><br><span class=\"line\">PASSWORD beats_system = U1B4O5SKrSEatqDQRsQz</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user remote_monitoring_user</span><br><span class=\"line\">PASSWORD remote_monitoring_user = zdpj7HqO02yRXZR9Bwa2</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user elastic</span><br><span class=\"line\">PASSWORD elastic = tWbWZc7NE3wYqS6DvSu4</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"length":13097,"excerpt":"","more":"<blockquote>\n<p><strong> elasticelastic stack 6.4.2elasticsearchX-PackX-Pack7.0.1elastic stack7.0.1X-Packelasticsearchelasticsearch7.0.1</strong></p>\n</blockquote>\n<h2 id=\"X-Pack\"><a href=\"#X-Pack\" class=\"headerlink\" title=\"X-Pack\"></a>X-Pack</h2><p>X-packelasticsearchx-pack</p>\n<blockquote>\n<p>6.2X-pack jar<a href=\"https://www.elastic.co/cn/subscriptions\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p>X-Pack6.4.2elasticsearchelasticsearch7.0.1<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elasticsearch.tar.gz</span></span><br><span class=\"line\">$ mkdir /elk &amp;&amp; <span class=\"built_in\">cd</span> /elk</span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># elasticsearch.tar.gz</span></span><br><span class=\"line\">$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>x-pack<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># x-pack</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> elasticsearch-7.0.1</span><br><span class=\"line\">$ ls modules/ | grep x-pack</span><br><span class=\"line\">x-pack-ccr</span><br><span class=\"line\">x-pack-core</span><br><span class=\"line\">x-pack-deprecation</span><br><span class=\"line\">x-pack-graph</span><br><span class=\"line\">x-pack-ilm</span><br><span class=\"line\">x-pack-logstash</span><br><span class=\"line\">x-pack-ml</span><br><span class=\"line\">x-pack-monitoring</span><br><span class=\"line\">x-pack-rollup</span><br><span class=\"line\">x-pack-security</span><br><span class=\"line\">x-pack-sql</span><br><span class=\"line\">x-pack-watcher</span><br></pre></td></tr></table></figure></p>\n<p><code>x-pack-core.7.0.1.jar</code>x-pack-core<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls /elk/elasticsearch-7.0.1/modules/x-pack-core | grep x-pack</span><br><span class=\"line\">x-pack-core-7.0.1.jar</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Luyten\"><a href=\"#Luyten\" class=\"headerlink\" title=\"Luyten\"></a>Luyten</h2><p>X-Pack-core-7.0.1.jarLuyten<a href=\"https://github.com/deathmarine/Luyten/releases\" target=\"_blank\" rel=\"noopener\"></a>Luyten<br>Luyten.exe windows<code>x-pack-core.7.0.1.jar</code>jar</p>\n<h2 id=\"X-Pack\"><a href=\"#X-Pack\" class=\"headerlink\" title=\"X-Pack\"></a>X-Pack</h2><p>Luyten2<code>org.elasticsearch.license.LicenseVerifier</code><code>org.elasticsearch.xpack.core.XPackBuild</code></p>\n<h3 id=\"LicenseVerifier-java\"><a href=\"#LicenseVerifier-java\" class=\"headerlink\" title=\"LicenseVerifier.java\"></a>LicenseVerifier.java</h3><p><code>LicenseVerifier</code>true.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*,*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> org.elasticsearch.license;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.nio.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.bytes.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.security.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.xcontent.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.lucene.util.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.core.internal.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LicenseVerifier</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">verifyLicense</span><span class=\"params\">(<span class=\"keyword\">final</span> License license, <span class=\"keyword\">final</span> <span class=\"keyword\">byte</span>[] publicKeyData)</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"comment\">/*       </span></span><br><span class=\"line\"><span class=\"comment\">        byte[] signedContent = null;</span></span><br><span class=\"line\"><span class=\"comment\">        byte[] publicKeyFingerprint = null;</span></span><br><span class=\"line\"><span class=\"comment\">        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            final byte[] signatureBytes = Base64.getDecoder().decode(license.signature());</span></span><br><span class=\"line\"><span class=\"comment\">            final ByteBuffer byteBuffer = ByteBuffer.wrap(signatureBytes);</span></span><br><span class=\"line\"><span class=\"comment\">            final int version = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            final int magicLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            final byte[] magic = new byte[magicLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(magic);</span></span><br><span class=\"line\"><span class=\"comment\">            final int hashLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            publicKeyFingerprint = new byte[hashLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(publicKeyFingerprint);</span></span><br><span class=\"line\"><span class=\"comment\">            final int signedContentLen = byteBuffer.getInt();</span></span><br><span class=\"line\"><span class=\"comment\">            signedContent = new byte[signedContentLen];</span></span><br><span class=\"line\"><span class=\"comment\">            byteBuffer.get(signedContent);</span></span><br><span class=\"line\"><span class=\"comment\">            final XContentBuilder contentBuilder = XContentFactory.contentBuilder(XContentType.JSON);</span></span><br><span class=\"line\"><span class=\"comment\">            license.toXContent(contentBuilder, (ToXContent.Params)new ToXContent.MapParams((Map)Collections.singletonMap(\"license_spec_view\", \"true\")));</span></span><br><span class=\"line\"><span class=\"comment\">            final Signature rsa = Signature.getInstance(\"SHA512withRSA\");</span></span><br><span class=\"line\"><span class=\"comment\">            rsa.initVerify(CryptUtils.readPublicKey(publicKeyData));</span></span><br><span class=\"line\"><span class=\"comment\">            final BytesRefIterator iterator = BytesReference.bytes(contentBuilder).iterator();</span></span><br><span class=\"line\"><span class=\"comment\">            BytesRef ref;</span></span><br><span class=\"line\"><span class=\"comment\">            while ((ref = iterator.next()) != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                rsa.update(ref.bytes, ref.offset, ref.length);</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            return rsa.verify(signedContent);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (IOException ex) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (NoSuchAlgorithmException ex2) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (SignatureException ex3) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (InvalidKeyException e) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            throw new IllegalStateException(e);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        finally &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            if (signedContent != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                Arrays.fill(signedContent, (byte)0);</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">verifyLicense</span><span class=\"params\">(<span class=\"keyword\">final</span> License license)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        byte[] publicKeyBytes;</span></span><br><span class=\"line\"><span class=\"comment\">        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            final InputStream is = LicenseVerifier.class.getResourceAsStream(\"/public.key\");</span></span><br><span class=\"line\"><span class=\"comment\">            try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                final ByteArrayOutputStream out = new ByteArrayOutputStream();</span></span><br><span class=\"line\"><span class=\"comment\">                Streams.copy(is, (OutputStream)out);</span></span><br><span class=\"line\"><span class=\"comment\">                publicKeyBytes = out.toByteArray();</span></span><br><span class=\"line\"><span class=\"comment\">                if (is != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    is.close();</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            catch (Throwable t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                if (is != null) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        is.close();</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    catch (Throwable t2) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        t.addSuppressed(t2);</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                throw t;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        catch (IOException ex) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            throw new IllegalStateException(ex);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        //return verifyLicense(license, publicKeyBytes);</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"XPackBuild-java\"><a href=\"#XPackBuild-java\" class=\"headerlink\" title=\"XPackBuild.java\"></a>XPackBuild.java</h3><p><code>XPackBuild</code> tryjar.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*,*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">package</span> org.elasticsearch.xpack.core;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.elasticsearch.common.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.nio.file.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.jar.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XPackBuild</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> XPackBuild CURRENT;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String shortHash;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String date;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@SuppressForbidden</span>(reason = <span class=\"string\">\"looks up path of xpack.jar directly\"</span>)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> Path <span class=\"title\">getElasticsearchCodebase</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> URL url = XPackBuild.class.getProtectionDomain().getCodeSource().getLocation();</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> PathUtils.get(url.toURI());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (URISyntaxException bogus) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(bogus);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    XPackBuild(<span class=\"keyword\">final</span> String shortHash, <span class=\"keyword\">final</span> String date) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.shortHash = shortHash;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.date = date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">shortHash</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.shortHash;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">date</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> Path path = getElasticsearchCodebase();</span><br><span class=\"line\">        String shortHash = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        String date = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        Label_0109: &#123;</span><br><span class=\"line\"><span class=\"comment\">/*            if (path.toString().endsWith(\".jar\")) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    final JarInputStream jar = new JarInputStream(Files.newInputStream(path, new OpenOption[0]));</span></span><br><span class=\"line\"><span class=\"comment\">                    try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        final Manifest manifest = jar.getManifest();</span></span><br><span class=\"line\"><span class=\"comment\">                        shortHash = manifest.getMainAttributes().getValue(\"Change\");</span></span><br><span class=\"line\"><span class=\"comment\">                        date = manifest.getMainAttributes().getValue(\"Build-Date\");</span></span><br><span class=\"line\"><span class=\"comment\">                        jar.close();</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    catch (Throwable t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                        try &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                            jar.close();</span></span><br><span class=\"line\"><span class=\"comment\">                        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                        catch (Throwable t2) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                            t.addSuppressed(t2);</span></span><br><span class=\"line\"><span class=\"comment\">                        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                        throw t;</span></span><br><span class=\"line\"><span class=\"comment\">                    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                    break Label_0109;</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">                catch (IOException e) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">                    throw new RuntimeException(e);</span></span><br><span class=\"line\"><span class=\"comment\">                &#125;</span></span><br><span class=\"line\"><span class=\"comment\">            &#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">            shortHash = <span class=\"string\">\"Unknown\"</span>;</span><br><span class=\"line\">            date = <span class=\"string\">\"Unknown\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        CURRENT = <span class=\"keyword\">new</span> XPackBuild(shortHash, date);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"-class\"><a href=\"#-class\" class=\"headerlink\" title=\".class\"></a>.class</h2><p><code>LicenseVerifier.java</code><code>XPackBuild.java</code>windowselasticsearchclassx-pack-core-7.0.1.jar2/root<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># LicenseVerifier.java</span></span><br><span class=\"line\">$ javac -cp <span class=\"string\">\"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\"</span> /root/LicenseVerifier.java</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># XPackBuild.java</span></span><br><span class=\"line\">$ javac -cp <span class=\"string\">\"/elk/elasticsearch-7.0.1/lib/elasticsearch-7.0.1.jar:/elk/elasticsearch-7.0.1/lib/lucene-core-8.0.0.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar:/elk/elasticsearch-7.0.1/modules/x-pack-core/netty-common-4.1.32.Final.jar:/elk/elasticsearch-7.0.1/lib/elasticsearch-core-7.0.1.jar\"</span> /root/XPackBuild.java</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ ls /root | grep .class</span><br><span class=\"line\">LicenseVerifier.class</span><br><span class=\"line\">XPackBuild.class</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"LicenseVerifier-classXPackBuild-class\"><a href=\"#LicenseVerifier-classXPackBuild-class\" class=\"headerlink\" title=\"LicenseVerifier.classXPackBuild.class\"></a>LicenseVerifier.classXPackBuild.class</h2><p><code>/elk/elasticsearch-7.0.1/modules/x-pack-core</code><code>x-pack-core-7.0.1.jar</code><code>/elk/x-pack</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cp /elk/elasticsearch-7.0.1/modules/x-pack-core/x-pack-core-7.0.1.jar /elk/x-pack</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /elk/x-pack</span><br><span class=\"line\"><span class=\"comment\"># x-pack-core-7.0.1.jar</span></span><br><span class=\"line\">$ jar -xvf x-pack-core-7.0.1.jar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .class</span></span><br><span class=\"line\">$ cp /root/XPackBuild.class /elk/x-pack/org/elasticsearch/xpack/core/</span><br><span class=\"line\">$ cp /root/LicenseVerifier.class /elk/x-pack/org/elasticsearch/license/</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"x-pack-core-7-0-1-jar\"><a href=\"#x-pack-core-7-0-1-jar\" class=\"headerlink\" title=\"x-pack-core-7.0.1.jar\"></a>x-pack-core-7.0.1.jar</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /elk/x-pack</span><br><span class=\"line\">$ rm -rf x-pack-core-7.0.1.jar   <span class=\"comment\"># </span></span><br><span class=\"line\">$ jar cvf x-pack-core-7.0.1.jar .</span><br></pre></td></tr></table></figure>\n<p>/elk/x-pack<code>x-pack-core-7.0.1.jar</code></p>\n<h2 id=\"x-pack-core-7-0-1-jar\"><a href=\"#x-pack-core-7-0-1-jar\" class=\"headerlink\" title=\"x-pack-core-7.0.1.jar\"></a>x-pack-core-7.0.1.jar</h2><p>x-pack-core-7.0.1.jarx-pack-core-7.0.1.jar<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /elk/x-pack/x-pack-core-7.0.1.jar /elk/elasticsearch-7.0.1/modules/x-pack-core/</span><br><span class=\"line\">rm -rf /elk/x-pack  <span class=\"comment\"># </span></span><br><span class=\"line\">``` </span><br><span class=\"line\"><span class=\"comment\">## License</span></span><br><span class=\"line\">elasticlicense, [License](https://license.elastic.co/registration)LicensejsonLicense`<span class=\"built_in\">type</span>``expiry_date_in_millis``max_nodes``platinum``2524579200999``1000`</span><br><span class=\"line\">```json</span><br><span class=\"line\">&#123;<span class=\"string\">\"license\"</span>:</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">\"uid\"</span>:<span class=\"string\">\"537c5c48-c1dd-43ea-ab69-68d209d80c32\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>:<span class=\"string\">\"platinum\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"issue_date_in_millis\"</span>:1558051200000,</span><br><span class=\"line\">        <span class=\"string\">\"expiry_date_in_millis\"</span>:2524579200999,</span><br><span class=\"line\">        <span class=\"string\">\"max_nodes\"</span>:1000,</span><br><span class=\"line\">        <span class=\"string\">\"issued_to\"</span>:<span class=\"string\">\"pyker\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"issuer\"</span>:<span class=\"string\">\"Web Form\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"signature\"</span>:<span class=\"string\">\"AAAAAwAAAA3fIq7NLN3Blk2olVjbAAABmC9ZN0hjZDBGYnVyRXpCOW5Bb3FjZDAxOWpSbTVoMVZwUzRxVk1PSmkxaktJRVl5MUYvUWh3bHZVUTllbXNPbzBUemtnbWpBbmlWRmRZb25KNFlBR2x0TXc2K2p1Y1VtMG1UQU9TRGZVSGRwaEJGUjE3bXd3LzRqZ05iLzRteWFNekdxRGpIYlFwYkJiNUs0U1hTVlJKNVlXekMrSlVUdFIvV0FNeWdOYnlESDc3MWhlY3hSQmdKSjJ2ZTcvYlBFOHhPQlV3ZHdDQ0tHcG5uOElCaDJ4K1hob29xSG85N0kvTWV3THhlQk9NL01VMFRjNDZpZEVXeUtUMXIyMlIveFpJUkk2WUdveEZaME9XWitGUi9WNTZVQW1FMG1DenhZU0ZmeXlZakVEMjZFT2NvOWxpZGlqVmlHNC8rWVVUYzMwRGVySHpIdURzKzFiRDl4TmM1TUp2VTBOUlJZUlAyV0ZVL2kvVk10L0NsbXNFYVZwT3NSU082dFNNa2prQ0ZsclZ4NTltbU1CVE5lR09Bck93V2J1Y3c9PQAAAQCjNd8mwy8B1sm9rGrgTmN2Gjm/lxqfnTEpTc+HOEmAgwQ7Q1Ye/FSGVNIU/enZ5cqSzWS2mY8oZ7FM/7UPKVQ4hkarWn2qye964MW+cux54h7dqxlSB19fG0ZJOJZxxwVxxi8iyJPUSQBa+QN8m7TFkK2kVmP+HnhU7mGUrqXt3zTk5d3pZw3QBQ/Rr3wmSYC5pxV6/o2UHFgu1OPDcX+kEb+UZtMrVNneR+cEwyx7o5Bg3rbKC014T+lMtt69Y080JDI5KfHa7e9Ul0c3rozIL975fP45dU175D4PKZy98cvHJgtsCJF3K8XUZKo2lOcbsWzhK2mZ5kFp0BMXF3Hs\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"start_date_in_millis\"</span>:1558051200000</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2050typeplatinum x-pack</p>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p>elasticsearchelasticsearchSSL/TLS,securityLicenseLicensesecuritySSL\\TLS<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Licenseelasticsearch</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"xpack.security.enabled: false\"</span> &gt;&gt; /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ ./bin/elasticsearch -d   <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Licenseelasticsearch</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"xpack.security.transport.ssl.enabled: true\"</span> &gt;&gt; /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ sed -i <span class=\"string\">'s/xpack.security.enabled: false/xpack.security.enabled: true/g'</span> /elk/elasticsearch-7.0.1/config/elasticsearch.yml</span><br><span class=\"line\">$ <span class=\"built_in\">kill</span> -9 13023 &amp;&amp; ./bin/elasticsearch -d   <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Licenseelasticsearch\"><a href=\"#Licenseelasticsearch\" class=\"headerlink\" title=\"Licenseelasticsearch\"></a>Licenseelasticsearch</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -XPUT -u elastic <span class=\"string\">'http://192.168.20.210:9200/_xpack/license'</span> -H <span class=\"string\">\"Content-Type: application/json\"</span> -d @license.json</span><br><span class=\"line\">Enter host password <span class=\"keyword\">for</span> user <span class=\"string\">'elastic'</span>:           <span class=\"comment\"># elastic</span></span><br><span class=\"line\">&#123;<span class=\"string\">\"acknowledged\"</span>:<span class=\"literal\">true</span>,<span class=\"string\">\"license_status\"</span>:<span class=\"string\">\"valid\"</span>&#125;    <span class=\"comment\"># license</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"License\"><a href=\"#License\" class=\"headerlink\" title=\"License\"></a>License</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -XGET -u elastic:tWbWZc7NE3wYqS6DvSu4 http://192.168.20.210:9200/_license</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"license\"</span> : &#123;</span><br><span class=\"line\">    <span class=\"string\">\"status\"</span> : <span class=\"string\">\"active\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"uid\"</span> : <span class=\"string\">\"537c5c48-c1dd-43ea-ab69-68d209d80c32\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"type\"</span> : <span class=\"string\">\"platinum\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issue_date\"</span> : <span class=\"string\">\"2019-05-17T00:00:00.000Z\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issue_date_in_millis\"</span> : 1558051200000,</span><br><span class=\"line\">    <span class=\"string\">\"expiry_date\"</span> : <span class=\"string\">\"2049-12-31T16:00:00.999Z\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"expiry_date_in_millis\"</span> : 2524579200999,</span><br><span class=\"line\">    <span class=\"string\">\"max_nodes\"</span> : 1000,</span><br><span class=\"line\">    <span class=\"string\">\"issued_to\"</span> : <span class=\"string\">\"pyker\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"issuer\"</span> : <span class=\"string\">\"Web Form\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"start_date_in_millis\"</span> : 1558051200000</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>x-pack2049-12-31kibana web<code></code><br><img src=\"/images/pic/x-pack.png\" alt></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>x-pack</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./bin/elasticsearch-setup-passwords auto</span><br><span class=\"line\"></span><br><span class=\"line\">Initiating the setup of passwords <span class=\"keyword\">for</span> reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.</span><br><span class=\"line\">The passwords will be randomly generated and printed to the console.</span><br><span class=\"line\">Please confirm that you would like to <span class=\"built_in\">continue</span> [y/N]y</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user apm_system</span><br><span class=\"line\">PASSWORD apm_system = 24UtJKbNI1UqHUQkKPZY</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user kibana</span><br><span class=\"line\">PASSWORD kibana = 8SSZMisIY0NZFMCS6wv9</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user logstash_system</span><br><span class=\"line\">PASSWORD logstash_system = rFhWkYzayIUZVl8VIunJ</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user beats_system</span><br><span class=\"line\">PASSWORD beats_system = U1B4O5SKrSEatqDQRsQz</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user remote_monitoring_user</span><br><span class=\"line\">PASSWORD remote_monitoring_user = zdpj7HqO02yRXZR9Bwa2</span><br><span class=\"line\"></span><br><span class=\"line\">Changed password <span class=\"keyword\">for</span> user elastic</span><br><span class=\"line\">PASSWORD elastic = tWbWZc7NE3wYqS6DvSu4</span><br></pre></td></tr></table></figure></p>\n"},{"layout":"post","title":"Git    ","author":"Pyker","img":"/images/bar/gitcommand.jpg","top":false,"cover":false,"date":"2018-11-30T09:30:00.000Z","_content":"gitgit[Git](https://git-scm.com/docs)\n```bash\ngit init                                                  # git\ngit config --global user.name \"xxx\"                       # \ngit config --global user.email \"xxx@xxx.com\"              # \ngit config --global color.ui true                         # git status\ngit config --global color.status auto\ngit config --global color.diff auto\ngit config --global color.branch auto\ngit config --global color.interactive auto\ngit clone git+ssh://git@192.168.53.168/VT.git             # clone\ngit status                                                # \ngit add xyz                                               # xyz\ngit add .                                                 # \ngit commit -m 'xxx'                                       # \ngit commit --amend -m 'xxx'                               # \ngit commit -am 'xxx'                                      # addcommit\ngit rm xxx                                                # \ngit rm -r *                                               # \ngit log                                                   # \ngit log -1                                                # 1commit -nn\ngit log -5 --oneline\t\t\t\t\t\t\t\t\t  # 5commit\ngit log --stat                                            # \ngit log --graph --pretty=oneline --abbrev-commit          # \ngit show dfb02e6e4f2f7b573337763e5c0013802e392818         # \ngit show dfb02                                            # commitid\ngit show HEAD                                             # HEAD\ngit show HEAD^                                            # HEAD\ngit show HEAD~10                                          # 10\ngit show -s --pretty=raw 2be7fcb476\ngit tag                                                   # tag\ngit tag -a v2.0 -m 'xxx'                                  # v2.0tag\ngit show v2.0                                             # v2.0\ngit log v2.0                                              # v2.0\ngit diff                                                  # \ngit diff --cached                                         # indexcommit\ngit diff HEAD^                                            # \ngit diff HEAD -- ./lib                                    # HEADlib\ngit diff origin/master..master                            # mastermaster\ngit diff origin/master..master --stat                     # \ngit remote add origin git+ssh://git@192.168.53.168/VT.git # push/pull/fetch\ngit branch                                                # \ngit branch --contains 50089                               # 50089\ngit branch -a                                             # \ngit branch -r                                             # \ngit branch --merged                                       # \ngit branch --no-merged                                    # \ngit branch -m master master_copy                          # \ngit checkout -b master_copy                               # master_copy\ngit checkout -b dev origin/dev                            # devdev\ngit checkout features/performance                         # features/performance\ngit checkout --track hotfix/BJP93                         # hotfix/BJP93\ngit checkout v2.0                                         # v2.0\ngit checkout -b devel origin/develop                      # developdevel\ngit checkout -- README                                    # README()\ngit merge --no-ff origin/master                           # master\ngit cherry-pick ff44785404a8e                             # ff44785404a8e\ngit push origin master                                    # masterpushmaster\ngit push origin :hotfixes/BJVEP933                        # hotfixes/BJVEP933\ngit push --tags                                           # tag\ngit push --set-upstream origin dev                        # dev\ngit fetch                                                 # merge\ngit fetch --prune                                         # \ngit fetch origin dev:tmp                                  # devtmp\ngit pull origin master                                    # mastermerge\ngit mv README README2                                     # READMEREADME2\ngit reset --hard 2f3c                                     # 2f3cmerge\ngit rebase\ngit branch -d hotfix                                      # hotfix ()\ngit branch -D hotfix/BJP93                                # hotfix/BJP93\ngit ls-files                                              # git \ngit show-branch                                           # \ngit show-branch --all                                     # \ngit whatchanged                                           # \ngit revert dfb02e6e4                                      # dfb02e6e4\ngit ls-tree HEAD                                          # git\ngit rev-parse v2.0                                        # refSHA1 HASH\ngit reflog                                                # \ngit show HEAD@{5}\ngit show master@{yesterday}                               # master\ngit log --pretty=format:'%h %s' --graph                   # \ngit stash                                                 # HEAD\ngit stash list                                            # \ngit stash show -p stash@{0}                               # \ngit stash apply stash@{0}                                 # \ngit stash drop                                            # stash\ngit stash pop                                             #  git stash applygit stash drop\ngit grep \"delete from\"                                    # delete from\ngit grep -e '#define' --and -e SORT_DIRENT\ngit gc\ngit fsck\n```\n### git fetch git pull \n* git fetch merge\n```bash\ngit fetch                                 # branch\ngit diff origin/master                    # masterorigin/master\ngit diff HEAD FETCH_HEAD                  # \ngit merge origin/master                   # \n```\n\n```bash\ngit fetch origin master:tmp        # mastertmp\ngit diff tmp                       # tmp\ngit merge tmp                      # tmp\n```\n* git pullmerge\n```bash\ngit pull origin master\n```\ngit pull merge\ngit fetch","source":"_posts/git-command.md","raw":"layout: post\ntitle: Git    \nauthor: Pyker\ncategories: CI/CD\nimg: /images/bar/gitcommand.jpg\ntags:\n  - git\ntop: false\ncover: false\ndate: 2018-11-30 17:30:00\n---\ngitgit[Git](https://git-scm.com/docs)\n```bash\ngit init                                                  # git\ngit config --global user.name \"xxx\"                       # \ngit config --global user.email \"xxx@xxx.com\"              # \ngit config --global color.ui true                         # git status\ngit config --global color.status auto\ngit config --global color.diff auto\ngit config --global color.branch auto\ngit config --global color.interactive auto\ngit clone git+ssh://git@192.168.53.168/VT.git             # clone\ngit status                                                # \ngit add xyz                                               # xyz\ngit add .                                                 # \ngit commit -m 'xxx'                                       # \ngit commit --amend -m 'xxx'                               # \ngit commit -am 'xxx'                                      # addcommit\ngit rm xxx                                                # \ngit rm -r *                                               # \ngit log                                                   # \ngit log -1                                                # 1commit -nn\ngit log -5 --oneline\t\t\t\t\t\t\t\t\t  # 5commit\ngit log --stat                                            # \ngit log --graph --pretty=oneline --abbrev-commit          # \ngit show dfb02e6e4f2f7b573337763e5c0013802e392818         # \ngit show dfb02                                            # commitid\ngit show HEAD                                             # HEAD\ngit show HEAD^                                            # HEAD\ngit show HEAD~10                                          # 10\ngit show -s --pretty=raw 2be7fcb476\ngit tag                                                   # tag\ngit tag -a v2.0 -m 'xxx'                                  # v2.0tag\ngit show v2.0                                             # v2.0\ngit log v2.0                                              # v2.0\ngit diff                                                  # \ngit diff --cached                                         # indexcommit\ngit diff HEAD^                                            # \ngit diff HEAD -- ./lib                                    # HEADlib\ngit diff origin/master..master                            # mastermaster\ngit diff origin/master..master --stat                     # \ngit remote add origin git+ssh://git@192.168.53.168/VT.git # push/pull/fetch\ngit branch                                                # \ngit branch --contains 50089                               # 50089\ngit branch -a                                             # \ngit branch -r                                             # \ngit branch --merged                                       # \ngit branch --no-merged                                    # \ngit branch -m master master_copy                          # \ngit checkout -b master_copy                               # master_copy\ngit checkout -b dev origin/dev                            # devdev\ngit checkout features/performance                         # features/performance\ngit checkout --track hotfix/BJP93                         # hotfix/BJP93\ngit checkout v2.0                                         # v2.0\ngit checkout -b devel origin/develop                      # developdevel\ngit checkout -- README                                    # README()\ngit merge --no-ff origin/master                           # master\ngit cherry-pick ff44785404a8e                             # ff44785404a8e\ngit push origin master                                    # masterpushmaster\ngit push origin :hotfixes/BJVEP933                        # hotfixes/BJVEP933\ngit push --tags                                           # tag\ngit push --set-upstream origin dev                        # dev\ngit fetch                                                 # merge\ngit fetch --prune                                         # \ngit fetch origin dev:tmp                                  # devtmp\ngit pull origin master                                    # mastermerge\ngit mv README README2                                     # READMEREADME2\ngit reset --hard 2f3c                                     # 2f3cmerge\ngit rebase\ngit branch -d hotfix                                      # hotfix ()\ngit branch -D hotfix/BJP93                                # hotfix/BJP93\ngit ls-files                                              # git \ngit show-branch                                           # \ngit show-branch --all                                     # \ngit whatchanged                                           # \ngit revert dfb02e6e4                                      # dfb02e6e4\ngit ls-tree HEAD                                          # git\ngit rev-parse v2.0                                        # refSHA1 HASH\ngit reflog                                                # \ngit show HEAD@{5}\ngit show master@{yesterday}                               # master\ngit log --pretty=format:'%h %s' --graph                   # \ngit stash                                                 # HEAD\ngit stash list                                            # \ngit stash show -p stash@{0}                               # \ngit stash apply stash@{0}                                 # \ngit stash drop                                            # stash\ngit stash pop                                             #  git stash applygit stash drop\ngit grep \"delete from\"                                    # delete from\ngit grep -e '#define' --and -e SORT_DIRENT\ngit gc\ngit fsck\n```\n### git fetch git pull \n* git fetch merge\n```bash\ngit fetch                                 # branch\ngit diff origin/master                    # masterorigin/master\ngit diff HEAD FETCH_HEAD                  # \ngit merge origin/master                   # \n```\n\n```bash\ngit fetch origin master:tmp        # mastertmp\ngit diff tmp                       # tmp\ngit merge tmp                      # tmp\n```\n* git pullmerge\n```bash\ngit pull origin master\n```\ngit pull merge\ngit fetch","slug":"git-command","published":1,"updated":"2019-05-23T18:38:59.582Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0m002cp4n7dqhjquuz","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>gitgit<a href=\"https://git-scm.com/docs\" target=\"_blank\" rel=\"noopener\">Git</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init                                                  <span class=\"comment\"># git</span></span><br><span class=\"line\">git config --global user.name <span class=\"string\">\"xxx\"</span>                       <span class=\"comment\"># </span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"xxx@xxx.com\"</span>              <span class=\"comment\"># </span></span><br><span class=\"line\">git config --global color.ui <span class=\"literal\">true</span>                         <span class=\"comment\"># git status</span></span><br><span class=\"line\">git config --global color.status auto</span><br><span class=\"line\">git config --global color.diff auto</span><br><span class=\"line\">git config --global color.branch auto</span><br><span class=\"line\">git config --global color.interactive auto</span><br><span class=\"line\">git <span class=\"built_in\">clone</span> git+ssh://git@192.168.53.168/VT.git             <span class=\"comment\"># clone</span></span><br><span class=\"line\">git status                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git add xyz                                               <span class=\"comment\"># xyz</span></span><br><span class=\"line\">git add .                                                 <span class=\"comment\"># </span></span><br><span class=\"line\">git commit -m <span class=\"string\">'xxx'</span>                                       <span class=\"comment\"># </span></span><br><span class=\"line\">git commit --amend -m <span class=\"string\">'xxx'</span>                               <span class=\"comment\"># </span></span><br><span class=\"line\">git commit -am <span class=\"string\">'xxx'</span>                                      <span class=\"comment\"># addcommit</span></span><br><span class=\"line\">git rm xxx                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git rm -r *                                               <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span>                                                   <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -1                                                <span class=\"comment\"># 1commit -nn</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -5 --oneline\t\t\t\t\t\t\t\t\t  <span class=\"comment\"># 5commit</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --<span class=\"built_in\">stat</span>                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --graph --pretty=oneline --abbrev-commit          <span class=\"comment\"># </span></span><br><span class=\"line\">git show dfb02e6e4f2f7b573337763e5c0013802e392818         <span class=\"comment\"># </span></span><br><span class=\"line\">git show dfb02                                            <span class=\"comment\"># commitid</span></span><br><span class=\"line\">git show HEAD                                             <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git show HEAD^                                            <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git show HEAD~10                                          <span class=\"comment\"># 10</span></span><br><span class=\"line\">git show -s --pretty=raw 2be7fcb476</span><br><span class=\"line\">git tag                                                   <span class=\"comment\"># tag</span></span><br><span class=\"line\">git tag -a v2.0 -m <span class=\"string\">'xxx'</span>                                  <span class=\"comment\"># v2.0tag</span></span><br><span class=\"line\">git show v2.0                                             <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> v2.0                                              <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git diff                                                  <span class=\"comment\"># </span></span><br><span class=\"line\">git diff --cached                                         <span class=\"comment\"># indexcommit</span></span><br><span class=\"line\">git diff HEAD^                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git diff HEAD -- ./lib                                    <span class=\"comment\"># HEADlib</span></span><br><span class=\"line\">git diff origin/master..master                            <span class=\"comment\"># mastermaster</span></span><br><span class=\"line\">git diff origin/master..master --<span class=\"built_in\">stat</span>                     <span class=\"comment\"># </span></span><br><span class=\"line\">git remote add origin git+ssh://git@192.168.53.168/VT.git <span class=\"comment\"># push/pull/fetch</span></span><br><span class=\"line\">git branch                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --contains 50089                               <span class=\"comment\"># 50089</span></span><br><span class=\"line\">git branch -a                                             <span class=\"comment\"># </span></span><br><span class=\"line\">git branch -r                                             <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --merged                                       <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --no-merged                                    <span class=\"comment\"># </span></span><br><span class=\"line\">git branch -m master master_copy                          <span class=\"comment\"># </span></span><br><span class=\"line\">git checkout -b master_copy                               <span class=\"comment\"># master_copy</span></span><br><span class=\"line\">git checkout -b dev origin/dev                            <span class=\"comment\"># devdev</span></span><br><span class=\"line\">git checkout features/performance                         <span class=\"comment\"># features/performance</span></span><br><span class=\"line\">git checkout --track hotfix/BJP93                         <span class=\"comment\"># hotfix/BJP93</span></span><br><span class=\"line\">git checkout v2.0                                         <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git checkout -b devel origin/develop                      <span class=\"comment\"># developdevel</span></span><br><span class=\"line\">git checkout -- README                                    <span class=\"comment\"># README()</span></span><br><span class=\"line\">git merge --no-ff origin/master                           <span class=\"comment\"># master</span></span><br><span class=\"line\">git cherry-pick ff44785404a8e                             <span class=\"comment\"># ff44785404a8e</span></span><br><span class=\"line\">git push origin master                                    <span class=\"comment\"># masterpushmaster</span></span><br><span class=\"line\">git push origin :hotfixes/BJVEP933                        <span class=\"comment\"># hotfixes/BJVEP933</span></span><br><span class=\"line\">git push --tags                                           <span class=\"comment\"># tag</span></span><br><span class=\"line\">git push --<span class=\"built_in\">set</span>-upstream origin dev                        <span class=\"comment\"># dev</span></span><br><span class=\"line\">git fetch                                                 <span class=\"comment\"># merge</span></span><br><span class=\"line\">git fetch --prune                                         <span class=\"comment\"># </span></span><br><span class=\"line\">git fetch origin dev:tmp                                  <span class=\"comment\"># devtmp</span></span><br><span class=\"line\">git pull origin master                                    <span class=\"comment\"># mastermerge</span></span><br><span class=\"line\">git mv README README2                                     <span class=\"comment\"># READMEREADME2</span></span><br><span class=\"line\">git reset --hard 2f3c                                     <span class=\"comment\"># 2f3cmerge</span></span><br><span class=\"line\">git rebase</span><br><span class=\"line\">git branch -d hotfix                                      <span class=\"comment\"># hotfix ()</span></span><br><span class=\"line\">git branch -D hotfix/BJP93                                <span class=\"comment\"># hotfix/BJP93</span></span><br><span class=\"line\">git ls-files                                              <span class=\"comment\"># git </span></span><br><span class=\"line\">git show-branch                                           <span class=\"comment\"># </span></span><br><span class=\"line\">git show-branch --all                                     <span class=\"comment\"># </span></span><br><span class=\"line\">git whatchanged                                           <span class=\"comment\"># </span></span><br><span class=\"line\">git revert dfb02e6e4                                      <span class=\"comment\"># dfb02e6e4</span></span><br><span class=\"line\">git ls-tree HEAD                                          <span class=\"comment\"># git</span></span><br><span class=\"line\">git rev-parse v2.0                                        <span class=\"comment\"># refSHA1 HASH</span></span><br><span class=\"line\">git reflog                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git show HEAD@&#123;5&#125;</span><br><span class=\"line\">git show master@&#123;yesterday&#125;                               <span class=\"comment\"># master</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --pretty=format:<span class=\"string\">'%h %s'</span> --graph                   <span class=\"comment\"># </span></span><br><span class=\"line\">git stash                                                 <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git stash list                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git stash show -p stash@&#123;0&#125;                               <span class=\"comment\"># </span></span><br><span class=\"line\">git stash apply stash@&#123;0&#125;                                 <span class=\"comment\"># </span></span><br><span class=\"line\">git stash drop                                            <span class=\"comment\"># stash</span></span><br><span class=\"line\">git stash pop                                             <span class=\"comment\">#  git stash applygit stash drop</span></span><br><span class=\"line\">git grep <span class=\"string\">\"delete from\"</span>                                    <span class=\"comment\"># delete from</span></span><br><span class=\"line\">git grep -e <span class=\"string\">'#define'</span> --and -e SORT_DIRENT</span><br><span class=\"line\">git gc</span><br><span class=\"line\">git fsck</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"git-fetch-git-pull-\"><a href=\"#git-fetch-git-pull-\" class=\"headerlink\" title=\"git fetch git pull \"></a>git fetch git pull </h3><ul>\n<li>git fetch merge<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch                                 <span class=\"comment\"># branch</span></span><br><span class=\"line\">git diff origin/master                    <span class=\"comment\"># masterorigin/master</span></span><br><span class=\"line\">git diff HEAD FETCH_HEAD                  <span class=\"comment\"># </span></span><br><span class=\"line\">git merge origin/master                   <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch origin master:tmp        <span class=\"comment\"># mastertmp</span></span><br><span class=\"line\">git diff tmp                       <span class=\"comment\"># tmp</span></span><br><span class=\"line\">git merge tmp                      <span class=\"comment\"># tmp</span></span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>git pullmerge<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>git pull merge<br>git fetch</p>\n","site":{"data":{}},"length":6883,"excerpt":"","more":"<p>gitgit<a href=\"https://git-scm.com/docs\" target=\"_blank\" rel=\"noopener\">Git</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init                                                  <span class=\"comment\"># git</span></span><br><span class=\"line\">git config --global user.name <span class=\"string\">\"xxx\"</span>                       <span class=\"comment\"># </span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"xxx@xxx.com\"</span>              <span class=\"comment\"># </span></span><br><span class=\"line\">git config --global color.ui <span class=\"literal\">true</span>                         <span class=\"comment\"># git status</span></span><br><span class=\"line\">git config --global color.status auto</span><br><span class=\"line\">git config --global color.diff auto</span><br><span class=\"line\">git config --global color.branch auto</span><br><span class=\"line\">git config --global color.interactive auto</span><br><span class=\"line\">git <span class=\"built_in\">clone</span> git+ssh://git@192.168.53.168/VT.git             <span class=\"comment\"># clone</span></span><br><span class=\"line\">git status                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git add xyz                                               <span class=\"comment\"># xyz</span></span><br><span class=\"line\">git add .                                                 <span class=\"comment\"># </span></span><br><span class=\"line\">git commit -m <span class=\"string\">'xxx'</span>                                       <span class=\"comment\"># </span></span><br><span class=\"line\">git commit --amend -m <span class=\"string\">'xxx'</span>                               <span class=\"comment\"># </span></span><br><span class=\"line\">git commit -am <span class=\"string\">'xxx'</span>                                      <span class=\"comment\"># addcommit</span></span><br><span class=\"line\">git rm xxx                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git rm -r *                                               <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span>                                                   <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -1                                                <span class=\"comment\"># 1commit -nn</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> -5 --oneline\t\t\t\t\t\t\t\t\t  <span class=\"comment\"># 5commit</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --<span class=\"built_in\">stat</span>                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --graph --pretty=oneline --abbrev-commit          <span class=\"comment\"># </span></span><br><span class=\"line\">git show dfb02e6e4f2f7b573337763e5c0013802e392818         <span class=\"comment\"># </span></span><br><span class=\"line\">git show dfb02                                            <span class=\"comment\"># commitid</span></span><br><span class=\"line\">git show HEAD                                             <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git show HEAD^                                            <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git show HEAD~10                                          <span class=\"comment\"># 10</span></span><br><span class=\"line\">git show -s --pretty=raw 2be7fcb476</span><br><span class=\"line\">git tag                                                   <span class=\"comment\"># tag</span></span><br><span class=\"line\">git tag -a v2.0 -m <span class=\"string\">'xxx'</span>                                  <span class=\"comment\"># v2.0tag</span></span><br><span class=\"line\">git show v2.0                                             <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> v2.0                                              <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git diff                                                  <span class=\"comment\"># </span></span><br><span class=\"line\">git diff --cached                                         <span class=\"comment\"># indexcommit</span></span><br><span class=\"line\">git diff HEAD^                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git diff HEAD -- ./lib                                    <span class=\"comment\"># HEADlib</span></span><br><span class=\"line\">git diff origin/master..master                            <span class=\"comment\"># mastermaster</span></span><br><span class=\"line\">git diff origin/master..master --<span class=\"built_in\">stat</span>                     <span class=\"comment\"># </span></span><br><span class=\"line\">git remote add origin git+ssh://git@192.168.53.168/VT.git <span class=\"comment\"># push/pull/fetch</span></span><br><span class=\"line\">git branch                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --contains 50089                               <span class=\"comment\"># 50089</span></span><br><span class=\"line\">git branch -a                                             <span class=\"comment\"># </span></span><br><span class=\"line\">git branch -r                                             <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --merged                                       <span class=\"comment\"># </span></span><br><span class=\"line\">git branch --no-merged                                    <span class=\"comment\"># </span></span><br><span class=\"line\">git branch -m master master_copy                          <span class=\"comment\"># </span></span><br><span class=\"line\">git checkout -b master_copy                               <span class=\"comment\"># master_copy</span></span><br><span class=\"line\">git checkout -b dev origin/dev                            <span class=\"comment\"># devdev</span></span><br><span class=\"line\">git checkout features/performance                         <span class=\"comment\"># features/performance</span></span><br><span class=\"line\">git checkout --track hotfix/BJP93                         <span class=\"comment\"># hotfix/BJP93</span></span><br><span class=\"line\">git checkout v2.0                                         <span class=\"comment\"># v2.0</span></span><br><span class=\"line\">git checkout -b devel origin/develop                      <span class=\"comment\"># developdevel</span></span><br><span class=\"line\">git checkout -- README                                    <span class=\"comment\"># README()</span></span><br><span class=\"line\">git merge --no-ff origin/master                           <span class=\"comment\"># master</span></span><br><span class=\"line\">git cherry-pick ff44785404a8e                             <span class=\"comment\"># ff44785404a8e</span></span><br><span class=\"line\">git push origin master                                    <span class=\"comment\"># masterpushmaster</span></span><br><span class=\"line\">git push origin :hotfixes/BJVEP933                        <span class=\"comment\"># hotfixes/BJVEP933</span></span><br><span class=\"line\">git push --tags                                           <span class=\"comment\"># tag</span></span><br><span class=\"line\">git push --<span class=\"built_in\">set</span>-upstream origin dev                        <span class=\"comment\"># dev</span></span><br><span class=\"line\">git fetch                                                 <span class=\"comment\"># merge</span></span><br><span class=\"line\">git fetch --prune                                         <span class=\"comment\"># </span></span><br><span class=\"line\">git fetch origin dev:tmp                                  <span class=\"comment\"># devtmp</span></span><br><span class=\"line\">git pull origin master                                    <span class=\"comment\"># mastermerge</span></span><br><span class=\"line\">git mv README README2                                     <span class=\"comment\"># READMEREADME2</span></span><br><span class=\"line\">git reset --hard 2f3c                                     <span class=\"comment\"># 2f3cmerge</span></span><br><span class=\"line\">git rebase</span><br><span class=\"line\">git branch -d hotfix                                      <span class=\"comment\"># hotfix ()</span></span><br><span class=\"line\">git branch -D hotfix/BJP93                                <span class=\"comment\"># hotfix/BJP93</span></span><br><span class=\"line\">git ls-files                                              <span class=\"comment\"># git </span></span><br><span class=\"line\">git show-branch                                           <span class=\"comment\"># </span></span><br><span class=\"line\">git show-branch --all                                     <span class=\"comment\"># </span></span><br><span class=\"line\">git whatchanged                                           <span class=\"comment\"># </span></span><br><span class=\"line\">git revert dfb02e6e4                                      <span class=\"comment\"># dfb02e6e4</span></span><br><span class=\"line\">git ls-tree HEAD                                          <span class=\"comment\"># git</span></span><br><span class=\"line\">git rev-parse v2.0                                        <span class=\"comment\"># refSHA1 HASH</span></span><br><span class=\"line\">git reflog                                                <span class=\"comment\"># </span></span><br><span class=\"line\">git show HEAD@&#123;5&#125;</span><br><span class=\"line\">git show master@&#123;yesterday&#125;                               <span class=\"comment\"># master</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --pretty=format:<span class=\"string\">'%h %s'</span> --graph                   <span class=\"comment\"># </span></span><br><span class=\"line\">git stash                                                 <span class=\"comment\"># HEAD</span></span><br><span class=\"line\">git stash list                                            <span class=\"comment\"># </span></span><br><span class=\"line\">git stash show -p stash@&#123;0&#125;                               <span class=\"comment\"># </span></span><br><span class=\"line\">git stash apply stash@&#123;0&#125;                                 <span class=\"comment\"># </span></span><br><span class=\"line\">git stash drop                                            <span class=\"comment\"># stash</span></span><br><span class=\"line\">git stash pop                                             <span class=\"comment\">#  git stash applygit stash drop</span></span><br><span class=\"line\">git grep <span class=\"string\">\"delete from\"</span>                                    <span class=\"comment\"># delete from</span></span><br><span class=\"line\">git grep -e <span class=\"string\">'#define'</span> --and -e SORT_DIRENT</span><br><span class=\"line\">git gc</span><br><span class=\"line\">git fsck</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"git-fetch-git-pull-\"><a href=\"#git-fetch-git-pull-\" class=\"headerlink\" title=\"git fetch git pull \"></a>git fetch git pull </h3><ul>\n<li>git fetch merge<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch                                 <span class=\"comment\"># branch</span></span><br><span class=\"line\">git diff origin/master                    <span class=\"comment\"># masterorigin/master</span></span><br><span class=\"line\">git diff HEAD FETCH_HEAD                  <span class=\"comment\"># </span></span><br><span class=\"line\">git merge origin/master                   <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch origin master:tmp        <span class=\"comment\"># mastertmp</span></span><br><span class=\"line\">git diff tmp                       <span class=\"comment\"># tmp</span></span><br><span class=\"line\">git merge tmp                      <span class=\"comment\"># tmp</span></span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>git pullmerge<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>git pull merge<br>git fetch</p>\n"},{"layout":"post","title":"Elastic stackEFK","author":"Pyker","img":"/images/bar/kibana.jpg","top":false,"cover":false,"date":"2019-03-15T06:15:00.000Z","_content":"## \n`elastic stack``7.0.1`7.1[](https://www.elastic.co/cn/downloads/)\n\n | ip | \n--- | --- | ---\nefk-node1 | 192.168.20.211 | elasticsearchkibanajdk8\nefk-node2 | 192.168.20.212 | elasticsearchcerebrojdk8\nreal-server | 192.168.20.250 | filebeat\n\n## \n### JDK\nelasticsearchjdk7.0.1JDKJDK`efk-node1``efk-node2`\n```bash\n# JDK\n$ wget https://download.oracle.com/otn/java/jdk/8u171-b12/478a62b7d4e34b78b671c754eaaf38ab/jdk-8u171-linux-x64.tar.gz\n\n$ tar zxvf jdk-8u171-linux-x64.tar.gz -C /usr/local/\n\n$ cat >> /etc/profile << EOF\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport PATH=$JAVA_HOME/bin:$PATH\nEOF\n\n$ source /etc/profile\n\n# JDK, JDK\n$ java -version\njava version \"1.8.0_171\"\nJava(TM) SE Runtime Environment (build 1.8.0_171-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)\n```\n### \n```bash\n$ cat >> /etc/security/limits.conf << EOF\n * soft nofile 655350\n * hard nofile 655350\n * soft nproc 655350\n * hard nproc 655350\nEOF\n```\n### \n```bash\n$ cat > /etc/security/limits.d/20-nproc.conf << EOF\n*          soft    nproc     4096\nroot       soft    nproc     unlimited\nEOF\n```\n### nmap\n```bash\n$ cat >> /etc/sysctl.conf << EOF\nvm.max_map_count=262144\nEOF\n\n$  sysctl -p\n```\n### host\n```bash\ncat >> /etc/hosts << EOF\nefk-node1 192.168.20.211\nefk-node2 192.168.20.212\nreal-server 192.168.20.250\nEOF\n```\n## elasticsearch\n`efk-node1``efk-node2`\n### \n```bash\n# elastic\n$ mkdir /elastic && cd /elastic\n\n# elasticsearch tar\n$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz\n```\n### \n\n```bash\n$ cat elasticsearch-7.0.1/config/elasticsearch.yml | egrep -v \"^$|^#\"\n  cluster.name: efk-cluster     # \n  node.name: efk-node1          # 212efk-node2\n  path.data: /var/lib/elasticsearch     # elasticsearch\n  path.logs: /var/log/elasticsearch     # elasticsearch\n  network.host: 0.0.0.0                 # elasticsearch\n  http.port: 9200                       # elasticsearch\n  discovery.seed_hosts: [\"efk-node1\", \"efk-node2\"]  #\n  cluster.initial_master_nodes: [\"efk-node1\", \"efk-node2\"]  #\n  xpack.security.enabled: true          # ssl\\tls\n  xpack.security.transport.ssl.enabled: true    # ssl\\tls\n```\n### elasticsearch\n> elasticsearchrootelasticsearch\n\n```bash\n$ useradd elastic\n$ passwd elastic\n```\n### \n```bash\n$ mkdir /var/log/elasticsearch      # \n\n$ mkdir /var/lib/elasticsearch      # \n\n$ touch /var/run/elasticsearch.pid  # \n\n$ chown -R elastic.elastic /elastic # elastic\n$ chown -R elastic.elastic /var/log/elasticsearch && \\\nchown -R elastic.elastic /var/lib/elasticsearch && \\\nchown -R elastic.elastic /var/run/elasticsearch.pid   # elasticsearch\n```\n### elasticsearch systemctl\n```bash\n[Unit]\nDescription=Elasticsearch\nDocumentation=http://www.elastic.co\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nEnvironment=JAVA_HOME=/usr/local/jdk1.8.0_171\nUser=elastic\nGroup=elastic\nExecStart=/elastic/elasticsearch-7.0.1/bin/elasticsearch -p /var/run/elasticsearch.pid\n\nLimitNOFILE=65535\nLimitNPROC=65535\nLimitAS=infinity\nLimitFSIZE=infinity\n\n[Install]\nWantedBy=multi-user.target\n```\n### elasticsearch\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start elasticsearch     # elasticsearch\n\n$ systemctl enable elasticsearch    # elasticsearch\n```\n>**Tips**: elasticsearch7.0.1X-Pack[X-pack](https://www.ipyker.com/2019/03/13/elastic-x-pack/)\n\n### \nelasticsearch`9200``9300`\n`9200`: web`9300`\n```bash\n# master*\n$ curl http://192.168.20.211:9200/_cat/nodes?v\nip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name\n192.168.20.212           10          39   0    0.00    0.01     0.05 mdi       -      efk-node2\n192.168.20.211           18          37   0    0.00    0.01     0.05 mdi       *      efk-node1\n\n# statusgreen\n$ curl http://192.168.20.211:9200/_cat/health?v\nepoch      timestamp cluster        status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent\n1558517253 09:27:33  efk-cluster green           2         2      6   3    0    0        0             0                  -                100.0%\n```\n{% note success %}elasticsearch2/var/lib/elasticsearchelasticsearch REST API\n[cluster apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cluster.html) [_cat apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cat.html) [Search apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/search.html) [Document apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/docs.html) {% endnote %}\n##  Kibana\n`efk-node1`\n### \n```bash\n# elastic\n$ cd /elastic\n\n# kibana tar\n$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf kibana-7.0.1-linux-x86_64.tar.gz\n```\n### \n\n```bash\n$ cat kibana-7.0.1-linux-x86_64/config/kibana.yml | egrep -v \"^$|^#\"\n  server.port: 5601           # kibana\n  server.host: \"0.0.0.0\"      # kibana\n  elasticsearch.hosts: [\"http://192.168.20.201:9200\"]  # eskibana\n  elasticsearch.username: \"elastic\"            # esX-pack\n  elasticsearch.password: \"pyker123456\"        # esX-pack\n  elasticsearch.logQueries: true               # ESlogging.json: true\n  pid.file: /var/run/kibana.pid                # kibanaid\n  logging.dest: /var/log/kibana.log            # kibana\n  logging.json: true                           # json\n  logging.verbose: true                        # \n  i18n.locale: \"zh-CN\"                         # kibana\n```\n### \n```bash\n$ touch /var/log/kibana.log      # \n\n$ touch /var/run/kibana.pid      # \n\n$ chown -R elastic.elastic /elastic && \\\nchown -R elastic.elastic /var/log/kibana.log && \\\nchown -R elastic.elastic /var/run/kibana.pid     # elastic\n```\n>TipsKibanarootelasticsearchelastic\n\n### kibana systemctl\n```bash\n[Unit]\nDescription=Kibana\nDocumentation=http://www.elastic.co\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=elastic\nGroup=elastic\nExecStart=/elastic/kibana-7.0.1-linux-x86_64/bin/kibana\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n### kibana\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start kibana            # kibana\n\n$ systemctl enable kibana           # kibana\n```\n> Kibana5601`http://192.168.20.211:5601`kibana\n\n## cerebro\ncerebroScalaPlay FrameworkAngularJSBootstrapMITelasticsearch web[Github](https://github.com/lmenezes/cerebro)\n`efk-node2`\n### \nhttps://github.com/lmenezes/cerebro/releases cerebro\n```json\n$ tar zxvf cerebro-0.8.3.tgz\n$ vim cerebro-0.8.3/conf/application.conf  \n# cerebro\nauth={\n    type: basic\n    settings: {\n        username=\"admin\"\n        password=\"pyker123456\"\n    }\n}\n# elasticsearch\nhosts = [\n  {\n    host = \"http://192.168.20.211:9200\"\n    name = \"efk-cluster\"\n  },\n```\n### cerebro systemctl\n```bash\n[Unit]\nDescription=Cerebro\nAfter=network.target\n\n[Service]\nEnvironment=JAVA_HOME=/usr/local/jdk1.8.0_171\nUser=elastic\nGroup=elastic\nLimitNOFILE=65535\nExecStart=/elastic/cerebro-0.8.3/bin/cerebro -Dconfig.file=/elastic/cerebro-0.8.3/conf/application.conf -Dhttp.port=1234\nRestart=on-failure\nWorkingDirectory=/elastic/cerebro-0.8.3\n\n[Install]\nWantedBy=multi-user.target\n```\n### cerebro\n```bash\n# 9000\n$ nohup ./bin/cerebro -Dhttp.port=1234 -Dhttp.address=192.168.20.212 &\n```\n### systemctlcerebro\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start cerebro           # cerebro\n\n$ systemctl enable cerebro          # cerebro\n```\n### cerebro\n`http://192.168.20.212:1234`cerebroes\n![](/images/pic/cerebro.png)\n\n## filebeat\n[](https://www.ipyker.com/2019/03/14/filebeat/)filebeat`real-server`\n### \n```bash\n# elastic\n$ mkdir /elastic &&& cd /elastic\n\n# kibana tar\n$ wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf filebeat-7.0.1-linux-x86_64.tar.gz\n```\n>{% label info@filebeattomcatnginx %}\n### \n#### tomcat\n[](https://www.ipyker.com/2019/03/14/filebeat/)\n```yaml\n$ cat filebeat-7.0.1-linux-x86_64/filebeat.yml\nfilebeat.inputs:\n- type: log\n  enabled: true\n  paths:\n    - /usr/local/tomcat/logs/catalina.out   # tomcatcatalina.out\n  fields:\n    log_topic: tomcat_access_logs\n  exclude_lines: ['ping']\n  multiline.pattern: '^[[:space:]]+|^Caused by:'\n  multiline.negate: false\n  multiline.match: after\n  ignore_older: 0\n  close_inactive: 2m\n\n- type: log\n  enabled: true\n  paths:\n    - /usr/local/tomcat/logs/localhost_access.*  # tomcatlocalhost_access\n  fields:\n    log_topic: tomcat_catalina_logs\nfilebeat.config.modules:\n  path: ${path.config}/modules.d/*.yml\n  reload.enabled: true\nsetup.template.settings:\n  index.number_of_shards: 1\nsetup.kibana:\n  host: \"192.168.20.211:5601\"\noutput.elasticsearch:     # ESlogstashkafka\n  hosts: [\"192.168.20.211:9200\"]\n  #protocol: \"https\"\n  username: \"elastic\"\n  password: \"pyker123456\"\nprocessors:\n  - add_host_metadata: ~\n  - add_cloud_metadata: ~\n```\n>{% label warning@catalina.outlocalhost_accessfilebeat %}\n\n#### nginx\nfilebeatnginxredisapacheIISkafkafilebeat`module``modules.d`\n```yaml\n$ cat /elastic/filebeat-7.0.1-linux-x86_64/modules.d/nginx.yml.disabled\n- module: nginx\n  access:\n    enabled: true\n    var.paths: [\"/data/wwwlogs/access.log*\"]  # nginx\n  error:\n    enabled: true\n    var.paths: [\"/data/wwwlogs/error_nginx.log*\"]  # nginx\n```\n\n#### nginx\n```bash\n$ cd /elastic/filebeat-7.0.1-linux-x86_64\n$ ./filebeat modules enable nginx \n\n$ ./filebeat modules list     # \nEnabled:\nnginx\nsystem\n\nDisabled\napache\nauditd\n...\n```\n### filebeat systemctl\n```bash\n[Unit]\nDescription=Filebeat sends log files to Logstash or directly to Elasticsearch.\nDocumentation=https://www.elastic.co/products/beats/filebeat\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nExecStart=/elastic/filebeat-7.0.1-linux-x86_64/filebeat -c /elastic/filebeat-7.0.1-linux-x86_64/filebeat.yml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n### filebeat\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start filebeat            # filebeat\n\n$ systemctl enable filebeat           # filebeat\n```\nEFK filebeatelasticsearchkafkalogstashkafka\n\n**kibana[](https://www.elastic.co/guide/cn/kibana/current/introduction.html)**","source":"_posts/install-efk.md","raw":"layout: post\ntitle: Elastic stackEFK\nauthor: Pyker\ncategories: elastic\nimg: /images/bar/kibana.jpg\ntags:\n  - elasticsearch\n  - filebeat\n  - kibana\ntop: false\ncover: false\ndate: 2019-03-15 14:15:00\n---\n## \n`elastic stack``7.0.1`7.1[](https://www.elastic.co/cn/downloads/)\n\n | ip | \n--- | --- | ---\nefk-node1 | 192.168.20.211 | elasticsearchkibanajdk8\nefk-node2 | 192.168.20.212 | elasticsearchcerebrojdk8\nreal-server | 192.168.20.250 | filebeat\n\n## \n### JDK\nelasticsearchjdk7.0.1JDKJDK`efk-node1``efk-node2`\n```bash\n# JDK\n$ wget https://download.oracle.com/otn/java/jdk/8u171-b12/478a62b7d4e34b78b671c754eaaf38ab/jdk-8u171-linux-x64.tar.gz\n\n$ tar zxvf jdk-8u171-linux-x64.tar.gz -C /usr/local/\n\n$ cat >> /etc/profile << EOF\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport PATH=$JAVA_HOME/bin:$PATH\nEOF\n\n$ source /etc/profile\n\n# JDK, JDK\n$ java -version\njava version \"1.8.0_171\"\nJava(TM) SE Runtime Environment (build 1.8.0_171-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)\n```\n### \n```bash\n$ cat >> /etc/security/limits.conf << EOF\n * soft nofile 655350\n * hard nofile 655350\n * soft nproc 655350\n * hard nproc 655350\nEOF\n```\n### \n```bash\n$ cat > /etc/security/limits.d/20-nproc.conf << EOF\n*          soft    nproc     4096\nroot       soft    nproc     unlimited\nEOF\n```\n### nmap\n```bash\n$ cat >> /etc/sysctl.conf << EOF\nvm.max_map_count=262144\nEOF\n\n$  sysctl -p\n```\n### host\n```bash\ncat >> /etc/hosts << EOF\nefk-node1 192.168.20.211\nefk-node2 192.168.20.212\nreal-server 192.168.20.250\nEOF\n```\n## elasticsearch\n`efk-node1``efk-node2`\n### \n```bash\n# elastic\n$ mkdir /elastic && cd /elastic\n\n# elasticsearch tar\n$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz\n```\n### \n\n```bash\n$ cat elasticsearch-7.0.1/config/elasticsearch.yml | egrep -v \"^$|^#\"\n  cluster.name: efk-cluster     # \n  node.name: efk-node1          # 212efk-node2\n  path.data: /var/lib/elasticsearch     # elasticsearch\n  path.logs: /var/log/elasticsearch     # elasticsearch\n  network.host: 0.0.0.0                 # elasticsearch\n  http.port: 9200                       # elasticsearch\n  discovery.seed_hosts: [\"efk-node1\", \"efk-node2\"]  #\n  cluster.initial_master_nodes: [\"efk-node1\", \"efk-node2\"]  #\n  xpack.security.enabled: true          # ssl\\tls\n  xpack.security.transport.ssl.enabled: true    # ssl\\tls\n```\n### elasticsearch\n> elasticsearchrootelasticsearch\n\n```bash\n$ useradd elastic\n$ passwd elastic\n```\n### \n```bash\n$ mkdir /var/log/elasticsearch      # \n\n$ mkdir /var/lib/elasticsearch      # \n\n$ touch /var/run/elasticsearch.pid  # \n\n$ chown -R elastic.elastic /elastic # elastic\n$ chown -R elastic.elastic /var/log/elasticsearch && \\\nchown -R elastic.elastic /var/lib/elasticsearch && \\\nchown -R elastic.elastic /var/run/elasticsearch.pid   # elasticsearch\n```\n### elasticsearch systemctl\n```bash\n[Unit]\nDescription=Elasticsearch\nDocumentation=http://www.elastic.co\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nEnvironment=JAVA_HOME=/usr/local/jdk1.8.0_171\nUser=elastic\nGroup=elastic\nExecStart=/elastic/elasticsearch-7.0.1/bin/elasticsearch -p /var/run/elasticsearch.pid\n\nLimitNOFILE=65535\nLimitNPROC=65535\nLimitAS=infinity\nLimitFSIZE=infinity\n\n[Install]\nWantedBy=multi-user.target\n```\n### elasticsearch\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start elasticsearch     # elasticsearch\n\n$ systemctl enable elasticsearch    # elasticsearch\n```\n>**Tips**: elasticsearch7.0.1X-Pack[X-pack](https://www.ipyker.com/2019/03/13/elastic-x-pack/)\n\n### \nelasticsearch`9200``9300`\n`9200`: web`9300`\n```bash\n# master*\n$ curl http://192.168.20.211:9200/_cat/nodes?v\nip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name\n192.168.20.212           10          39   0    0.00    0.01     0.05 mdi       -      efk-node2\n192.168.20.211           18          37   0    0.00    0.01     0.05 mdi       *      efk-node1\n\n# statusgreen\n$ curl http://192.168.20.211:9200/_cat/health?v\nepoch      timestamp cluster        status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent\n1558517253 09:27:33  efk-cluster green           2         2      6   3    0    0        0             0                  -                100.0%\n```\n{% note success %}elasticsearch2/var/lib/elasticsearchelasticsearch REST API\n[cluster apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cluster.html) [_cat apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cat.html) [Search apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/search.html) [Document apis](https://www.elastic.co/guide/en/elasticsearch/reference/7.0/docs.html) {% endnote %}\n##  Kibana\n`efk-node1`\n### \n```bash\n# elastic\n$ cd /elastic\n\n# kibana tar\n$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf kibana-7.0.1-linux-x86_64.tar.gz\n```\n### \n\n```bash\n$ cat kibana-7.0.1-linux-x86_64/config/kibana.yml | egrep -v \"^$|^#\"\n  server.port: 5601           # kibana\n  server.host: \"0.0.0.0\"      # kibana\n  elasticsearch.hosts: [\"http://192.168.20.201:9200\"]  # eskibana\n  elasticsearch.username: \"elastic\"            # esX-pack\n  elasticsearch.password: \"pyker123456\"        # esX-pack\n  elasticsearch.logQueries: true               # ESlogging.json: true\n  pid.file: /var/run/kibana.pid                # kibanaid\n  logging.dest: /var/log/kibana.log            # kibana\n  logging.json: true                           # json\n  logging.verbose: true                        # \n  i18n.locale: \"zh-CN\"                         # kibana\n```\n### \n```bash\n$ touch /var/log/kibana.log      # \n\n$ touch /var/run/kibana.pid      # \n\n$ chown -R elastic.elastic /elastic && \\\nchown -R elastic.elastic /var/log/kibana.log && \\\nchown -R elastic.elastic /var/run/kibana.pid     # elastic\n```\n>TipsKibanarootelasticsearchelastic\n\n### kibana systemctl\n```bash\n[Unit]\nDescription=Kibana\nDocumentation=http://www.elastic.co\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=elastic\nGroup=elastic\nExecStart=/elastic/kibana-7.0.1-linux-x86_64/bin/kibana\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n### kibana\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start kibana            # kibana\n\n$ systemctl enable kibana           # kibana\n```\n> Kibana5601`http://192.168.20.211:5601`kibana\n\n## cerebro\ncerebroScalaPlay FrameworkAngularJSBootstrapMITelasticsearch web[Github](https://github.com/lmenezes/cerebro)\n`efk-node2`\n### \nhttps://github.com/lmenezes/cerebro/releases cerebro\n```json\n$ tar zxvf cerebro-0.8.3.tgz\n$ vim cerebro-0.8.3/conf/application.conf  \n# cerebro\nauth={\n    type: basic\n    settings: {\n        username=\"admin\"\n        password=\"pyker123456\"\n    }\n}\n# elasticsearch\nhosts = [\n  {\n    host = \"http://192.168.20.211:9200\"\n    name = \"efk-cluster\"\n  },\n```\n### cerebro systemctl\n```bash\n[Unit]\nDescription=Cerebro\nAfter=network.target\n\n[Service]\nEnvironment=JAVA_HOME=/usr/local/jdk1.8.0_171\nUser=elastic\nGroup=elastic\nLimitNOFILE=65535\nExecStart=/elastic/cerebro-0.8.3/bin/cerebro -Dconfig.file=/elastic/cerebro-0.8.3/conf/application.conf -Dhttp.port=1234\nRestart=on-failure\nWorkingDirectory=/elastic/cerebro-0.8.3\n\n[Install]\nWantedBy=multi-user.target\n```\n### cerebro\n```bash\n# 9000\n$ nohup ./bin/cerebro -Dhttp.port=1234 -Dhttp.address=192.168.20.212 &\n```\n### systemctlcerebro\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start cerebro           # cerebro\n\n$ systemctl enable cerebro          # cerebro\n```\n### cerebro\n`http://192.168.20.212:1234`cerebroes\n![](/images/pic/cerebro.png)\n\n## filebeat\n[](https://www.ipyker.com/2019/03/14/filebeat/)filebeat`real-server`\n### \n```bash\n# elastic\n$ mkdir /elastic &&& cd /elastic\n\n# kibana tar\n$ wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.0.1-linux-x86_64.tar.gz\n\n# /elastic\n$ tar zxvf filebeat-7.0.1-linux-x86_64.tar.gz\n```\n>{% label info@filebeattomcatnginx %}\n### \n#### tomcat\n[](https://www.ipyker.com/2019/03/14/filebeat/)\n```yaml\n$ cat filebeat-7.0.1-linux-x86_64/filebeat.yml\nfilebeat.inputs:\n- type: log\n  enabled: true\n  paths:\n    - /usr/local/tomcat/logs/catalina.out   # tomcatcatalina.out\n  fields:\n    log_topic: tomcat_access_logs\n  exclude_lines: ['ping']\n  multiline.pattern: '^[[:space:]]+|^Caused by:'\n  multiline.negate: false\n  multiline.match: after\n  ignore_older: 0\n  close_inactive: 2m\n\n- type: log\n  enabled: true\n  paths:\n    - /usr/local/tomcat/logs/localhost_access.*  # tomcatlocalhost_access\n  fields:\n    log_topic: tomcat_catalina_logs\nfilebeat.config.modules:\n  path: ${path.config}/modules.d/*.yml\n  reload.enabled: true\nsetup.template.settings:\n  index.number_of_shards: 1\nsetup.kibana:\n  host: \"192.168.20.211:5601\"\noutput.elasticsearch:     # ESlogstashkafka\n  hosts: [\"192.168.20.211:9200\"]\n  #protocol: \"https\"\n  username: \"elastic\"\n  password: \"pyker123456\"\nprocessors:\n  - add_host_metadata: ~\n  - add_cloud_metadata: ~\n```\n>{% label warning@catalina.outlocalhost_accessfilebeat %}\n\n#### nginx\nfilebeatnginxredisapacheIISkafkafilebeat`module``modules.d`\n```yaml\n$ cat /elastic/filebeat-7.0.1-linux-x86_64/modules.d/nginx.yml.disabled\n- module: nginx\n  access:\n    enabled: true\n    var.paths: [\"/data/wwwlogs/access.log*\"]  # nginx\n  error:\n    enabled: true\n    var.paths: [\"/data/wwwlogs/error_nginx.log*\"]  # nginx\n```\n\n#### nginx\n```bash\n$ cd /elastic/filebeat-7.0.1-linux-x86_64\n$ ./filebeat modules enable nginx \n\n$ ./filebeat modules list     # \nEnabled:\nnginx\nsystem\n\nDisabled\napache\nauditd\n...\n```\n### filebeat systemctl\n```bash\n[Unit]\nDescription=Filebeat sends log files to Logstash or directly to Elasticsearch.\nDocumentation=https://www.elastic.co/products/beats/filebeat\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nExecStart=/elastic/filebeat-7.0.1-linux-x86_64/filebeat -c /elastic/filebeat-7.0.1-linux-x86_64/filebeat.yml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n### filebeat\n```bash\n$ systemctl daemon-reload           # systemctl\n\n$ systemctl start filebeat            # filebeat\n\n$ systemctl enable filebeat           # filebeat\n```\nEFK filebeatelasticsearchkafkalogstashkafka\n\n**kibana[](https://www.elastic.co/guide/cn/kibana/current/introduction.html)**","slug":"install-efk","published":1,"updated":"2019-05-26T05:08:02.455Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0o002fp4n7d54m45ap","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>elastic stack</code><code>7.0.1</code>7.1<a href=\"https://www.elastic.co/cn/downloads/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>efk-node1</td>\n<td>192.168.20.211</td>\n<td>elasticsearchkibanajdk8</td>\n</tr>\n<tr>\n<td>efk-node2</td>\n<td>192.168.20.212</td>\n<td>elasticsearchcerebrojdk8</td>\n</tr>\n<tr>\n<td>real-server</td>\n<td>192.168.20.250</td>\n<td>filebeat</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h3><p>elasticsearchjdk7.0.1JDKJDK<code>efk-node1</code><code>efk-node2</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># JDK</span></span><br><span class=\"line\">$ wget https://download.oracle.com/otn/java/jdk/8u171-b12/478a62b7d4e34b78b671c754eaaf38ab/jdk-8u171-linux-x64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">$ tar zxvf jdk-8u171-linux-x64.tar.gz -C /usr/<span class=\"built_in\">local</span>/</span><br><span class=\"line\"></span><br><span class=\"line\">$ cat &gt;&gt; /etc/profile &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\"><span class=\"built_in\">export</span> CLASSPATH=.:<span class=\"variable\">$JAVA_HOME</span>/lib/dt.jar:<span class=\"variable\">$JAVA_HOME</span>/lib/tools.jar</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$JAVA_HOME</span>/bin:<span class=\"variable\">$PATH</span></span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># JDK, JDK</span></span><br><span class=\"line\">$ java -version</span><br><span class=\"line\">java version <span class=\"string\">\"1.8.0_171\"</span></span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_171-b11)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt;&gt; /etc/security/limits.conf &lt;&lt; EOF</span><br><span class=\"line\"> * soft nofile 655350</span><br><span class=\"line\"> * hard nofile 655350</span><br><span class=\"line\"> * soft nproc 655350</span><br><span class=\"line\"> * hard nproc 655350</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /etc/security/limits.d/20-nproc.conf &lt;&lt; EOF</span><br><span class=\"line\">*          soft    nproc     4096</span><br><span class=\"line\">root       soft    nproc     unlimited</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"nmap\"><a href=\"#nmap\" class=\"headerlink\" title=\"nmap\"></a>nmap</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF</span><br><span class=\"line\">vm.max_map_count=262144</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">$  sysctl -p</span><br></pre></td></tr></table></figure>\n<h3 id=\"host\"><a href=\"#host\" class=\"headerlink\" title=\"host\"></a>host</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt;&gt; /etc/hosts &lt;&lt; EOF</span><br><span class=\"line\">efk-node1 192.168.20.211</span><br><span class=\"line\">efk-node2 192.168.20.212</span><br><span class=\"line\">real-server 192.168.20.250</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p><code>efk-node1</code><code>efk-node2</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ mkdir /elastic &amp;&amp; <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># elasticsearch tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat elasticsearch-7.0.1/config/elasticsearch.yml | egrep -v <span class=\"string\">\"^$|^#\"</span></span><br><span class=\"line\">  cluster.name: efk-cluster     <span class=\"comment\"># </span></span><br><span class=\"line\">  node.name: efk-node1          <span class=\"comment\"># 212efk-node2</span></span><br><span class=\"line\">  path.data: /var/lib/elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  path.logs: /var/<span class=\"built_in\">log</span>/elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  network.host: 0.0.0.0                 <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  http.port: 9200                       <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  discovery.seed_hosts: [<span class=\"string\">\"efk-node1\"</span>, <span class=\"string\">\"efk-node2\"</span>]  <span class=\"comment\">#</span></span><br><span class=\"line\">  cluster.initial_master_nodes: [<span class=\"string\">\"efk-node1\"</span>, <span class=\"string\">\"efk-node2\"</span>]  <span class=\"comment\">#</span></span><br><span class=\"line\">  xpack.security.enabled: <span class=\"literal\">true</span>          <span class=\"comment\"># ssl\\tls</span></span><br><span class=\"line\">  xpack.security.transport.ssl.enabled: <span class=\"literal\">true</span>    <span class=\"comment\"># ssl\\tls</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h3><blockquote>\n<p>elasticsearchrootelasticsearch</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ useradd elastic</span><br><span class=\"line\">$ passwd elastic</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir /var/<span class=\"built_in\">log</span>/elasticsearch      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ mkdir /var/lib/elasticsearch      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ touch /var/run/elasticsearch.pid  <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ chown -R elastic.elastic /elastic <span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ chown -R elastic.elastic /var/<span class=\"built_in\">log</span>/elasticsearch &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/lib/elasticsearch &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/run/elasticsearch.pid   <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"elasticsearch-systemctl\"><a href=\"#elasticsearch-systemctl\" class=\"headerlink\" title=\"elasticsearch systemctl\"></a>elasticsearch systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Elasticsearch</span><br><span class=\"line\">Documentation=http://www.elastic.co</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Environment=JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">ExecStart=/elastic/elasticsearch-7.0.1/bin/elasticsearch -p /var/run/elasticsearch.pid</span><br><span class=\"line\"></span><br><span class=\"line\">LimitNOFILE=65535</span><br><span class=\"line\">LimitNPROC=65535</span><br><span class=\"line\">LimitAS=infinity</span><br><span class=\"line\">LimitFSIZE=infinity</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> elasticsearch    <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>Tips</strong>: elasticsearch7.0.1X-Pack<a href=\"https://www.ipyker.com/2019/03/13/elastic-x-pack/\">X-pack</a></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>elasticsearch<code>9200</code><code>9300</code><br><code>9200</code>: web<code>9300</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># master*</span></span><br><span class=\"line\">$ curl http://192.168.20.211:9200/_cat/nodes?v</span><br><span class=\"line\">ip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name</span><br><span class=\"line\">192.168.20.212           10          39   0    0.00    0.01     0.05 mdi       -      efk-node2</span><br><span class=\"line\">192.168.20.211           18          37   0    0.00    0.01     0.05 mdi       *      efk-node1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># statusgreen</span></span><br><span class=\"line\">$ curl http://192.168.20.211:9200/_cat/health?v</span><br><span class=\"line\">epoch      timestamp cluster        status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent</span><br><span class=\"line\">1558517253 09:27:33  efk-cluster green           2         2      6   3    0    0        0             0                  -                100.0%</span><br></pre></td></tr></table></figure></p>\n<div class=\"note success\">\n            <p>elasticsearch2/var/lib/elasticsearchelasticsearch REST API<br><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cluster.html\" target=\"_blank\" rel=\"noopener\">cluster apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cat.html\" target=\"_blank\" rel=\"noopener\">_cat apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/search.html\" target=\"_blank\" rel=\"noopener\">Search apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/docs.html\" target=\"_blank\" rel=\"noopener\">Document apis</a> </p>\n          </div>\n<h2 id=\"-Kibana\"><a href=\"#-Kibana\" class=\"headerlink\" title=\" Kibana\"></a> Kibana</h2><p><code>efk-node1</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># kibana tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf kibana-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat kibana-7.0.1-linux-x86_64/config/kibana.yml | egrep -v <span class=\"string\">\"^$|^#\"</span></span><br><span class=\"line\">  server.port: 5601           <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  server.host: <span class=\"string\">\"0.0.0.0\"</span>      <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  elasticsearch.hosts: [<span class=\"string\">\"http://192.168.20.201:9200\"</span>]  <span class=\"comment\"># eskibana</span></span><br><span class=\"line\">  elasticsearch.username: <span class=\"string\">\"elastic\"</span>            <span class=\"comment\"># esX-pack</span></span><br><span class=\"line\">  elasticsearch.password: <span class=\"string\">\"pyker123456\"</span>        <span class=\"comment\"># esX-pack</span></span><br><span class=\"line\">  elasticsearch.logQueries: <span class=\"literal\">true</span>               <span class=\"comment\"># ESlogging.json: true</span></span><br><span class=\"line\">  pid.file: /var/run/kibana.pid                <span class=\"comment\"># kibanaid</span></span><br><span class=\"line\">  logging.dest: /var/<span class=\"built_in\">log</span>/kibana.log            <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  logging.json: <span class=\"literal\">true</span>                           <span class=\"comment\"># json</span></span><br><span class=\"line\">  logging.verbose: <span class=\"literal\">true</span>                        <span class=\"comment\"># </span></span><br><span class=\"line\">  i18n.locale: <span class=\"string\">\"zh-CN\"</span>                         <span class=\"comment\"># kibana</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ touch /var/<span class=\"built_in\">log</span>/kibana.log      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ touch /var/run/kibana.pid      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ chown -R elastic.elastic /elastic &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/<span class=\"built_in\">log</span>/kibana.log &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/run/kibana.pid     <span class=\"comment\"># elastic</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>TipsKibanarootelasticsearchelastic</p>\n</blockquote>\n<h3 id=\"kibana-systemctl\"><a href=\"#kibana-systemctl\" class=\"headerlink\" title=\"kibana systemctl\"></a>kibana systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Kibana</span><br><span class=\"line\">Documentation=http://www.elastic.co</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">ExecStart=/elastic/kibana-7.0.1-linux-x86_64/bin/kibana</span><br><span class=\"line\">Restart=always</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"kibana\"><a href=\"#kibana\" class=\"headerlink\" title=\"kibana\"></a>kibana</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start kibana            <span class=\"comment\"># kibana</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> kibana           <span class=\"comment\"># kibana</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>Kibana5601<code>http://192.168.20.211:5601</code>kibana</p>\n</blockquote>\n<h2 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h2><p>cerebroScalaPlay FrameworkAngularJSBootstrapMITelasticsearch web<a href=\"https://github.com/lmenezes/cerebro\" target=\"_blank\" rel=\"noopener\">Github</a><br><code>efk-node2</code></p>\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/lmenezes/cerebro/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/lmenezes/cerebro/releases</a> cerebro<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf cerebro-0.8.3.tgz</span><br><span class=\"line\">$ vim cerebro-0.8.3/conf/application.conf  </span><br><span class=\"line\"># cerebro</span><br><span class=\"line\">auth=&#123;</span><br><span class=\"line\">    type: basic</span><br><span class=\"line\">    settings: &#123;</span><br><span class=\"line\">        username=\"admin\"</span><br><span class=\"line\">        password=\"pyker123456\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># elasticsearch</span><br><span class=\"line\">hosts = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    host = \"http://192.168.20.211:9200\"</span><br><span class=\"line\">    name = \"efk-cluster\"</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"cerebro-systemctl\"><a href=\"#cerebro-systemctl\" class=\"headerlink\" title=\"cerebro systemctl\"></a>cerebro systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Cerebro</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Environment=JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">LimitNOFILE=65535</span><br><span class=\"line\">ExecStart=/elastic/cerebro-0.8.3/bin/cerebro -Dconfig.file=/elastic/cerebro-0.8.3/conf/application.conf -Dhttp.port=1234</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">WorkingDirectory=/elastic/cerebro-0.8.3</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 9000</span></span><br><span class=\"line\">$ nohup ./bin/cerebro -Dhttp.port=1234 -Dhttp.address=192.168.20.212 &amp;</span><br></pre></td></tr></table></figure>\n<h3 id=\"systemctlcerebro\"><a href=\"#systemctlcerebro\" class=\"headerlink\" title=\"systemctlcerebro\"></a>systemctlcerebro</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start cerebro           <span class=\"comment\"># cerebro</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> cerebro          <span class=\"comment\"># cerebro</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h3><p><code>http://192.168.20.212:1234</code>cerebroes<br><img src=\"/images/pic/cerebro.png\" alt></p>\n<h2 id=\"filebeat\"><a href=\"#filebeat\" class=\"headerlink\" title=\"filebeat\"></a>filebeat</h2><p><a href=\"https://www.ipyker.com/2019/03/14/filebeat/\"></a>filebeat<code>real-server</code></p>\n<h3 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ mkdir /elastic &amp;&amp;&amp; <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># kibana tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf filebeat-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<blockquote>\n<span class=\"label info\">filebeattomcatnginx</span>\n</blockquote>\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"tomcat\"><a href=\"#tomcat\" class=\"headerlink\" title=\"tomcat\"></a>tomcat</h4><p><a href=\"https://www.ipyker.com/2019/03/14/filebeat/\"></a><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">filebeat-7.0.1-linux-x86_64/filebeat.yml</span></span><br><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/usr/local/tomcat/logs/catalina.out</span>   <span class=\"comment\"># tomcatcatalina.out</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    log_topic:</span> <span class=\"string\">tomcat_access_logs</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['ping']</span></span><br><span class=\"line\">  <span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]+|^Caused by:'</span></span><br><span class=\"line\">  <span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br><span class=\"line\"><span class=\"attr\">  ignore_older:</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">  close_inactive:</span> <span class=\"number\">2</span><span class=\"string\">m</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/usr/local/tomcat/logs/localhost_access.*</span>  <span class=\"comment\"># tomcatlocalhost_access</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    log_topic:</span> <span class=\"string\">tomcat_catalina_logs</span></span><br><span class=\"line\"><span class=\"string\">filebeat.config.modules:</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br><span class=\"line\">  <span class=\"string\">reload.enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">setup.template.settings:</span></span><br><span class=\"line\">  <span class=\"string\">index.number_of_shards:</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"string\">setup.kibana:</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span> <span class=\"string\">\"192.168.20.211:5601\"</span></span><br><span class=\"line\"><span class=\"string\">output.elasticsearch:</span>     <span class=\"comment\"># ESlogstashkafka</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"192.168.20.211:9200\"]</span></span><br><span class=\"line\">  <span class=\"comment\">#protocol: \"https\"</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"elastic\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"pyker123456\"</span></span><br><span class=\"line\"><span class=\"attr\">processors:</span></span><br><span class=\"line\"><span class=\"attr\">  - add_host_metadata:</span> <span class=\"string\">~</span></span><br><span class=\"line\"><span class=\"attr\">  - add_cloud_metadata:</span> <span class=\"string\">~</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<span class=\"label warning\">catalina.outlocalhost_accessfilebeat</span>\n</blockquote>\n<h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><p>filebeatnginxredisapacheIISkafkafilebeat<code>module</code><code>modules.d</code><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/elastic/filebeat-7.0.1-linux-x86_64/modules.d/nginx.yml.disabled</span></span><br><span class=\"line\"><span class=\"attr\">- module:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  access:</span></span><br><span class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"string\">var.paths:</span> <span class=\"string\">[\"/data/wwwlogs/access.log*\"]</span>  <span class=\"comment\"># nginx</span></span><br><span class=\"line\"><span class=\"attr\">  error:</span></span><br><span class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"string\">var.paths:</span> <span class=\"string\">[\"/data/wwwlogs/error_nginx.log*\"]</span>  <span class=\"comment\"># nginx</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /elastic/filebeat-7.0.1-linux-x86_64</span><br><span class=\"line\">$ ./filebeat modules <span class=\"built_in\">enable</span> nginx </span><br><span class=\"line\"></span><br><span class=\"line\">$ ./filebeat modules list     <span class=\"comment\"># </span></span><br><span class=\"line\">Enabled:</span><br><span class=\"line\">nginx</span><br><span class=\"line\">system</span><br><span class=\"line\"></span><br><span class=\"line\">Disabled</span><br><span class=\"line\">apache</span><br><span class=\"line\">auditd</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<h3 id=\"filebeat-systemctl\"><a href=\"#filebeat-systemctl\" class=\"headerlink\" title=\"filebeat systemctl\"></a>filebeat systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Filebeat sends <span class=\"built_in\">log</span> files to Logstash or directly to Elasticsearch.</span><br><span class=\"line\">Documentation=https://www.elastic.co/products/beats/filebeat</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">ExecStart=/elastic/filebeat-7.0.1-linux-x86_64/filebeat -c /elastic/filebeat-7.0.1-linux-x86_64/filebeat.yml</span><br><span class=\"line\">Restart=always</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"filebeat\"><a href=\"#filebeat\" class=\"headerlink\" title=\"filebeat\"></a>filebeat</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start filebeat            <span class=\"comment\"># filebeat</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> filebeat           <span class=\"comment\"># filebeat</span></span><br></pre></td></tr></table></figure>\n<p>EFK filebeatelasticsearchkafkalogstashkafka</p>\n<p><strong>kibana<a href=\"https://www.elastic.co/guide/cn/kibana/current/introduction.html\" target=\"_blank\" rel=\"noopener\"></a></strong></p>\n","site":{"data":{}},"length":10369,"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>elastic stack</code><code>7.0.1</code>7.1<a href=\"https://www.elastic.co/cn/downloads/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>efk-node1</td>\n<td>192.168.20.211</td>\n<td>elasticsearchkibanajdk8</td>\n</tr>\n<tr>\n<td>efk-node2</td>\n<td>192.168.20.212</td>\n<td>elasticsearchcerebrojdk8</td>\n</tr>\n<tr>\n<td>real-server</td>\n<td>192.168.20.250</td>\n<td>filebeat</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h3><p>elasticsearchjdk7.0.1JDKJDK<code>efk-node1</code><code>efk-node2</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># JDK</span></span><br><span class=\"line\">$ wget https://download.oracle.com/otn/java/jdk/8u171-b12/478a62b7d4e34b78b671c754eaaf38ab/jdk-8u171-linux-x64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\">$ tar zxvf jdk-8u171-linux-x64.tar.gz -C /usr/<span class=\"built_in\">local</span>/</span><br><span class=\"line\"></span><br><span class=\"line\">$ cat &gt;&gt; /etc/profile &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\"><span class=\"built_in\">export</span> CLASSPATH=.:<span class=\"variable\">$JAVA_HOME</span>/lib/dt.jar:<span class=\"variable\">$JAVA_HOME</span>/lib/tools.jar</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$JAVA_HOME</span>/bin:<span class=\"variable\">$PATH</span></span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">$ <span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># JDK, JDK</span></span><br><span class=\"line\">$ java -version</span><br><span class=\"line\">java version <span class=\"string\">\"1.8.0_171\"</span></span><br><span class=\"line\">Java(TM) SE Runtime Environment (build 1.8.0_171-b11)</span><br><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt;&gt; /etc/security/limits.conf &lt;&lt; EOF</span><br><span class=\"line\"> * soft nofile 655350</span><br><span class=\"line\"> * hard nofile 655350</span><br><span class=\"line\"> * soft nproc 655350</span><br><span class=\"line\"> * hard nproc 655350</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /etc/security/limits.d/20-nproc.conf &lt;&lt; EOF</span><br><span class=\"line\">*          soft    nproc     4096</span><br><span class=\"line\">root       soft    nproc     unlimited</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"nmap\"><a href=\"#nmap\" class=\"headerlink\" title=\"nmap\"></a>nmap</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF</span><br><span class=\"line\">vm.max_map_count=262144</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">$  sysctl -p</span><br></pre></td></tr></table></figure>\n<h3 id=\"host\"><a href=\"#host\" class=\"headerlink\" title=\"host\"></a>host</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt;&gt; /etc/hosts &lt;&lt; EOF</span><br><span class=\"line\">efk-node1 192.168.20.211</span><br><span class=\"line\">efk-node2 192.168.20.212</span><br><span class=\"line\">real-server 192.168.20.250</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h2 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h2><p><code>efk-node1</code><code>efk-node2</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ mkdir /elastic &amp;&amp; <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># elasticsearch tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf elasticsearch-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat elasticsearch-7.0.1/config/elasticsearch.yml | egrep -v <span class=\"string\">\"^$|^#\"</span></span><br><span class=\"line\">  cluster.name: efk-cluster     <span class=\"comment\"># </span></span><br><span class=\"line\">  node.name: efk-node1          <span class=\"comment\"># 212efk-node2</span></span><br><span class=\"line\">  path.data: /var/lib/elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  path.logs: /var/<span class=\"built_in\">log</span>/elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  network.host: 0.0.0.0                 <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  http.port: 9200                       <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\">  discovery.seed_hosts: [<span class=\"string\">\"efk-node1\"</span>, <span class=\"string\">\"efk-node2\"</span>]  <span class=\"comment\">#</span></span><br><span class=\"line\">  cluster.initial_master_nodes: [<span class=\"string\">\"efk-node1\"</span>, <span class=\"string\">\"efk-node2\"</span>]  <span class=\"comment\">#</span></span><br><span class=\"line\">  xpack.security.enabled: <span class=\"literal\">true</span>          <span class=\"comment\"># ssl\\tls</span></span><br><span class=\"line\">  xpack.security.transport.ssl.enabled: <span class=\"literal\">true</span>    <span class=\"comment\"># ssl\\tls</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h3><blockquote>\n<p>elasticsearchrootelasticsearch</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ useradd elastic</span><br><span class=\"line\">$ passwd elastic</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir /var/<span class=\"built_in\">log</span>/elasticsearch      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ mkdir /var/lib/elasticsearch      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ touch /var/run/elasticsearch.pid  <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ chown -R elastic.elastic /elastic <span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ chown -R elastic.elastic /var/<span class=\"built_in\">log</span>/elasticsearch &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/lib/elasticsearch &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/run/elasticsearch.pid   <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"elasticsearch-systemctl\"><a href=\"#elasticsearch-systemctl\" class=\"headerlink\" title=\"elasticsearch systemctl\"></a>elasticsearch systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Elasticsearch</span><br><span class=\"line\">Documentation=http://www.elastic.co</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Environment=JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">ExecStart=/elastic/elasticsearch-7.0.1/bin/elasticsearch -p /var/run/elasticsearch.pid</span><br><span class=\"line\"></span><br><span class=\"line\">LimitNOFILE=65535</span><br><span class=\"line\">LimitNPROC=65535</span><br><span class=\"line\">LimitAS=infinity</span><br><span class=\"line\">LimitFSIZE=infinity</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"elasticsearch\"><a href=\"#elasticsearch\" class=\"headerlink\" title=\"elasticsearch\"></a>elasticsearch</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start elasticsearch     <span class=\"comment\"># elasticsearch</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> elasticsearch    <span class=\"comment\"># elasticsearch</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>Tips</strong>: elasticsearch7.0.1X-Pack<a href=\"https://www.ipyker.com/2019/03/13/elastic-x-pack/\">X-pack</a></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>elasticsearch<code>9200</code><code>9300</code><br><code>9200</code>: web<code>9300</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># master*</span></span><br><span class=\"line\">$ curl http://192.168.20.211:9200/_cat/nodes?v</span><br><span class=\"line\">ip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name</span><br><span class=\"line\">192.168.20.212           10          39   0    0.00    0.01     0.05 mdi       -      efk-node2</span><br><span class=\"line\">192.168.20.211           18          37   0    0.00    0.01     0.05 mdi       *      efk-node1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># statusgreen</span></span><br><span class=\"line\">$ curl http://192.168.20.211:9200/_cat/health?v</span><br><span class=\"line\">epoch      timestamp cluster        status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent</span><br><span class=\"line\">1558517253 09:27:33  efk-cluster green           2         2      6   3    0    0        0             0                  -                100.0%</span><br></pre></td></tr></table></figure></p>\n<div class=\"note success\">\n            <p>elasticsearch2/var/lib/elasticsearchelasticsearch REST API<br><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cluster.html\" target=\"_blank\" rel=\"noopener\">cluster apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/cat.html\" target=\"_blank\" rel=\"noopener\">_cat apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/search.html\" target=\"_blank\" rel=\"noopener\">Search apis</a> <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.0/docs.html\" target=\"_blank\" rel=\"noopener\">Document apis</a> </p>\n          </div>\n<h2 id=\"-Kibana\"><a href=\"#-Kibana\" class=\"headerlink\" title=\" Kibana\"></a> Kibana</h2><p><code>efk-node1</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># kibana tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf kibana-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat kibana-7.0.1-linux-x86_64/config/kibana.yml | egrep -v <span class=\"string\">\"^$|^#\"</span></span><br><span class=\"line\">  server.port: 5601           <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  server.host: <span class=\"string\">\"0.0.0.0\"</span>      <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  elasticsearch.hosts: [<span class=\"string\">\"http://192.168.20.201:9200\"</span>]  <span class=\"comment\"># eskibana</span></span><br><span class=\"line\">  elasticsearch.username: <span class=\"string\">\"elastic\"</span>            <span class=\"comment\"># esX-pack</span></span><br><span class=\"line\">  elasticsearch.password: <span class=\"string\">\"pyker123456\"</span>        <span class=\"comment\"># esX-pack</span></span><br><span class=\"line\">  elasticsearch.logQueries: <span class=\"literal\">true</span>               <span class=\"comment\"># ESlogging.json: true</span></span><br><span class=\"line\">  pid.file: /var/run/kibana.pid                <span class=\"comment\"># kibanaid</span></span><br><span class=\"line\">  logging.dest: /var/<span class=\"built_in\">log</span>/kibana.log            <span class=\"comment\"># kibana</span></span><br><span class=\"line\">  logging.json: <span class=\"literal\">true</span>                           <span class=\"comment\"># json</span></span><br><span class=\"line\">  logging.verbose: <span class=\"literal\">true</span>                        <span class=\"comment\"># </span></span><br><span class=\"line\">  i18n.locale: <span class=\"string\">\"zh-CN\"</span>                         <span class=\"comment\"># kibana</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ touch /var/<span class=\"built_in\">log</span>/kibana.log      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ touch /var/run/kibana.pid      <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">$ chown -R elastic.elastic /elastic &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/<span class=\"built_in\">log</span>/kibana.log &amp;&amp; \\</span><br><span class=\"line\">chown -R elastic.elastic /var/run/kibana.pid     <span class=\"comment\"># elastic</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>TipsKibanarootelasticsearchelastic</p>\n</blockquote>\n<h3 id=\"kibana-systemctl\"><a href=\"#kibana-systemctl\" class=\"headerlink\" title=\"kibana systemctl\"></a>kibana systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Kibana</span><br><span class=\"line\">Documentation=http://www.elastic.co</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">ExecStart=/elastic/kibana-7.0.1-linux-x86_64/bin/kibana</span><br><span class=\"line\">Restart=always</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"kibana\"><a href=\"#kibana\" class=\"headerlink\" title=\"kibana\"></a>kibana</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start kibana            <span class=\"comment\"># kibana</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> kibana           <span class=\"comment\"># kibana</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>Kibana5601<code>http://192.168.20.211:5601</code>kibana</p>\n</blockquote>\n<h2 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h2><p>cerebroScalaPlay FrameworkAngularJSBootstrapMITelasticsearch web<a href=\"https://github.com/lmenezes/cerebro\" target=\"_blank\" rel=\"noopener\">Github</a><br><code>efk-node2</code></p>\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/lmenezes/cerebro/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/lmenezes/cerebro/releases</a> cerebro<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf cerebro-0.8.3.tgz</span><br><span class=\"line\">$ vim cerebro-0.8.3/conf/application.conf  </span><br><span class=\"line\"># cerebro</span><br><span class=\"line\">auth=&#123;</span><br><span class=\"line\">    type: basic</span><br><span class=\"line\">    settings: &#123;</span><br><span class=\"line\">        username=\"admin\"</span><br><span class=\"line\">        password=\"pyker123456\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"># elasticsearch</span><br><span class=\"line\">hosts = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    host = \"http://192.168.20.211:9200\"</span><br><span class=\"line\">    name = \"efk-cluster\"</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"cerebro-systemctl\"><a href=\"#cerebro-systemctl\" class=\"headerlink\" title=\"cerebro systemctl\"></a>cerebro systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Cerebro</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Environment=JAVA_HOME=/usr/<span class=\"built_in\">local</span>/jdk1.8.0_171</span><br><span class=\"line\">User=elastic</span><br><span class=\"line\">Group=elastic</span><br><span class=\"line\">LimitNOFILE=65535</span><br><span class=\"line\">ExecStart=/elastic/cerebro-0.8.3/bin/cerebro -Dconfig.file=/elastic/cerebro-0.8.3/conf/application.conf -Dhttp.port=1234</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">WorkingDirectory=/elastic/cerebro-0.8.3</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 9000</span></span><br><span class=\"line\">$ nohup ./bin/cerebro -Dhttp.port=1234 -Dhttp.address=192.168.20.212 &amp;</span><br></pre></td></tr></table></figure>\n<h3 id=\"systemctlcerebro\"><a href=\"#systemctlcerebro\" class=\"headerlink\" title=\"systemctlcerebro\"></a>systemctlcerebro</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start cerebro           <span class=\"comment\"># cerebro</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> cerebro          <span class=\"comment\"># cerebro</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"cerebro\"><a href=\"#cerebro\" class=\"headerlink\" title=\"cerebro\"></a>cerebro</h3><p><code>http://192.168.20.212:1234</code>cerebroes<br><img src=\"/images/pic/cerebro.png\" alt></p>\n<h2 id=\"filebeat\"><a href=\"#filebeat\" class=\"headerlink\" title=\"filebeat\"></a>filebeat</h2><p><a href=\"https://www.ipyker.com/2019/03/14/filebeat/\"></a>filebeat<code>real-server</code></p>\n<h3 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># elastic</span></span><br><span class=\"line\">$ mkdir /elastic &amp;&amp;&amp; <span class=\"built_in\">cd</span> /elastic</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># kibana tar</span></span><br><span class=\"line\">$ wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.0.1-linux-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /elastic</span></span><br><span class=\"line\">$ tar zxvf filebeat-7.0.1-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>\n<blockquote>\n<span class=\"label info\">filebeattomcatnginx</span>\n</blockquote>\n<h3 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"tomcat\"><a href=\"#tomcat\" class=\"headerlink\" title=\"tomcat\"></a>tomcat</h4><p><a href=\"https://www.ipyker.com/2019/03/14/filebeat/\"></a><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">filebeat-7.0.1-linux-x86_64/filebeat.yml</span></span><br><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/usr/local/tomcat/logs/catalina.out</span>   <span class=\"comment\"># tomcatcatalina.out</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    log_topic:</span> <span class=\"string\">tomcat_access_logs</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['ping']</span></span><br><span class=\"line\">  <span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]+|^Caused by:'</span></span><br><span class=\"line\">  <span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br><span class=\"line\"><span class=\"attr\">  ignore_older:</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">  close_inactive:</span> <span class=\"number\">2</span><span class=\"string\">m</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/usr/local/tomcat/logs/localhost_access.*</span>  <span class=\"comment\"># tomcatlocalhost_access</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    log_topic:</span> <span class=\"string\">tomcat_catalina_logs</span></span><br><span class=\"line\"><span class=\"string\">filebeat.config.modules:</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br><span class=\"line\">  <span class=\"string\">reload.enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">setup.template.settings:</span></span><br><span class=\"line\">  <span class=\"string\">index.number_of_shards:</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"string\">setup.kibana:</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span> <span class=\"string\">\"192.168.20.211:5601\"</span></span><br><span class=\"line\"><span class=\"string\">output.elasticsearch:</span>     <span class=\"comment\"># ESlogstashkafka</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"192.168.20.211:9200\"]</span></span><br><span class=\"line\">  <span class=\"comment\">#protocol: \"https\"</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"elastic\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"pyker123456\"</span></span><br><span class=\"line\"><span class=\"attr\">processors:</span></span><br><span class=\"line\"><span class=\"attr\">  - add_host_metadata:</span> <span class=\"string\">~</span></span><br><span class=\"line\"><span class=\"attr\">  - add_cloud_metadata:</span> <span class=\"string\">~</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<span class=\"label warning\">catalina.outlocalhost_accessfilebeat</span>\n</blockquote>\n<h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><p>filebeatnginxredisapacheIISkafkafilebeat<code>module</code><code>modules.d</code><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/elastic/filebeat-7.0.1-linux-x86_64/modules.d/nginx.yml.disabled</span></span><br><span class=\"line\"><span class=\"attr\">- module:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  access:</span></span><br><span class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"string\">var.paths:</span> <span class=\"string\">[\"/data/wwwlogs/access.log*\"]</span>  <span class=\"comment\"># nginx</span></span><br><span class=\"line\"><span class=\"attr\">  error:</span></span><br><span class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"string\">var.paths:</span> <span class=\"string\">[\"/data/wwwlogs/error_nginx.log*\"]</span>  <span class=\"comment\"># nginx</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /elastic/filebeat-7.0.1-linux-x86_64</span><br><span class=\"line\">$ ./filebeat modules <span class=\"built_in\">enable</span> nginx </span><br><span class=\"line\"></span><br><span class=\"line\">$ ./filebeat modules list     <span class=\"comment\"># </span></span><br><span class=\"line\">Enabled:</span><br><span class=\"line\">nginx</span><br><span class=\"line\">system</span><br><span class=\"line\"></span><br><span class=\"line\">Disabled</span><br><span class=\"line\">apache</span><br><span class=\"line\">auditd</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<h3 id=\"filebeat-systemctl\"><a href=\"#filebeat-systemctl\" class=\"headerlink\" title=\"filebeat systemctl\"></a>filebeat systemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Filebeat sends <span class=\"built_in\">log</span> files to Logstash or directly to Elasticsearch.</span><br><span class=\"line\">Documentation=https://www.elastic.co/products/beats/filebeat</span><br><span class=\"line\">Wants=network-online.target</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">ExecStart=/elastic/filebeat-7.0.1-linux-x86_64/filebeat -c /elastic/filebeat-7.0.1-linux-x86_64/filebeat.yml</span><br><span class=\"line\">Restart=always</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"filebeat\"><a href=\"#filebeat\" class=\"headerlink\" title=\"filebeat\"></a>filebeat</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl daemon-reload           <span class=\"comment\"># systemctl</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start filebeat            <span class=\"comment\"># filebeat</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> filebeat           <span class=\"comment\"># filebeat</span></span><br></pre></td></tr></table></figure>\n<p>EFK filebeatelasticsearchkafkalogstashkafka</p>\n<p><strong>kibana<a href=\"https://www.elastic.co/guide/cn/kibana/current/introduction.html\" target=\"_blank\" rel=\"noopener\"></a></strong></p>\n"},{"layout":"post","title":"Markdown","author":"Pyker","img":"/images/bar/markdown.jpg","top":false,"cover":false,"date":"2017-07-23T02:20:00.000Z","_content":"## \n\n### \n\nMarkdown  Setext  atx \n Setext  =  - \n```\nThis is an H1\n=============\nThis is an H2\n-------------\n```\n Atx  1  6  #  1  6 \n```\n#  H1\n##  H2\n######  H6\n```\n###  Blockquotes\n\n email  > :\n```\n> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n> Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n>\n> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n```\n > \n```\n> This is the first level of quoting.\n>\n> > This is nested blockquote.\n>\n> Back to the first level.\n```\n Markdown \n```\n> ### \n> \n> 1.   \n> 2.   \n> \n> \n> \n>     return shell_exec(\"echo $input | $markdown_script\");\n```\n### \n\nMarkdown \n* \n\n```\n*   Red\n*   Green\n*   Blue\n\n\n+   Red\n+   Green\n+   Blue\n\n\n-   Red\n-   Green\n-   Blue\n```\n\n* \n\n```\n1.  Bird\n2.  McHale\n3.  Parish\n```\n>\n>\n>\t * Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n>\t   Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n>\t   viverra nec, fringilla in, laoreet vitae, risus.\n>\t * Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n>\t   Suspendisse id sem consectetuer libero luctus adipiscing.\n\n>``  4  1 \n>\n>\t 1.  This is a list item with two paragraphs. Lorem ipsum dolor\n>         sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n>         mi posuere lectus.\n>\n>         Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n>         vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n>         sit amet velit.\n>\n>\t 2. Suspendisse id sem consectetuer libero luctus adipiscing.\n\n> > \n>\n>\t * A list item with a blockquote:\n>\n>\t   > This is a blockquote\n>\t   > inside a list item.\n\n>`` 8  2 \n>\n> \t*   \n>\n>         <>\n\n### \n\n Markdown  4  1 \n```\n\n\n    \n```\n>markdownhtml Markdown \n>\n>  \t <div class=\"footer\">\n> \t  \t &copy; 2004 Foo Corporation\n>  \t </div>\n\n Markdown  Markdown  Markdown \n\n### \n\n\n```\n* * *\n\n***\n\n*****\n\n- - -\n```\n### \nmarkdown\n```\n1 | 2 | 3 | n\n----: | :---| :---- | :----\n1 | 1 | 1 | 1\n2 | 2 | 2 | 2\n3 | 3 | 3 | 3\n```\nMarkdown `:---:` `---:`  `:---` `-` \n\n## \n\n### \nMarkdown  `` `` \n [] \n``  title  title \n```\nThis is [an example](http://example.com/ \"Title\") inline link.\n[This link](http://example.net/) has no title attribute.\n```\n> \n>\n>\t See my [About](/about/) page for details.\n\n`` ,\n```\nThis is [an example][id] reference-style link.\n[id]: http://example.com/  \"Optional Title Here\"\n```\n\n\n\n* \n* \n* \n* \n*  title \n\n\n```\n[foo]: http://example.com/  \"Optional Title Here\"\n[foo]: http://example.com/  'Optional Title Here'\n[foo]: http://example.com/  (Optional Title Here)\n```\n****  Markdown.pl 1.0.1  title\n\n### \nMarkdown `*_`  *  _  <em> ` *  _ `  <strong>`*` `~~` \n```\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n***double underscores***\n\n~~double underscores~~\n```\n\n<font color=#FF0000 > *  _ </font>\n>\n>\n>\t \\*this text is surrounded by literal asterisks\\*\n\n### \n* \n\n\\`  \\`\n```\nUse the `printf()` function.\n```\n> \n>\n>\t ``There is a literal backtick (`) here.``\n\n*  \n\n\t  ```\n\t  1\n\t  2\n\t  3\n\t  ```\n\\`\\`\\`~~~\\`\\`\\`\\`\\`\\`bash\\`\\`\\`\n\n**\n\t  \n### \nMarkdown  `` `` \n\n```\n![Alt text](/path/to/img.jpg)\n![Alt text](/path/to/img.jpg \"Optional title\")\n```\n\n\n*  !\n* \n*   'title' \n\n`` \n```\n![Alt text][id]\n[id]: url/to/image  \"Optional title attribute\"\n```\nid\n\n### \nMarkdownHTML`` \nhtml\n```html\n<font face=\"\"></font>\n<font face=\"\"></font>\n<font face=\"STCAIYUN\"></font>\n<font color=#FF0000 size=3 face=\"\">3</font>\n<font color=#00ffff size=72>16</font>\n<font color=gray size=72></font>\n```\n>Size 1  7  3\n16<https://www.114la.com/other/rgb.htm>\n\n### notelabel\nnote\n<div class=\"note default\"><p>default</p></div>\n<div class=\"note primary\"><p>primary</p></div>\n<div class=\"note success\"><p>success</p></div>\n<div class=\"note info\"><p>info</p></div>\n<div class=\"note warning\"><p>warning</p></div>\n<div class=\"note danger\"><p>danger</p></div>\n<div class=\"note danger no-icon\"><p>danger no-icon</p></div>\n```html\n<div class=\"note default\"><p>default</p></div>\n<div class=\"note primary\"><p>primary</p></div>\n<div class=\"note success\"><p>success</p></div>\n<div class=\"note info\"><p>info</p></div>\n<div class=\"note warning\"><p>warning</p></div>\n<div class=\"note danger\"><p>danger</p></div>\n<div class=\"note danger no-icon\"><p>danger no-icon</p></div>\n```\nlabel\n{% label primary@primary %}\n{% label default@default %}\n{% label success@success %}\n{% label info@info %}\n{% label warning@warning %}\n{% label danger@danger %}\n```html\n{% label primary@primary %}\n{% label default@default %}\n{% label success@success %}\n{% label info@info %}\n{% label warning@warning %}\n{% label danger@danger %}\n```\n## \n\n### \nMarkdown  Markdown \n```\n<http://example.com/>\n```\nMarkdown \n\n\t <a href=\"http://example.com/\">http://example.com/</a>\n### \nMarkdown  <em> \n```\n\\*literal asterisks\\*\n```\nMarkdown \n```\n\\   \n`   \n*   \n_   \n{}  \n[]  \n()  \n#   \n+   \n-   \n.   \n!   \n```\n\n***\n\n\n | \n:----: | :----:\nBash | bash\nCoffeeScript | coffeescript\nC++ | cpp\nC# | cs\nCSS | css\nDiff | diff\nHTTP | http\nIni | ini\nJava | java\nJavaScript | javascript\nJSON | json\nXML | xml\nMakefile | makefile\nMarkdown | markdown\nObjective-C | objectivec\nPerl | perl\nPython | python\nRuby | ruby\nSQL | sql","source":"_posts/markdown-format.md","raw":"layout: post\ntitle: Markdown\nauthor: Pyker\ncategories: markdown\nimg: /images/bar/markdown.jpg\ntags:\n  - markdown\ntop: false\ncover: false\ndate: 2017-07-23 10:20:00\n---\n## \n\n### \n\nMarkdown  Setext  atx \n Setext  =  - \n```\nThis is an H1\n=============\nThis is an H2\n-------------\n```\n Atx  1  6  #  1  6 \n```\n#  H1\n##  H2\n######  H6\n```\n###  Blockquotes\n\n email  > :\n```\n> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n> Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n>\n> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n```\n > \n```\n> This is the first level of quoting.\n>\n> > This is nested blockquote.\n>\n> Back to the first level.\n```\n Markdown \n```\n> ### \n> \n> 1.   \n> 2.   \n> \n> \n> \n>     return shell_exec(\"echo $input | $markdown_script\");\n```\n### \n\nMarkdown \n* \n\n```\n*   Red\n*   Green\n*   Blue\n\n\n+   Red\n+   Green\n+   Blue\n\n\n-   Red\n-   Green\n-   Blue\n```\n\n* \n\n```\n1.  Bird\n2.  McHale\n3.  Parish\n```\n>\n>\n>\t * Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n>\t   Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n>\t   viverra nec, fringilla in, laoreet vitae, risus.\n>\t * Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n>\t   Suspendisse id sem consectetuer libero luctus adipiscing.\n\n>``  4  1 \n>\n>\t 1.  This is a list item with two paragraphs. Lorem ipsum dolor\n>         sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n>         mi posuere lectus.\n>\n>         Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n>         vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n>         sit amet velit.\n>\n>\t 2. Suspendisse id sem consectetuer libero luctus adipiscing.\n\n> > \n>\n>\t * A list item with a blockquote:\n>\n>\t   > This is a blockquote\n>\t   > inside a list item.\n\n>`` 8  2 \n>\n> \t*   \n>\n>         <>\n\n### \n\n Markdown  4  1 \n```\n\n\n    \n```\n>markdownhtml Markdown \n>\n>  \t <div class=\"footer\">\n> \t  \t &copy; 2004 Foo Corporation\n>  \t </div>\n\n Markdown  Markdown  Markdown \n\n### \n\n\n```\n* * *\n\n***\n\n*****\n\n- - -\n```\n### \nmarkdown\n```\n1 | 2 | 3 | n\n----: | :---| :---- | :----\n1 | 1 | 1 | 1\n2 | 2 | 2 | 2\n3 | 3 | 3 | 3\n```\nMarkdown `:---:` `---:`  `:---` `-` \n\n## \n\n### \nMarkdown  `` `` \n [] \n``  title  title \n```\nThis is [an example](http://example.com/ \"Title\") inline link.\n[This link](http://example.net/) has no title attribute.\n```\n> \n>\n>\t See my [About](/about/) page for details.\n\n`` ,\n```\nThis is [an example][id] reference-style link.\n[id]: http://example.com/  \"Optional Title Here\"\n```\n\n\n\n* \n* \n* \n* \n*  title \n\n\n```\n[foo]: http://example.com/  \"Optional Title Here\"\n[foo]: http://example.com/  'Optional Title Here'\n[foo]: http://example.com/  (Optional Title Here)\n```\n****  Markdown.pl 1.0.1  title\n\n### \nMarkdown `*_`  *  _  <em> ` *  _ `  <strong>`*` `~~` \n```\n*single asterisks*\n\n_single underscores_\n\n**double asterisks**\n\n__double underscores__\n\n***double underscores***\n\n~~double underscores~~\n```\n\n<font color=#FF0000 > *  _ </font>\n>\n>\n>\t \\*this text is surrounded by literal asterisks\\*\n\n### \n* \n\n\\`  \\`\n```\nUse the `printf()` function.\n```\n> \n>\n>\t ``There is a literal backtick (`) here.``\n\n*  \n\n\t  ```\n\t  1\n\t  2\n\t  3\n\t  ```\n\\`\\`\\`~~~\\`\\`\\`\\`\\`\\`bash\\`\\`\\`\n\n**\n\t  \n### \nMarkdown  `` `` \n\n```\n![Alt text](/path/to/img.jpg)\n![Alt text](/path/to/img.jpg \"Optional title\")\n```\n\n\n*  !\n* \n*   'title' \n\n`` \n```\n![Alt text][id]\n[id]: url/to/image  \"Optional title attribute\"\n```\nid\n\n### \nMarkdownHTML`` \nhtml\n```html\n<font face=\"\"></font>\n<font face=\"\"></font>\n<font face=\"STCAIYUN\"></font>\n<font color=#FF0000 size=3 face=\"\">3</font>\n<font color=#00ffff size=72>16</font>\n<font color=gray size=72></font>\n```\n>Size 1  7  3\n16<https://www.114la.com/other/rgb.htm>\n\n### notelabel\nnote\n<div class=\"note default\"><p>default</p></div>\n<div class=\"note primary\"><p>primary</p></div>\n<div class=\"note success\"><p>success</p></div>\n<div class=\"note info\"><p>info</p></div>\n<div class=\"note warning\"><p>warning</p></div>\n<div class=\"note danger\"><p>danger</p></div>\n<div class=\"note danger no-icon\"><p>danger no-icon</p></div>\n```html\n<div class=\"note default\"><p>default</p></div>\n<div class=\"note primary\"><p>primary</p></div>\n<div class=\"note success\"><p>success</p></div>\n<div class=\"note info\"><p>info</p></div>\n<div class=\"note warning\"><p>warning</p></div>\n<div class=\"note danger\"><p>danger</p></div>\n<div class=\"note danger no-icon\"><p>danger no-icon</p></div>\n```\nlabel\n{% label primary@primary %}\n{% label default@default %}\n{% label success@success %}\n{% label info@info %}\n{% label warning@warning %}\n{% label danger@danger %}\n```html\n{% label primary@primary %}\n{% label default@default %}\n{% label success@success %}\n{% label info@info %}\n{% label warning@warning %}\n{% label danger@danger %}\n```\n## \n\n### \nMarkdown  Markdown \n```\n<http://example.com/>\n```\nMarkdown \n\n\t <a href=\"http://example.com/\">http://example.com/</a>\n### \nMarkdown  <em> \n```\n\\*literal asterisks\\*\n```\nMarkdown \n```\n\\   \n`   \n*   \n_   \n{}  \n[]  \n()  \n#   \n+   \n-   \n.   \n!   \n```\n\n***\n\n\n | \n:----: | :----:\nBash | bash\nCoffeeScript | coffeescript\nC++ | cpp\nC# | cs\nCSS | css\nDiff | diff\nHTTP | http\nIni | ini\nJava | java\nJavaScript | javascript\nJSON | json\nXML | xml\nMakefile | makefile\nMarkdown | markdown\nObjective-C | objectivec\nPerl | perl\nPython | python\nRuby | ruby\nSQL | sql","slug":"markdown-format","published":1,"updated":"2019-05-27T08:09:12.894Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0q002jp4n7qrjpt5es","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  Setext  atx <br> Setext  =  - <br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is an H1</span><br><span class=\"line\">=============</span><br><span class=\"line\">This is an H2</span><br><span class=\"line\">-------------</span><br></pre></td></tr></table></figure></p>\n<p> Atx  1  6  #  1  6 <br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  H1</span><br><span class=\"line\">##  H2</span><br><span class=\"line\">######  H6</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-Blockquotes\"><a href=\"#-Blockquotes\" class=\"headerlink\" title=\" Blockquotes\"></a> Blockquotes</h3><p> email  &gt; :<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> Vestibulum enim wisi, viverra nec, fringilla <span class=\"keyword\">in</span>, laoreet vitae, risus.</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span></span><br></pre></td></tr></table></figure></p>\n<p> &gt; <br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; This <span class=\"keyword\">is</span> <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> level <span class=\"keyword\">of</span> quoting.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; &gt; This <span class=\"keyword\">is</span> nested blockquote.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; Back <span class=\"keyword\">to</span> <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> level.</span><br></pre></td></tr></table></figure></p>\n<p> Markdown <br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> <span class=\"comment\">### </span></span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> 1.   </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> 2.   </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">     <span class=\"built_in\">return</span> shell_exec(<span class=\"string\">\"echo <span class=\"variable\">$input</span> | <span class=\"variable\">$markdown_script</span>\"</span>);</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown </p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">*   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">*   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">*   </span>Blue</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">+   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">+   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">+   </span>Blue</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">-   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">-   </span>Blue</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">1.  </span>Bird</span><br><span class=\"line\"><span class=\"bullet\">2.  </span>McHale</span><br><span class=\"line\"><span class=\"bullet\">3.  </span>Parish</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n<pre><code>* Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n  Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n  viverra nec, fringilla in, laoreet vitae, risus.\n* Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n  Suspendisse id sem consectetuer libero luctus adipiscing.\n</code></pre></blockquote>\n<blockquote>\n<p><code></code>  4  1 </p>\n<pre><code>1.  This is a list item with two paragraphs. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n    mi posuere lectus.\n\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n    vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n    sit amet velit.\n\n2. Suspendisse id sem consectetuer libero luctus adipiscing.\n</code></pre></blockquote>\n<blockquote>\n<p> &gt; </p>\n<pre><code>* A list item with a blockquote:\n\n  &gt; This is a blockquote\n  &gt; inside a list item.\n</code></pre></blockquote>\n<blockquote>\n<p><code></code> 8  2 </p>\n<pre><code>*   \n\n    &lt;&gt;\n</code></pre></blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Markdown  4  1 <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>markdownhtml Markdown </p>\n<pre><code>&lt;div class=&quot;footer&quot;&gt;\n     &amp;copy; 2004 Foo Corporation\n&lt;/div&gt;\n</code></pre></blockquote>\n<p> Markdown  Markdown  Markdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span><span class=\"bullet\">* *</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"emphasis\">***</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">*****</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">- </span>- -</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>markdown<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 |<span class=\"string\"> 2 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> n</span></span><br><span class=\"line\"><span class=\"string\">----: </span>|<span class=\"string\"> :---</span>|<span class=\"string\"> :---- </span>|<span class=\"string\"> :----</span></span><br><span class=\"line\"><span class=\"string\">1 </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> 1</span></span><br><span class=\"line\"><span class=\"string\">2 </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> 2</span></span><br><span class=\"line\"><span class=\"string\">3 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> 3</span></span><br></pre></td></tr></table></figure></p>\n<p>Markdown <code>:---:</code> <code>---:</code>  <code>:---</code> <code>-</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <code></code> <code></code> <br> [] <br><code></code>  title  title <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is [<span class=\"string\">an example</span>](<span class=\"link\">http://example.com/ \"Title\"</span>) inline link.</span><br><span class=\"line\">[<span class=\"string\">This link</span>](<span class=\"link\">http://example.net/</span>) has no title attribute.</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n<pre><code>See my [About](/about/) page for details.\n</code></pre></blockquote>\n<p><code></code> ,<br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is [<span class=\"string\">an example</span>][<span class=\"symbol\">id</span>] reference-style link.</span><br><span class=\"line\">[<span class=\"symbol\">id</span>]: <span class=\"link\">http://example.com/  \"Optional Title Here\"</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> title </li>\n</ul>\n<p><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  \"Optional Title Here\"</span></span><br><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  'Optional Title Here'</span></span><br><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  (Optional Title Here)</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong>  Markdown.pl 1.0.1  title</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown <code>*_</code>  <em>  _  <em> ` </em>  _ <code> &lt;strong&gt;</code>*<code></code>~~` <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"emphasis\">*single asterisks*</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"emphasis\">_single underscores_</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">**double asterisks**</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">__double underscores__</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">***double underscores**</span>*</span><br><span class=\"line\"></span><br><span class=\"line\">~~double underscores~~</span><br></pre></td></tr></table></figure></em></p>\n<p></p>\n<p><font color=\"#FF0000\"> *  _ </font></p>\n<blockquote>\n<p></p>\n<pre><code>\\*this text is surrounded by literal asterisks\\*\n</code></pre></blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<p>`  `<br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Use</span> the `printf()` <span class=\"function\"><span class=\"keyword\">function</span>.</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n<pre><code>``There is a literal backtick (`) here.``\n</code></pre></blockquote>\n<ul>\n<li><p> </p>\n<pre><code><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n</code></pre></li>\n</ul>\n<p>```~~~``````bash```</p>\n<p><em></em></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <code></code> <code></code> <br><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">Alt text</span>](<span class=\"link\">/path/to/img.jpg</span>)</span><br><span class=\"line\">![<span class=\"string\">Alt text</span>](<span class=\"link\">/path/to/img.jpg \"Optional title\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li> !</li>\n<li></li>\n<li>  title </li>\n</ul>\n<p><code></code> <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">Alt text</span>][<span class=\"symbol\">id</span>]</span><br><span class=\"line\">[<span class=\"symbol\">id</span>]: <span class=\"link\">url/to/image  \"Optional title attribute\"</span></span><br></pre></td></tr></table></figure></p>\n<p>id</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MarkdownHTML<code></code> <br>html<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"STCAIYUN\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">#FF0000</span> <span class=\"attr\">size</span>=<span class=\"string\">3</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">#00ffff</span> <span class=\"attr\">size</span>=<span class=\"string\">72</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">gray</span> <span class=\"attr\">size</span>=<span class=\"string\">72</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>Size 1  7  3<br>16<a href=\"https://www.114la.com/other/rgb.htm\" target=\"_blank\" rel=\"noopener\">https://www.114la.com/other/rgb.htm</a></p>\n</blockquote>\n<h3 id=\"notelabel\"><a href=\"#notelabel\" class=\"headerlink\" title=\"notelabel\"></a>notelabel</h3><p>note</p>\n<p><div class=\"note default\"><p>default</p></div></p>\n<p><div class=\"note primary\"><p>primary</p></div></p>\n<p><div class=\"note success\"><p>success</p></div></p>\n<p><div class=\"note info\"><p>info</p></div></p>\n<p><div class=\"note warning\"><p>warning</p></div></p>\n<p><div class=\"note danger\"><p>danger</p></div></p>\n<p><div class=\"note danger no-icon\"><p>danger no-icon</p></div><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note default\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note primary\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>primary<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note success\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>success<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>info<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note warning\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>warning<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note danger\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>danger<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note danger no-icon\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>danger no-icon<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>label<br><span class=\"label primary\">primary</span><br><span class=\"label default\">default</span><br><span class=\"label success\">success</span><br><span class=\"label info\">info</span><br><span class=\"label warning\">warning</span><br><span class=\"label danger\">danger</span><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label primary@primary %&#125;</span><br><span class=\"line\">&#123;% label default@default %&#125;</span><br><span class=\"line\">&#123;% label success@success %&#125;</span><br><span class=\"line\">&#123;% label info@info %&#125;</span><br><span class=\"line\">&#123;% label warning@warning %&#125;</span><br><span class=\"line\">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  Markdown <br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"string\">http:</span><span class=\"comment\">//example.com/&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>Markdown </p>\n<pre><code>&lt;a href=&quot;http://example.com/&quot;&gt;http://example.com/&lt;/a&gt;\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <em> <br><figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\\*literal</span> asterisks<span class=\"string\">\\*</span></span><br></pre></td></tr></table></figure></em></p>\n<p>Markdown <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\   </span><br><span class=\"line\">`   </span><br><span class=\"line\"><span class=\"bullet\">*   </span></span><br><span class=\"line\">_   </span><br><span class=\"line\">&#123;&#125;  </span><br><span class=\"line\">[]  </span><br><span class=\"line\">()  </span><br><span class=\"line\"><span class=\"section\">#   </span></span><br><span class=\"line\"><span class=\"bullet\">+   </span></span><br><span class=\"line\"><span class=\"bullet\">-   </span></span><br><span class=\"line\">.   </span><br><span class=\"line\">!   </span><br></pre></td></tr></table></figure></p>\n<hr>\n<p></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Bash</td>\n<td style=\"text-align:center\">bash</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CoffeeScript</td>\n<td style=\"text-align:center\">coffeescript</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">C++</td>\n<td style=\"text-align:center\">cpp</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">C#</td>\n<td style=\"text-align:center\">cs</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CSS</td>\n<td style=\"text-align:center\">css</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Diff</td>\n<td style=\"text-align:center\">diff</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">HTTP</td>\n<td style=\"text-align:center\">http</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Ini</td>\n<td style=\"text-align:center\">ini</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Java</td>\n<td style=\"text-align:center\">java</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">JavaScript</td>\n<td style=\"text-align:center\">javascript</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">JSON</td>\n<td style=\"text-align:center\">json</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">XML</td>\n<td style=\"text-align:center\">xml</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Makefile</td>\n<td style=\"text-align:center\">makefile</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Markdown</td>\n<td style=\"text-align:center\">markdown</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Objective-C</td>\n<td style=\"text-align:center\">objectivec</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Perl</td>\n<td style=\"text-align:center\">perl</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Python</td>\n<td style=\"text-align:center\">python</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Ruby</td>\n<td style=\"text-align:center\">ruby</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">SQL</td>\n<td style=\"text-align:center\">sql</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{}},"length":6772,"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  Setext  atx <br> Setext  =  - <br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is an H1</span><br><span class=\"line\">=============</span><br><span class=\"line\">This is an H2</span><br><span class=\"line\">-------------</span><br></pre></td></tr></table></figure></p>\n<p> Atx  1  6  #  1  6 <br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#  H1</span><br><span class=\"line\">##  H2</span><br><span class=\"line\">######  H6</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-Blockquotes\"><a href=\"#-Blockquotes\" class=\"headerlink\" title=\" Blockquotes\"></a> Blockquotes</h3><p> email  &gt; :<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> Vestibulum enim wisi, viverra nec, fringilla <span class=\"keyword\">in</span>, laoreet vitae, risus.</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span></span><br></pre></td></tr></table></figure></p>\n<p> &gt; <br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; This <span class=\"keyword\">is</span> <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> level <span class=\"keyword\">of</span> quoting.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; &gt; This <span class=\"keyword\">is</span> nested blockquote.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; Back <span class=\"keyword\">to</span> <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> level.</span><br></pre></td></tr></table></figure></p>\n<p> Markdown <br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> <span class=\"comment\">### </span></span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> 1.   </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> 2.   </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> </span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">     <span class=\"built_in\">return</span> shell_exec(<span class=\"string\">\"echo <span class=\"variable\">$input</span> | <span class=\"variable\">$markdown_script</span>\"</span>);</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown </p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">*   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">*   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">*   </span>Blue</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">+   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">+   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">+   </span>Blue</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-   </span>Red</span><br><span class=\"line\"><span class=\"bullet\">-   </span>Green</span><br><span class=\"line\"><span class=\"bullet\">-   </span>Blue</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">1.  </span>Bird</span><br><span class=\"line\"><span class=\"bullet\">2.  </span>McHale</span><br><span class=\"line\"><span class=\"bullet\">3.  </span>Parish</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n<pre><code>* Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n  Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n  viverra nec, fringilla in, laoreet vitae, risus.\n* Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n  Suspendisse id sem consectetuer libero luctus adipiscing.\n</code></pre></blockquote>\n<blockquote>\n<p><code></code>  4  1 </p>\n<pre><code>1.  This is a list item with two paragraphs. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n    mi posuere lectus.\n\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n    vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n    sit amet velit.\n\n2. Suspendisse id sem consectetuer libero luctus adipiscing.\n</code></pre></blockquote>\n<blockquote>\n<p> &gt; </p>\n<pre><code>* A list item with a blockquote:\n\n  &gt; This is a blockquote\n  &gt; inside a list item.\n</code></pre></blockquote>\n<blockquote>\n<p><code></code> 8  2 </p>\n<pre><code>*   \n\n    &lt;&gt;\n</code></pre></blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Markdown  4  1 <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>markdownhtml Markdown </p>\n<pre><code>&lt;div class=&quot;footer&quot;&gt;\n     &amp;copy; 2004 Foo Corporation\n&lt;/div&gt;\n</code></pre></blockquote>\n<p> Markdown  Markdown  Markdown </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span><span class=\"bullet\">* *</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"emphasis\">***</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">*****</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">- </span>- -</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>markdown<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 |<span class=\"string\"> 2 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> n</span></span><br><span class=\"line\"><span class=\"string\">----: </span>|<span class=\"string\"> :---</span>|<span class=\"string\"> :---- </span>|<span class=\"string\"> :----</span></span><br><span class=\"line\"><span class=\"string\">1 </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> 1</span></span><br><span class=\"line\"><span class=\"string\">2 </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> 2</span></span><br><span class=\"line\"><span class=\"string\">3 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> 3 </span>|<span class=\"string\"> 3</span></span><br></pre></td></tr></table></figure></p>\n<p>Markdown <code>:---:</code> <code>---:</code>  <code>:---</code> <code>-</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <code></code> <code></code> <br> [] <br><code></code>  title  title <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is [<span class=\"string\">an example</span>](<span class=\"link\">http://example.com/ \"Title\"</span>) inline link.</span><br><span class=\"line\">[<span class=\"string\">This link</span>](<span class=\"link\">http://example.net/</span>) has no title attribute.</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n<pre><code>See my [About](/about/) page for details.\n</code></pre></blockquote>\n<p><code></code> ,<br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is [<span class=\"string\">an example</span>][<span class=\"symbol\">id</span>] reference-style link.</span><br><span class=\"line\">[<span class=\"symbol\">id</span>]: <span class=\"link\">http://example.com/  \"Optional Title Here\"</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> title </li>\n</ul>\n<p><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  \"Optional Title Here\"</span></span><br><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  'Optional Title Here'</span></span><br><span class=\"line\">[<span class=\"symbol\">foo</span>]: <span class=\"link\">http://example.com/  (Optional Title Here)</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong>  Markdown.pl 1.0.1  title</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown <code>*_</code>  <em>  _  <em> ` </em>  _ <code> &lt;strong&gt;</code>*<code></code>~~` <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"emphasis\">*single asterisks*</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"emphasis\">_single underscores_</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">**double asterisks**</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">__double underscores__</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"strong\">***double underscores**</span>*</span><br><span class=\"line\"></span><br><span class=\"line\">~~double underscores~~</span><br></pre></td></tr></table></figure></em></p>\n<p></p>\n<p><font color=\"#FF0000\"> *  _ </font></p>\n<blockquote>\n<p></p>\n<pre><code>\\*this text is surrounded by literal asterisks\\*\n</code></pre></blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n</ul>\n<p>`  `<br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Use</span> the `printf()` <span class=\"function\"><span class=\"keyword\">function</span>.</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n<pre><code>``There is a literal backtick (`) here.``\n</code></pre></blockquote>\n<ul>\n<li><p> </p>\n<pre><code><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n</code></pre></li>\n</ul>\n<p>```~~~``````bash```</p>\n<p><em></em></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <code></code> <code></code> <br><br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">Alt text</span>](<span class=\"link\">/path/to/img.jpg</span>)</span><br><span class=\"line\">![<span class=\"string\">Alt text</span>](<span class=\"link\">/path/to/img.jpg \"Optional title\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li> !</li>\n<li></li>\n<li>  title </li>\n</ul>\n<p><code></code> <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">Alt text</span>][<span class=\"symbol\">id</span>]</span><br><span class=\"line\">[<span class=\"symbol\">id</span>]: <span class=\"link\">url/to/image  \"Optional title attribute\"</span></span><br></pre></td></tr></table></figure></p>\n<p>id</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MarkdownHTML<code></code> <br>html<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">\"STCAIYUN\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">#FF0000</span> <span class=\"attr\">size</span>=<span class=\"string\">3</span> <span class=\"attr\">face</span>=<span class=\"string\">\"\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">#00ffff</span> <span class=\"attr\">size</span>=<span class=\"string\">72</span>&gt;</span>16<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">gray</span> <span class=\"attr\">size</span>=<span class=\"string\">72</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>Size 1  7  3<br>16<a href=\"https://www.114la.com/other/rgb.htm\" target=\"_blank\" rel=\"noopener\">https://www.114la.com/other/rgb.htm</a></p>\n</blockquote>\n<h3 id=\"notelabel\"><a href=\"#notelabel\" class=\"headerlink\" title=\"notelabel\"></a>notelabel</h3><p>note</p>\n<p><div class=\"note default\"><p>default</p></div></p>\n<p><div class=\"note primary\"><p>primary</p></div></p>\n<p><div class=\"note success\"><p>success</p></div></p>\n<p><div class=\"note info\"><p>info</p></div></p>\n<p><div class=\"note warning\"><p>warning</p></div></p>\n<p><div class=\"note danger\"><p>danger</p></div></p>\n<p><div class=\"note danger no-icon\"><p>danger no-icon</p></div><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note default\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note primary\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>primary<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note success\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>success<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>info<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note warning\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>warning<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note danger\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>danger<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note danger no-icon\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>danger no-icon<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>label<br><span class=\"label primary\">primary</span><br><span class=\"label default\">default</span><br><span class=\"label success\">success</span><br><span class=\"label info\">info</span><br><span class=\"label warning\">warning</span><br><span class=\"label danger\">danger</span><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label primary@primary %&#125;</span><br><span class=\"line\">&#123;% label default@default %&#125;</span><br><span class=\"line\">&#123;% label success@success %&#125;</span><br><span class=\"line\">&#123;% label info@info %&#125;</span><br><span class=\"line\">&#123;% label warning@warning %&#125;</span><br><span class=\"line\">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  Markdown <br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"string\">http:</span><span class=\"comment\">//example.com/&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>Markdown </p>\n<pre><code>&lt;a href=&quot;http://example.com/&quot;&gt;http://example.com/&lt;/a&gt;\n</code></pre><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Markdown  <em> <br><figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\\*literal</span> asterisks<span class=\"string\">\\*</span></span><br></pre></td></tr></table></figure></em></p>\n<p>Markdown <br><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\   </span><br><span class=\"line\">`   </span><br><span class=\"line\"><span class=\"bullet\">*   </span></span><br><span class=\"line\">_   </span><br><span class=\"line\">&#123;&#125;  </span><br><span class=\"line\">[]  </span><br><span class=\"line\">()  </span><br><span class=\"line\"><span class=\"section\">#   </span></span><br><span class=\"line\"><span class=\"bullet\">+   </span></span><br><span class=\"line\"><span class=\"bullet\">-   </span></span><br><span class=\"line\">.   </span><br><span class=\"line\">!   </span><br></pre></td></tr></table></figure></p>\n<hr>\n<p></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Bash</td>\n<td style=\"text-align:center\">bash</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CoffeeScript</td>\n<td style=\"text-align:center\">coffeescript</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">C++</td>\n<td style=\"text-align:center\">cpp</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">C#</td>\n<td style=\"text-align:center\">cs</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CSS</td>\n<td style=\"text-align:center\">css</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Diff</td>\n<td style=\"text-align:center\">diff</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">HTTP</td>\n<td style=\"text-align:center\">http</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Ini</td>\n<td style=\"text-align:center\">ini</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Java</td>\n<td style=\"text-align:center\">java</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">JavaScript</td>\n<td style=\"text-align:center\">javascript</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">JSON</td>\n<td style=\"text-align:center\">json</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">XML</td>\n<td style=\"text-align:center\">xml</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Makefile</td>\n<td style=\"text-align:center\">makefile</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Markdown</td>\n<td style=\"text-align:center\">markdown</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Objective-C</td>\n<td style=\"text-align:center\">objectivec</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Perl</td>\n<td style=\"text-align:center\">perl</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Python</td>\n<td style=\"text-align:center\">python</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Ruby</td>\n<td style=\"text-align:center\">ruby</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">SQL</td>\n<td style=\"text-align:center\">sql</td>\n</tr>\n</tbody>\n</table>\n"},{"layout":"post","title":"Prometheus","author":"Pyker","img":"/images/bar/prometheus.jpg","top":false,"cover":false,"date":"2019-01-12T02:10:00.000Z","_content":"## Prometheus\nPrometheus  Google  borgmon  SoundCloud  google  2012  2015 2016 Prometheus  Cloud Native Computing Foundation Kubernetes \n### TSDB\nTSDB(Time Series Database)\n\n**PrometheusTSDB**\n* /\n* PromQL\n* \n* HTTPpull\n* Pushgateway\n* \n* Grafana\n\n## Prometheus\nPrometheus \n* `Prometheus Server`PrometheusPrometheus ServerService DiscoveryPrometheus SeverPrometheus ServerPrometheus ServerPromQLPrometheus ServerPrometheus Server\n\n* `Exporters`ExporterHTTPPrometheus ServerPrometheusPrometheus ServerExporterEndpointExporter2\n>``ExporterPrometheuscAdvisorKubernetesEtcdGokitPrometheus\n>\n>``PrometheusPrometheusClient LibraryMysql ExporterJMX ExporterConsul Exporter\n* `AlertManager`Prometheus ServerProm QLProm QLAlertManager Prometheus server  alertspagerdutywebhook \n* `PushGateway`: jobs jobs  Prometheus  pull  jobs  Prometheus metrics metrics metrices node exporterPushGatwayzabbix proxy\n\n### Prometheus \n![](https://prometheus.io/assets/architecture.png)\nPrometheus `Prometheus server`, `exporters`, `Pushgateway`, `PromQL`, `Alertmanager` ``PrometheusHTTPHTTPSDKVMDockerKubernetesHTTPexporter exporterVarnishHaproxyNginxMySQLLinux(CPU)\n\n### Prometheus\n1. Prometheus server  jobs  exporters  metricsPushgateway metrics Prometheus server  metrics\n2. Prometheus server  metrics alert.rules Alertmanager \n3. PrometheusPromQLAPIPrometheusGrafanaPromdashPrometheusHTTP API\n\n## Prometheus\n### \nPrometheus  metric \n\n```\n<metric name>{<label name>=<label value>, ...}\n```\napi_http_requests_totalmethod=\"POST\"handler=\"/messages\"\n```\napi_http_requests_total{method=\"POST\", handler=\"/messages\"}\n```\n### Metric\n* **Counter**\n\t metric,cpu  Counterinc()+1\n* **Gauge**\n\t metric  goroutines Gaugeinc()dec(),\n* **Histogram**\n\tbuckets(Buckets)\n* **Summary**\n\t SummaryHistogramSummaryHistogram`_count``_sum` _count,_sumhttprate(basename_sum[5m]) / rate(basename_count[5m])\n\t SummaryHistogram9 0.0<= Quantiles <= 1.0\n\t Histogram`histogram_quantile` Sumamry SummaryPromQLHistogram\n\n### Jobs  Instances\nPrometheusscrapeinstanceinstanceJob\n```\njob: api-server\n    instance 1: 1.2.3.4:5670\n    instance 2: 1.2.3.4:5671\n    instance 3: 5.6.7.8:5670\n    instance 4: 5.6.7.8:5671\n```\nPrometheusscrapejobinstancescrape`honor_labels`\n### \nPrometheus\n* Instant vector - \n* Range vector - \n* Scalar - \n* String - \n\n### \n#### \nhttp_requests_total\n```\nhttp_requests_total\n```\n{}http_requests_totalprometheuscanary\n```\nhttp_requests_total{job=\"prometheus\",group=\"canary\"}\n```\n\n* `=`\n* `!=`\n* `=~`\n* `!~`\n\nstagingtestingdevelopmentGETHTTPhttp_requests_total\n\n```\nhttp_requests_total{environment=~\"staging|testing|development\",method!=\"GET\"}\n```\n#### \n[]\n* `s`seconds\n* `m`minutes\n* `h`hours\n* `d`days\n* `w`weeks\n* `y`years\n\n5metrichttp_requests_totalprometheus\n```\nhttp_requests_total{job=\"prometheus\"}[5m]\n```\n#### Offset\noffsethttp_requests_total5 \n```\nhttp_requests_total offset 5m\n```\nhttp_requests_total5 \n```\nrate(http_requests_total[5m] offset 1w)\n```\n### \n[](https://prometheus.io/docs/prometheus/latest/querying/operators/)\n###  \n[](https://prometheus.io/docs/prometheus/latest/querying/functions/)\n## Prometheus\n### prometheus\n```bash\n$ wget https://github.com/prometheus/prometheus/releases/download/v2.9.1/prometheus-2.9.1.linux-amd64.tar.gz\n```\n### prometheus\n```bash\n$ tar zxvf prometheus-2.9.1.linux-amd64.tar.gz\n```\n### prometheus/usr/local\n```bash\n$ mv prometheus-2.9.1.linux-amd64 /usr/local/prometheus\n```\n### \n```bash\n$ /usr/local/prometheus/prometheus --version \n  prometheus, version 2.9.1 (branch: HEAD, revision: ad71f2785fc321092948e33706b04f3150eee44f)\n  build user:       root@09f919068df4\n  build date:       20190416-17:50:04\n  go version:       go1.12.4\n```\n### prometheus\n```bash\n$ groupadd prometheus\n$ useradd -g prometheus -s /sbin/nologin prometheus\n```\n### prometheus\n```bash\n$ mkdir -p /var/lib/prometheus\n```\n### prometheussystemctl\n```bash\n$ cat > /usr/lib/systemd/system/prometheus.service << EOF\n[Unit]\nDescription=Prometheus\nDocumentation=https://prometheus.io/\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nExecStart=/usr/local/prometheus/prometheus --config.file=/usr/local/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\nEOF\n```\n### prometheus\n```bash\n# prometheus\n$ chown -R prometheus:prometheus /usr/local/prometheus/\n\n# prometheus\n$ chown -R prometheus:prometheus /var/lib/prometheus/\n\n# prometheus\n$ chown prometheus:prometheus /usr/lib/systemd/system/prometheus.service\n```\n\n### \n```bash\n$ systemctl start prometheus\n$ systemctl enable prometheus\n```\n## Prometheus.yml\nPrometheusjobinstance\nPrometheus\n* prometheusSIGHUP\n* Prometheus/-/reloadPOST`curl -X POST http://localdns:9090/-/reload`\n\n### \n`--config.file`[YAML](https://en.wikipedia.org/wiki/YAML)\n\n**prometheus.yml**\n\n```yaml\n# Prometheus\nglobal:\n  scrape_interval:     15s # 1min\n  evaluation_interval: 15s # rules1min\n  scrape_timeout: 15s # 10s\n  external_labels: # \n   monitor: 'codelab_monitor'\n\n\n# Alertmanager\nalerting:\n alertmanagers:\n - static_configs:\n   - targets: [\"localhost:9093\"] # alertmanagerprometheusalertmanagerip\n\n# ruleevaluation_interval\nrule_files:\n - \"alertmanager_rules.yml\"\n - \"prometheus_rules.yml\"\n\n# scrape\nscrape_configs:\n- job_name: 'prometheus' # job_nametimeserieslabels\n  scrape_interval: 15s # global\n  static_configs: # \n  - targets: ['localdns:9090'] # prometheusinstance\n\n- job_name: 'example-random'\n  static_configs:\n  - targets: ['localhost:8080']\n```\nprometheus[prometheus](https://prometheus.io/docs/prometheus/latest/configuration/configuration/)","source":"_posts/prometheus.md","raw":"layout: post\ntitle: Prometheus\nauthor: Pyker\ncategories: prometheus\nimg: /images/bar/prometheus.jpg\ntags:\n  - prometheus\ntop: false\ncover: false\ndate: 2019-01-12 10:10:00\n---\n## Prometheus\nPrometheus  Google  borgmon  SoundCloud  google  2012  2015 2016 Prometheus  Cloud Native Computing Foundation Kubernetes \n### TSDB\nTSDB(Time Series Database)\n\n**PrometheusTSDB**\n* /\n* PromQL\n* \n* HTTPpull\n* Pushgateway\n* \n* Grafana\n\n## Prometheus\nPrometheus \n* `Prometheus Server`PrometheusPrometheus ServerService DiscoveryPrometheus SeverPrometheus ServerPrometheus ServerPromQLPrometheus ServerPrometheus Server\n\n* `Exporters`ExporterHTTPPrometheus ServerPrometheusPrometheus ServerExporterEndpointExporter2\n>``ExporterPrometheuscAdvisorKubernetesEtcdGokitPrometheus\n>\n>``PrometheusPrometheusClient LibraryMysql ExporterJMX ExporterConsul Exporter\n* `AlertManager`Prometheus ServerProm QLProm QLAlertManager Prometheus server  alertspagerdutywebhook \n* `PushGateway`: jobs jobs  Prometheus  pull  jobs  Prometheus metrics metrics metrices node exporterPushGatwayzabbix proxy\n\n### Prometheus \n![](https://prometheus.io/assets/architecture.png)\nPrometheus `Prometheus server`, `exporters`, `Pushgateway`, `PromQL`, `Alertmanager` ``PrometheusHTTPHTTPSDKVMDockerKubernetesHTTPexporter exporterVarnishHaproxyNginxMySQLLinux(CPU)\n\n### Prometheus\n1. Prometheus server  jobs  exporters  metricsPushgateway metrics Prometheus server  metrics\n2. Prometheus server  metrics alert.rules Alertmanager \n3. PrometheusPromQLAPIPrometheusGrafanaPromdashPrometheusHTTP API\n\n## Prometheus\n### \nPrometheus  metric \n\n```\n<metric name>{<label name>=<label value>, ...}\n```\napi_http_requests_totalmethod=\"POST\"handler=\"/messages\"\n```\napi_http_requests_total{method=\"POST\", handler=\"/messages\"}\n```\n### Metric\n* **Counter**\n\t metric,cpu  Counterinc()+1\n* **Gauge**\n\t metric  goroutines Gaugeinc()dec(),\n* **Histogram**\n\tbuckets(Buckets)\n* **Summary**\n\t SummaryHistogramSummaryHistogram`_count``_sum` _count,_sumhttprate(basename_sum[5m]) / rate(basename_count[5m])\n\t SummaryHistogram9 0.0<= Quantiles <= 1.0\n\t Histogram`histogram_quantile` Sumamry SummaryPromQLHistogram\n\n### Jobs  Instances\nPrometheusscrapeinstanceinstanceJob\n```\njob: api-server\n    instance 1: 1.2.3.4:5670\n    instance 2: 1.2.3.4:5671\n    instance 3: 5.6.7.8:5670\n    instance 4: 5.6.7.8:5671\n```\nPrometheusscrapejobinstancescrape`honor_labels`\n### \nPrometheus\n* Instant vector - \n* Range vector - \n* Scalar - \n* String - \n\n### \n#### \nhttp_requests_total\n```\nhttp_requests_total\n```\n{}http_requests_totalprometheuscanary\n```\nhttp_requests_total{job=\"prometheus\",group=\"canary\"}\n```\n\n* `=`\n* `!=`\n* `=~`\n* `!~`\n\nstagingtestingdevelopmentGETHTTPhttp_requests_total\n\n```\nhttp_requests_total{environment=~\"staging|testing|development\",method!=\"GET\"}\n```\n#### \n[]\n* `s`seconds\n* `m`minutes\n* `h`hours\n* `d`days\n* `w`weeks\n* `y`years\n\n5metrichttp_requests_totalprometheus\n```\nhttp_requests_total{job=\"prometheus\"}[5m]\n```\n#### Offset\noffsethttp_requests_total5 \n```\nhttp_requests_total offset 5m\n```\nhttp_requests_total5 \n```\nrate(http_requests_total[5m] offset 1w)\n```\n### \n[](https://prometheus.io/docs/prometheus/latest/querying/operators/)\n###  \n[](https://prometheus.io/docs/prometheus/latest/querying/functions/)\n## Prometheus\n### prometheus\n```bash\n$ wget https://github.com/prometheus/prometheus/releases/download/v2.9.1/prometheus-2.9.1.linux-amd64.tar.gz\n```\n### prometheus\n```bash\n$ tar zxvf prometheus-2.9.1.linux-amd64.tar.gz\n```\n### prometheus/usr/local\n```bash\n$ mv prometheus-2.9.1.linux-amd64 /usr/local/prometheus\n```\n### \n```bash\n$ /usr/local/prometheus/prometheus --version \n  prometheus, version 2.9.1 (branch: HEAD, revision: ad71f2785fc321092948e33706b04f3150eee44f)\n  build user:       root@09f919068df4\n  build date:       20190416-17:50:04\n  go version:       go1.12.4\n```\n### prometheus\n```bash\n$ groupadd prometheus\n$ useradd -g prometheus -s /sbin/nologin prometheus\n```\n### prometheus\n```bash\n$ mkdir -p /var/lib/prometheus\n```\n### prometheussystemctl\n```bash\n$ cat > /usr/lib/systemd/system/prometheus.service << EOF\n[Unit]\nDescription=Prometheus\nDocumentation=https://prometheus.io/\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nExecStart=/usr/local/prometheus/prometheus --config.file=/usr/local/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\nEOF\n```\n### prometheus\n```bash\n# prometheus\n$ chown -R prometheus:prometheus /usr/local/prometheus/\n\n# prometheus\n$ chown -R prometheus:prometheus /var/lib/prometheus/\n\n# prometheus\n$ chown prometheus:prometheus /usr/lib/systemd/system/prometheus.service\n```\n\n### \n```bash\n$ systemctl start prometheus\n$ systemctl enable prometheus\n```\n## Prometheus.yml\nPrometheusjobinstance\nPrometheus\n* prometheusSIGHUP\n* Prometheus/-/reloadPOST`curl -X POST http://localdns:9090/-/reload`\n\n### \n`--config.file`[YAML](https://en.wikipedia.org/wiki/YAML)\n\n**prometheus.yml**\n\n```yaml\n# Prometheus\nglobal:\n  scrape_interval:     15s # 1min\n  evaluation_interval: 15s # rules1min\n  scrape_timeout: 15s # 10s\n  external_labels: # \n   monitor: 'codelab_monitor'\n\n\n# Alertmanager\nalerting:\n alertmanagers:\n - static_configs:\n   - targets: [\"localhost:9093\"] # alertmanagerprometheusalertmanagerip\n\n# ruleevaluation_interval\nrule_files:\n - \"alertmanager_rules.yml\"\n - \"prometheus_rules.yml\"\n\n# scrape\nscrape_configs:\n- job_name: 'prometheus' # job_nametimeserieslabels\n  scrape_interval: 15s # global\n  static_configs: # \n  - targets: ['localdns:9090'] # prometheusinstance\n\n- job_name: 'example-random'\n  static_configs:\n  - targets: ['localhost:8080']\n```\nprometheus[prometheus](https://prometheus.io/docs/prometheus/latest/configuration/configuration/)","slug":"prometheus","published":1,"updated":"2019-05-27T08:09:17.187Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf0s002lp4n76yld7u6h","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><p>Prometheus  Google  borgmon  SoundCloud  google  2012  2015 2016 Prometheus  Cloud Native Computing Foundation Kubernetes </p>\n<h3 id=\"TSDB\"><a href=\"#TSDB\" class=\"headerlink\" title=\"TSDB\"></a>TSDB</h3><p>TSDB(Time Series Database)</p>\n<p><strong>PrometheusTSDB</strong></p>\n<ul>\n<li>/</li>\n<li>PromQL</li>\n<li></li>\n<li>HTTPpull</li>\n<li>Pushgateway</li>\n<li></li>\n<li>Grafana</li>\n</ul>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><p>Prometheus </p>\n<ul>\n<li><p><code>Prometheus Server</code>PrometheusPrometheus ServerService DiscoveryPrometheus SeverPrometheus ServerPrometheus ServerPromQLPrometheus ServerPrometheus Server</p>\n</li>\n<li><p><code>Exporters</code>ExporterHTTPPrometheus ServerPrometheusPrometheus ServerExporterEndpointExporter2</p>\n<blockquote>\n<p><code></code>ExporterPrometheuscAdvisorKubernetesEtcdGokitPrometheus</p>\n<p><code></code>PrometheusPrometheusClient LibraryMysql ExporterJMX ExporterConsul Exporter</p>\n</blockquote>\n</li>\n<li><code>AlertManager</code>Prometheus ServerProm QLProm QLAlertManager Prometheus server  alertspagerdutywebhook </li>\n<li><code>PushGateway</code>: jobs jobs  Prometheus  pull  jobs  Prometheus metrics metrics metrices node exporterPushGatwayzabbix proxy</li>\n</ul>\n<h3 id=\"Prometheus-\"><a href=\"#Prometheus-\" class=\"headerlink\" title=\"Prometheus \"></a>Prometheus </h3><p><img src=\"https://prometheus.io/assets/architecture.png\" alt><br>Prometheus <code>Prometheus server</code>, <code>exporters</code>, <code>Pushgateway</code>, <code>PromQL</code>, <code>Alertmanager</code> <code></code>PrometheusHTTPHTTPSDKVMDockerKubernetesHTTPexporter exporterVarnishHaproxyNginxMySQLLinux(CPU)</p>\n<h3 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h3><ol>\n<li>Prometheus server  jobs  exporters  metricsPushgateway metrics Prometheus server  metrics</li>\n<li>Prometheus server  metrics alert.rules Alertmanager </li>\n<li>PrometheusPromQLAPIPrometheusGrafanaPromdashPrometheusHTTP API</li>\n</ol>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Prometheus  metric <br><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;metric name&gt;&#123;&lt;<span class=\"selector-tag\">label</span> name&gt;=&lt;<span class=\"selector-tag\">label</span> value&gt;, ...&#125;</span><br></pre></td></tr></table></figure></p>\n<p>api_http_requests_totalmethod=POSThandler=/messages<br><figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">api_http_requests_total&#123;method=<span class=\"string\">\"<span class=\"keyword\">POST</span>\"</span>, handler=<span class=\"string\">\"/messages\"</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Metric\"><a href=\"#Metric\" class=\"headerlink\" title=\"Metric\"></a>Metric</h3><ul>\n<li><strong>Counter</strong><br>   metric,cpu  Counterinc()+1</li>\n<li><strong>Gauge</strong><br>   metric  goroutines Gaugeinc()dec(),</li>\n<li><strong>Histogram</strong><br>  buckets(Buckets)</li>\n<li><strong>Summary</strong><br>   SummaryHistogramSummaryHistogram<code>_count</code><code>_sum</code> _count,_sumhttprate(basename_sum[5m]) / rate(basename_count[5m])<br>   SummaryHistogram9 0.0&lt;= Quantiles &lt;= 1.0<br>   Histogram<code>histogram_quantile</code> Sumamry SummaryPromQLHistogram</li>\n</ul>\n<h3 id=\"Jobs--Instances\"><a href=\"#Jobs--Instances\" class=\"headerlink\" title=\"Jobs  Instances\"></a>Jobs  Instances</h3><p>PrometheusscrapeinstanceinstanceJob<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">job: api-server</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>1: 1.2.3.4:5670</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>2: 1.2.3.4:5671</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>3: 5.6.7.8:5670</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>4: 5.6.7.8:5671</span><br></pre></td></tr></table></figure></p>\n<p>Prometheusscrapejobinstancescrape<code>honor_labels</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Prometheus</p>\n<ul>\n<li>Instant vector - </li>\n<li>Range vector - </li>\n<li>Scalar - </li>\n<li>String - </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>http_requests_total<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total</span><br></pre></td></tr></table></figure></p>\n<p>{}http_requests_totalprometheuscanary<br><figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;job=<span class=\"string\">\"prometheus\"</span>,<span class=\"keyword\">group</span>=<span class=\"string\">\"canary\"</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li><code>=</code></li>\n<li><code>!=</code></li>\n<li><code>=~</code></li>\n<li><code>!~</code></li>\n</ul>\n<p>stagingtestingdevelopmentGETHTTPhttp_requests_total</p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;environment=~<span class=\"string\">\"staging|testing|development\"</span>,method!=<span class=\"string\">\"<span class=\"keyword\">GET</span>\"</span>&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>[]</p>\n<ul>\n<li><code>s</code>seconds</li>\n<li><code>m</code>minutes</li>\n<li><code>h</code>hours</li>\n<li><code>d</code>days</li>\n<li><code>w</code>weeks</li>\n<li><code>y</code>years</li>\n</ul>\n<p>5metrichttp_requests_totalprometheus<br><figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;job=<span class=\"string\">\"prometheus\"</span>&#125;<span class=\"string\">[5m]</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Offset\"><a href=\"#Offset\" class=\"headerlink\" title=\"Offset\"></a>Offset</h4><p>offsethttp_requests_total5 <br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total <span class=\"built_in\">offset</span> <span class=\"number\">5</span>m</span><br></pre></td></tr></table></figure></p>\n<p>http_requests_total5 <br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">rate</span><span class=\"params\">(http_requests_total[<span class=\"number\">5</span>m] offset <span class=\"number\">1</span>w)</span></span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://prometheus.io/docs/prometheus/latest/querying/operators/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://prometheus.io/docs/prometheus/latest/querying/functions/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ wget https://github.com/prometheus/prometheus/releases/download/v2.9.1/prometheus-2.9.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf prometheus-2.9.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus-usr-local\"><a href=\"#prometheus-usr-local\" class=\"headerlink\" title=\"prometheus/usr/local\"></a>prometheus/usr/local</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mv prometheus-2.9.1.linux-amd64 /usr/<span class=\"built_in\">local</span>/prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /usr/<span class=\"built_in\">local</span>/prometheus/prometheus --version </span><br><span class=\"line\">  prometheus, version 2.9.1 (branch: HEAD, revision: ad71f2785fc321092948e33706b04f3150eee44f)</span><br><span class=\"line\">  build user:       root@09f919068df4</span><br><span class=\"line\">  build date:       20190416-17:50:04</span><br><span class=\"line\">  go version:       go1.12.4</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ groupadd prometheus</span><br><span class=\"line\">$ useradd -g prometheus -s /sbin/nologin prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -p /var/lib/prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheussystemctl\"><a href=\"#prometheussystemctl\" class=\"headerlink\" title=\"prometheussystemctl\"></a>prometheussystemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /usr/lib/systemd/system/prometheus.service &lt;&lt; EOF</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Prometheus</span><br><span class=\"line\">Documentation=https://prometheus.io/</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">User=prometheus</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/prometheus/prometheus --config.file=/usr/<span class=\"built_in\">local</span>/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown -R prometheus:prometheus /usr/<span class=\"built_in\">local</span>/prometheus/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown -R prometheus:prometheus /var/lib/prometheus/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown prometheus:prometheus /usr/lib/systemd/system/prometheus.service</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl start prometheus</span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> prometheus</span><br></pre></td></tr></table></figure>\n<h2 id=\"Prometheus-yml\"><a href=\"#Prometheus-yml\" class=\"headerlink\" title=\"Prometheus.yml\"></a>Prometheus.yml</h2><p>Prometheusjobinstance<br>Prometheus</p>\n<ul>\n<li>prometheusSIGHUP</li>\n<li>Prometheus/-/reloadPOST<code>curl -X POST http://localdns:9090/-/reload</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>--config.file</code><a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML</a></p>\n<p><strong>prometheus.yml</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Prometheus</span></span><br><span class=\"line\"><span class=\"attr\">global:</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_interval:</span>     <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># 1min</span></span><br><span class=\"line\"><span class=\"attr\">  evaluation_interval:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># rules1min</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_timeout:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># 10s</span></span><br><span class=\"line\"><span class=\"attr\">  external_labels:</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">   monitor:</span> <span class=\"string\">'codelab_monitor'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Alertmanager</span></span><br><span class=\"line\"><span class=\"attr\">alerting:</span></span><br><span class=\"line\"><span class=\"attr\"> alertmanagers:</span></span><br><span class=\"line\"><span class=\"attr\"> - static_configs:</span></span><br><span class=\"line\"><span class=\"attr\">   - targets:</span> <span class=\"string\">[\"localhost:9093\"]</span> <span class=\"comment\"># alertmanagerprometheusalertmanagerip</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ruleevaluation_interval</span></span><br><span class=\"line\"><span class=\"attr\">rule_files:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">\"alertmanager_rules.yml\"</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">\"prometheus_rules.yml\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># scrape</span></span><br><span class=\"line\"><span class=\"attr\">scrape_configs:</span></span><br><span class=\"line\"><span class=\"attr\">- job_name:</span> <span class=\"string\">'prometheus'</span> <span class=\"comment\"># job_nametimeserieslabels</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_interval:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># global</span></span><br><span class=\"line\"><span class=\"attr\">  static_configs:</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">  - targets:</span> <span class=\"string\">['localdns:9090']</span> <span class=\"comment\"># prometheusinstance</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- job_name:</span> <span class=\"string\">'example-random'</span></span><br><span class=\"line\"><span class=\"attr\">  static_configs:</span></span><br><span class=\"line\"><span class=\"attr\">  - targets:</span> <span class=\"string\">['localhost:8080']</span></span><br></pre></td></tr></table></figure>\n<p>prometheus<a href=\"https://prometheus.io/docs/prometheus/latest/configuration/configuration/\" target=\"_blank\" rel=\"noopener\">prometheus</a></p>\n","site":{"data":{}},"length":7747,"excerpt":"","more":"<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><p>Prometheus  Google  borgmon  SoundCloud  google  2012  2015 2016 Prometheus  Cloud Native Computing Foundation Kubernetes </p>\n<h3 id=\"TSDB\"><a href=\"#TSDB\" class=\"headerlink\" title=\"TSDB\"></a>TSDB</h3><p>TSDB(Time Series Database)</p>\n<p><strong>PrometheusTSDB</strong></p>\n<ul>\n<li>/</li>\n<li>PromQL</li>\n<li></li>\n<li>HTTPpull</li>\n<li>Pushgateway</li>\n<li></li>\n<li>Grafana</li>\n</ul>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><p>Prometheus </p>\n<ul>\n<li><p><code>Prometheus Server</code>PrometheusPrometheus ServerService DiscoveryPrometheus SeverPrometheus ServerPrometheus ServerPromQLPrometheus ServerPrometheus Server</p>\n</li>\n<li><p><code>Exporters</code>ExporterHTTPPrometheus ServerPrometheusPrometheus ServerExporterEndpointExporter2</p>\n<blockquote>\n<p><code></code>ExporterPrometheuscAdvisorKubernetesEtcdGokitPrometheus</p>\n<p><code></code>PrometheusPrometheusClient LibraryMysql ExporterJMX ExporterConsul Exporter</p>\n</blockquote>\n</li>\n<li><code>AlertManager</code>Prometheus ServerProm QLProm QLAlertManager Prometheus server  alertspagerdutywebhook </li>\n<li><code>PushGateway</code>: jobs jobs  Prometheus  pull  jobs  Prometheus metrics metrics metrices node exporterPushGatwayzabbix proxy</li>\n</ul>\n<h3 id=\"Prometheus-\"><a href=\"#Prometheus-\" class=\"headerlink\" title=\"Prometheus \"></a>Prometheus </h3><p><img src=\"https://prometheus.io/assets/architecture.png\" alt><br>Prometheus <code>Prometheus server</code>, <code>exporters</code>, <code>Pushgateway</code>, <code>PromQL</code>, <code>Alertmanager</code> <code></code>PrometheusHTTPHTTPSDKVMDockerKubernetesHTTPexporter exporterVarnishHaproxyNginxMySQLLinux(CPU)</p>\n<h3 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h3><ol>\n<li>Prometheus server  jobs  exporters  metricsPushgateway metrics Prometheus server  metrics</li>\n<li>Prometheus server  metrics alert.rules Alertmanager </li>\n<li>PrometheusPromQLAPIPrometheusGrafanaPromdashPrometheusHTTP API</li>\n</ol>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Prometheus  metric <br><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;metric name&gt;&#123;&lt;<span class=\"selector-tag\">label</span> name&gt;=&lt;<span class=\"selector-tag\">label</span> value&gt;, ...&#125;</span><br></pre></td></tr></table></figure></p>\n<p>api_http_requests_totalmethod=POSThandler=/messages<br><figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">api_http_requests_total&#123;method=<span class=\"string\">\"<span class=\"keyword\">POST</span>\"</span>, handler=<span class=\"string\">\"/messages\"</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Metric\"><a href=\"#Metric\" class=\"headerlink\" title=\"Metric\"></a>Metric</h3><ul>\n<li><strong>Counter</strong><br>   metric,cpu  Counterinc()+1</li>\n<li><strong>Gauge</strong><br>   metric  goroutines Gaugeinc()dec(),</li>\n<li><strong>Histogram</strong><br>  buckets(Buckets)</li>\n<li><strong>Summary</strong><br>   SummaryHistogramSummaryHistogram<code>_count</code><code>_sum</code> _count,_sumhttprate(basename_sum[5m]) / rate(basename_count[5m])<br>   SummaryHistogram9 0.0&lt;= Quantiles &lt;= 1.0<br>   Histogram<code>histogram_quantile</code> Sumamry SummaryPromQLHistogram</li>\n</ul>\n<h3 id=\"Jobs--Instances\"><a href=\"#Jobs--Instances\" class=\"headerlink\" title=\"Jobs  Instances\"></a>Jobs  Instances</h3><p>PrometheusscrapeinstanceinstanceJob<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">job: api-server</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>1: 1.2.3.4:5670</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>2: 1.2.3.4:5671</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>3: 5.6.7.8:5670</span><br><span class=\"line\">   <span class=\"built_in\"> instance </span>4: 5.6.7.8:5671</span><br></pre></td></tr></table></figure></p>\n<p>Prometheusscrapejobinstancescrape<code>honor_labels</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Prometheus</p>\n<ul>\n<li>Instant vector - </li>\n<li>Range vector - </li>\n<li>Scalar - </li>\n<li>String - </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>http_requests_total<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total</span><br></pre></td></tr></table></figure></p>\n<p>{}http_requests_totalprometheuscanary<br><figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;job=<span class=\"string\">\"prometheus\"</span>,<span class=\"keyword\">group</span>=<span class=\"string\">\"canary\"</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li><code>=</code></li>\n<li><code>!=</code></li>\n<li><code>=~</code></li>\n<li><code>!~</code></li>\n</ul>\n<p>stagingtestingdevelopmentGETHTTPhttp_requests_total</p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;environment=~<span class=\"string\">\"staging|testing|development\"</span>,method!=<span class=\"string\">\"<span class=\"keyword\">GET</span>\"</span>&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>[]</p>\n<ul>\n<li><code>s</code>seconds</li>\n<li><code>m</code>minutes</li>\n<li><code>h</code>hours</li>\n<li><code>d</code>days</li>\n<li><code>w</code>weeks</li>\n<li><code>y</code>years</li>\n</ul>\n<p>5metrichttp_requests_totalprometheus<br><figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total&#123;job=<span class=\"string\">\"prometheus\"</span>&#125;<span class=\"string\">[5m]</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Offset\"><a href=\"#Offset\" class=\"headerlink\" title=\"Offset\"></a>Offset</h4><p>offsethttp_requests_total5 <br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http_requests_total <span class=\"built_in\">offset</span> <span class=\"number\">5</span>m</span><br></pre></td></tr></table></figure></p>\n<p>http_requests_total5 <br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">rate</span><span class=\"params\">(http_requests_total[<span class=\"number\">5</span>m] offset <span class=\"number\">1</span>w)</span></span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://prometheus.io/docs/prometheus/latest/querying/operators/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://prometheus.io/docs/prometheus/latest/querying/functions/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h2><h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ wget https://github.com/prometheus/prometheus/releases/download/v2.9.1/prometheus-2.9.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar zxvf prometheus-2.9.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus-usr-local\"><a href=\"#prometheus-usr-local\" class=\"headerlink\" title=\"prometheus/usr/local\"></a>prometheus/usr/local</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mv prometheus-2.9.1.linux-amd64 /usr/<span class=\"built_in\">local</span>/prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /usr/<span class=\"built_in\">local</span>/prometheus/prometheus --version </span><br><span class=\"line\">  prometheus, version 2.9.1 (branch: HEAD, revision: ad71f2785fc321092948e33706b04f3150eee44f)</span><br><span class=\"line\">  build user:       root@09f919068df4</span><br><span class=\"line\">  build date:       20190416-17:50:04</span><br><span class=\"line\">  go version:       go1.12.4</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ groupadd prometheus</span><br><span class=\"line\">$ useradd -g prometheus -s /sbin/nologin prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -p /var/lib/prometheus</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheussystemctl\"><a href=\"#prometheussystemctl\" class=\"headerlink\" title=\"prometheussystemctl\"></a>prometheussystemctl</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat &gt; /usr/lib/systemd/system/prometheus.service &lt;&lt; EOF</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Prometheus</span><br><span class=\"line\">Documentation=https://prometheus.io/</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">User=prometheus</span><br><span class=\"line\">ExecStart=/usr/<span class=\"built_in\">local</span>/prometheus/prometheus --config.file=/usr/<span class=\"built_in\">local</span>/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h3 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown -R prometheus:prometheus /usr/<span class=\"built_in\">local</span>/prometheus/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown -R prometheus:prometheus /var/lib/prometheus/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># prometheus</span></span><br><span class=\"line\">$ chown prometheus:prometheus /usr/lib/systemd/system/prometheus.service</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ systemctl start prometheus</span><br><span class=\"line\">$ systemctl <span class=\"built_in\">enable</span> prometheus</span><br></pre></td></tr></table></figure>\n<h2 id=\"Prometheus-yml\"><a href=\"#Prometheus-yml\" class=\"headerlink\" title=\"Prometheus.yml\"></a>Prometheus.yml</h2><p>Prometheusjobinstance<br>Prometheus</p>\n<ul>\n<li>prometheusSIGHUP</li>\n<li>Prometheus/-/reloadPOST<code>curl -X POST http://localdns:9090/-/reload</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>--config.file</code><a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML</a></p>\n<p><strong>prometheus.yml</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Prometheus</span></span><br><span class=\"line\"><span class=\"attr\">global:</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_interval:</span>     <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># 1min</span></span><br><span class=\"line\"><span class=\"attr\">  evaluation_interval:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># rules1min</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_timeout:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># 10s</span></span><br><span class=\"line\"><span class=\"attr\">  external_labels:</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">   monitor:</span> <span class=\"string\">'codelab_monitor'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Alertmanager</span></span><br><span class=\"line\"><span class=\"attr\">alerting:</span></span><br><span class=\"line\"><span class=\"attr\"> alertmanagers:</span></span><br><span class=\"line\"><span class=\"attr\"> - static_configs:</span></span><br><span class=\"line\"><span class=\"attr\">   - targets:</span> <span class=\"string\">[\"localhost:9093\"]</span> <span class=\"comment\"># alertmanagerprometheusalertmanagerip</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ruleevaluation_interval</span></span><br><span class=\"line\"><span class=\"attr\">rule_files:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">\"alertmanager_rules.yml\"</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">\"prometheus_rules.yml\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># scrape</span></span><br><span class=\"line\"><span class=\"attr\">scrape_configs:</span></span><br><span class=\"line\"><span class=\"attr\">- job_name:</span> <span class=\"string\">'prometheus'</span> <span class=\"comment\"># job_nametimeserieslabels</span></span><br><span class=\"line\"><span class=\"attr\">  scrape_interval:</span> <span class=\"number\">15</span><span class=\"string\">s</span> <span class=\"comment\"># global</span></span><br><span class=\"line\"><span class=\"attr\">  static_configs:</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">  - targets:</span> <span class=\"string\">['localdns:9090']</span> <span class=\"comment\"># prometheusinstance</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- job_name:</span> <span class=\"string\">'example-random'</span></span><br><span class=\"line\"><span class=\"attr\">  static_configs:</span></span><br><span class=\"line\"><span class=\"attr\">  - targets:</span> <span class=\"string\">['localhost:8080']</span></span><br></pre></td></tr></table></figure>\n<p>prometheus<a href=\"https://prometheus.io/docs/prometheus/latest/configuration/configuration/\" target=\"_blank\" rel=\"noopener\">prometheus</a></p>\n"},{"layout":"post","title":"Ansible playbook","author":"Pyker","img":"/images/bar/playbook.jpg","top":false,"cover":false,"date":"2018-03-23T02:20:00.000Z","_content":"## Playbook\nPlaybooksAd-HocAnsibleansible[yaml](http://www.ansible.com.cn/docs/YAMLSyntax.html)ansbile-playbook``playbook  plays . plays play ,. ansible ,play , tasks,., ansible\n\n## Playbook\n* `hosts`task\n* `remote_user`\n* `tasks`\n* `handlers`tasks\n* `templates`jinja2\n* `variables`{{ variable_name }}\n* `tag`taskstasksalwaystag\n* `when`: tasks `not` `or` `and` `!=` `=`\n* `with_items``{item}}`\n\nplaybook\n```yaml\n ---\n    - hosts: test                                  # \n      remote_user: root                            # \n      vars:                                        # \n        - bsh: b.sh\n        - httprpm: httpd\n      task:                                        # \n        - name: install httpd                      # httpd\n          yum: name={{ httprpm }} state=present    # ansibleyum\n          tags: install_httpd                      # install_httpd\n        - name: copy b.sh                          # b.sh\n          copy: src=/root/{{ bsh }} dest=/root/ owner=ala group=ala mode=0644\n          notify:                                  # copy\n            - reload httpd                         # handlers\n          when: ansible_distribution == \"CentOS\"   # CentOScopy\n        - name: copy b.sh                          \n          copy: src=/root/{{ bsh }} dest=/opt/ owner=ala group=ala mode=0644\n          notify:                                  \n            - reload httpd                         \n          when: ansible_distribution == \"Ubuntu\"   # Ubuntucopy\n        - name: start httpd                        # httpd\n          service: name=httpd state=started enabled=yes\n      handlers:                                    # \n        - name: reload httpd                       # \n          service: name=httpd state=reloaded       # httpd\n```\n> `ansible_distribution`ansiblefacts\n\n## playbook\n** ansible  6 **\n* /etc/ansible/hosts\n* /etc/ansible/hosts/\n* playbookyamlvars\n* facts\n* \n* playbook role\n\n\n```bash\n# /etc/ansible/hosts \n192.168.200.136 http_port=808 maxRequestsPerChild=808\n192.168.200.137 http_port=8080 maxRequestsPerChild=909\n \n# /etc/ansible/hosts \n[websers]\n192.168.200.136\n192.168.200.137\n \n[websers:vars]  \nntp_server=ntp.exampl.com\nproxy=proxy.exampl.com                # ntp_serverproxywebsers\n\n# playbookyamlvars\n ---\n    - hosts: test                                  \n      remote_user: root                            \n      vars:                           # bshhttprpm\n        - bsh: b.sh\n        - httprpm: httpd\n\n# facts\nansible 192.168.200.136 -m setup      # facts{{variable_name}}\n\n# \n/etc/ansible/group_vars/websers       # websers\n/etc/ansible/host_vars/hostpc         # hostpc\n\n$ cat /etc/ansible/host_vars/hostpc   # \n---\nntp_server: acme.example.org\ndatabase_server: storage.example.org\n\n# role   \n$ cat /etc/ansible/roles/nginx/vars/main.yml\n---\nnginx_port: 80\nnginx_domain: www.abc.com\nnginx_user: nginx\n```\n## playbook role\n### Roles\nAnsiblePlaybookrolesRolestaskhandlersrolesincluderoles\n\n### Roles\nrolesrolesroleswebseversfileshandlerstaskstemplatesmetadefaultsvarsPlaybook\n\n### roles\n* `files`copyscript\n* `templates`jinjia2templatejinjia2\n* `tasks`main.ymlincludetask\n* `handlers`main.yml\n* `vars`main.yml\n* `defaults`main.yml\n* `meta`main.yml\n\nnginxplaybook\n```bash\n[root@k8s-master1 roles]# tree /etc/ansible/roles/nginx\n/etc/ansible/roles/nginx\n defaults\n  main.yml\n files\n  nginx.tar.gz\n handlers\n  main.yml\n meta\n  main.yml\n tasks\n  main.yml\n templates\n  nginx.conf.j2\n  default.conf.j2\n vars\n     main.yml\n```\n\n## rolesnginx\n### \n | IP |  | \n--- | --- | --- | ---\nansible | 192.168.20.210 | centos7.5 | ansible\nweb-nginx | 192.168.20.213 | centos7.5 | web \n\n### hosts\n```bash\n$ cat /etc/ansilbe/hosts          # ansible hosts\n  [web-node]\n  192.168.20.213\n```\n### ssh\n```bash\n# ansiblessh\n \n$ ssh-keygen -t rsa\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:m4+23Eh+dJ8r/9zSjpUbHJECh1iFQU8Z0QMlygrRm98 root@k8s-node1\nThe key's randomart image is:\n+---[RSA 2048]----+\n|       .. +==OB. |\n|        .o.o*..o.|\n|       .  oo o o.|\n|        .o.   . .|\n|        S.. .  . |\n|         o...E. o|\n|        +. . . *.|\n|       +.=. . ++=|\n|       .*oo  o+*=|\n+----[SHA256]-----+\n\n# ansiblenginx web\n\n$ ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.20.213\n\nrootrootansiblesshnginx web\n```\n### nginxroles\n```bash\n$ mkdir -pv /etc/ansible/roles/nginx/{defaults,files,handlers,meta,tasks,templates,vars}\n```\n### \n```bash\ncd /etc/ansible/roles/nginx/files\n$ wget http://nginx.org/download/nginx-1.16.0.tar.gz\n$ wget https://www.openssl.org/source/openssl-1.0.2r.tar.gz\n$ wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.42.tar.gz\n$ wget http://www.zlib.net/zlib-1.2.11.tar.gz\n```\n### \n>ansible playbook\n\n```bash\n$ cat /etc/ansible/roles/nginx/files/install_nginx.sh\n#!/bin/sh\n#info: source code install nginx 1.16.0\n#author: pyker <pyker@qq.com>\nexport PATH=`echo $PATH`\nPWD=\"/opt\"\nNGINX=nginx-1.16.0\nOPENSSL=openssl-1.0.2r\nPCRE=pcre-8.42\nZLIB=zlib-1.2.11\nRUN_USER=nginx\nid -u ${RUN_USER} >/dev/null 2>&1\n[ $? -ne 0 ] && useradd -M -s /sbin/nologin ${RUN_USER}\nmkdir -p /var/log/nginx\nyum install -y epel-release \nyum install -y jemalloc jemalloc-devel\nyum install -y gcc \\\n             gcc-c++ \\\n             gcc++ \\\n             perl \\\n             perl-devel \\\n             perl-ExtUtils-Embed \\\n             libxslt \\\n             libxslt-devel \\\n             libxml2 \\\n             libxml2-devel \\\n             gd \\\n             gd-devel \\\n             GeoIP \\\n             GeoIP-devel\ncd $PWD\nfor tar in `ls *.tar.gz`; do\n  tar zxf $tar\ndone\n\ncd $PWD/$NGINX && ./configure --prefix=/usr/local/nginx \\\n            --sbin-path=/usr/sbin/nginx \\\n            --user=nginx \\\n            --group=nginx \\\n            --pid-path=/var/run/nginx.pid \\\n            --lock-path=/var/run/nginx.lock \\\n            --error-log-path=/var/log/nginx/error.log \\\n            --http-log-path=/var/log/nginx/access.log \\\n            --with-select_module \\\n            --with-poll_module \\\n            --with-threads \\\n            --with-file-aio \\\n            --with-http_ssl_module \\\n            --with-http_v2_module \\\n            --with-http_realip_module \\\n            --with-http_addition_module \\\n            --with-http_xslt_module=dynamic \\\n            --with-http_image_filter_module=dynamic \\\n            --with-http_geoip_module=dynamic \\\n            --with-http_sub_module \\\n            --with-http_dav_module \\\n            --with-http_flv_module \\\n            --with-http_mp4_module \\\n            --with-http_gunzip_module \\\n            --with-http_gzip_static_module \\\n            --with-http_auth_request_module \\\n            --with-http_random_index_module \\\n            --with-http_secure_link_module \\\n            --with-http_degradation_module \\\n            --with-http_slice_module \\\n            --with-http_stub_status_module \\\n            --with-mail=dynamic \\\n            --with-mail_ssl_module \\\n            --with-stream \\\n            --with-stream_ssl_module \\\n            --with-stream_realip_module \\\n            --with-stream_geoip_module=dynamic \\\n            --with-stream_ssl_preread_module \\\n            --with-compat \\\n            --with-ld-opt=\"-ljemalloc\" \\\n            --with-pcre=../${PCRE} \\\n            --with-pcre-jit \\\n            --with-zlib=../${ZLIB} \\\n            --with-openssl=../${OPENSSL}\\\n            --with-openssl-opt=no-nextprotoneg \\\n            --with-debug && make -j 4 && make install\n```\n ### \n nginxroles\n ```bash\n$ cat /etc/ansible/roles/nginx/vas/main.yml\ncat nginx/vars/main.yml \nnginx_user: nginx\nnginx_port: 80\nnginx_dir: /usr/local/nginx\n ```\n ### nginx.conf\n ```bash\n$ cat /etc/ansible/roles/nginx/templates/nginx.conf.j2\nuser {{ nginx_user }};\nworker_processes {{ ansible_processor_vcpus }};\n\nerror_log /var/log/nginx/error_nginx.log crit;\npid /var/run/nginx.pid;\nworker_rlimit_nofile 51200;\n\nevents {\n  use epoll;\n  worker_connections 51200;\n  multi_accept on;\n}\n\nhttp {\n  map $http_upgrade $connection_upgrade {\n    default upgrade;\n    ''      close;\n  }\n  include mime.types;\n  default_type application/octet-stream;\n  server_names_hash_bucket_size 128;\n  client_header_buffer_size 32k;\n  large_client_header_buffers 4 32k;\n  client_max_body_size 1024m;\n  client_body_buffer_size 10m;\n  sendfile on;\n  tcp_nopush on;\n  keepalive_timeout 120;\n  server_tokens off;\n  tcp_nodelay on;\n\n  #Gzip Compression\n  gzip on;\n  gzip_buffers 16 8k;\n  gzip_comp_level 6;\n  gzip_http_version 1.1;\n  gzip_min_length 256;\n  gzip_proxied any;\n  gzip_vary on;\n  gzip_types\n    text/xml application/xml application/atom+xml application/rss+xml application/xhtml+xml image/svg+xml\n    text/javascript application/javascript application/x-javascript\n    text/x-json application/json application/x-web-app-manifest+json\n    text/css text/plain text/x-component\n    font/opentype application/x-font-ttf application/vnd.ms-fontobject\n    image/x-icon;\n  gzip_disable \"MSIE [1-6]\\.(?!.*SV1)\";\n\n  #If you have a lot of static files to serve through Nginx then caching of the files' metadata (not the actual files' contents) can save some latency.\n  open_file_cache max=1000 inactive=20s;\n  open_file_cache_valid 30s;\n  open_file_cache_min_uses 2;\n  open_file_cache_errors on;\n\n########################## vhost #############################\n  include upstream/*.conf;\n  include vhost/*.conf;\n}\n ```\n >nginx.conf.j2`nginx_user``ansible_processor_vcpus``-m setup`facts\n\n ### server\n ```bash\n ```bash\n$ cat /etc/ansible/roles/nginx/templates/default.conf.j2\nserver {\n        listen {{ nginx_port }};\n        server_name {{ ansible_all_ipv4_addresses }};\n        index index.html index.htm index.jsp index.do;\n        access_log  off;\n\n        location / {\n            root /data/wwwroot;\n        }\n\n         location /nginx_status {\n            stub_status on;\n            access_log   off;\n  }\n}\n ```\n >default.conf.j2`nginx_port``ansible_all_ipv4_addresses``-m setup`facts\n\n### index.html\n```bash\n$ cat /etc/ansible/roles/nginx/templates/index.html\n this is test pages!\n```\n### nginx\n```bash\n$ cat /etc/ansible/roles/nginx/files/nginx.service\n[Unit]\nDescription=The NGINX HTTP and reverse proxy server\nAfter=syslog.target network.target remote-fs.target nss-lookup.target\n\n[Service]\nType=forking\nPIDFile=/var/run/nginx.pid\nExecStartPre=/usr/sbin/nginx -t\nExecStart=/usr/sbin/nginx\nExecReload=/usr/sbin/nginx -s reload\nExecStop=/usr/bin/kill -s QUIT $MAINPID\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n```\n### tasks\n```yaml\n# taskscopy.yamlfilesnginx\n# tasks/main.yaml-includecopy.yaml\n\n$ cat /etc/ansible/roles/nginx/tasks/copy.yaml\n- name: copy nginx-1.16.0.tar.gz to client\n  copy: src=/etc/ansible/roles/nginx/files/nginx-1.16.0.tar.gz dest=/opt/nginx-1.16.0.tar.gz\n- name: copy install_nginx.sh to client\n  copy: src=/etc/ansible/roles/nginx/files/install_nginx.sh dest=/opt/install_nginx.sh\n- name: mkdir nginx data directory\n  file: path=/data/wwwroot state=directory recurse=yes\n- name: copy index.html\n  copy: src=/etc/ansible/roles/nginx/files/index.html dest=/data/wwwroot/index.html\n- name: copy nginx systemctl file\n  copy: src=/etc/ansible/roles/nginx/files/nginx.service dest=/usr/lib/systemd/system/nginx.service\n- name: copy dependency package\n  copy: src=/etc/ansible/roles/nginx/files/{{ item }} dest=/opt/{{ item }}\n  with_items:\n    - openssl-1.0.2r.tar.gz\n    - pcre-8.42.tar.gz\n    - zlib-1.2.11.tar.gz\n```\n```yaml\n# main.yaml\n\n$ cat /etc/ansible/roles/nginx/tasks/main.yml \n---\n- include: copy.yml       # includecopy.yaml\n- name: install nginx\n  shell: /usr/bin/sh /opt/install_nginx.sh\n- name: replace nginx.conf file\n  template: src=/etc/ansible/roles/nginx/templates/nginx.conf.j2 dest={{ nginx_dir }}/conf/nginx.conf\n- name: mkdir nginx vhost directory\n  file: path={{nginx_dir}}/conf/vhost state=directory\n- name: relpace default.conf file\n  template: src=/etc/ansible/roles/nginx/templates/default.conf.j2 dest={{nginx_dir}}/conf/vhost/default.conf\n  tags: ngxdef            # tagdefault.conf\n  notify:\n    - reload nginx        # handler\n- name: start nginx\n  command: /usr/sbin/nginx # nginx shell: systemctl start nginx\n```\n### handlers\n```yaml\n$ cat /etc/ansible/roles/nginx/handlers/main.yml \n---\n- name: reload nginx\n  shell: /usr/sbin/nginx -t; /usr/sbin/nginx -s reload  #  shell: systemctl reload nginx\n```\n### role\n```bash\n$ cat /etc/ansible/roles/nginx.yml \n---\n- hosts: web-node      # playbook\n  remote_user: root    # \n  roles:               # \n    - nginx            # playbook\n```\n### nginx roles\n```bash\n$ tree /etc/ansible/roles/\n/etc/ansible/roles/\n nginx\n  defaults\n  files\n   index.html\n   nginx.service\n   install_nginx.sh\n   nginx-1.16.0.tar.gz\n   openssl-1.0.2r.tar.gz\n   pcre-8.42.tar.gz\n   zlib-1.2.11.tar.gz\n  handlers\n   main.yml\n  meta\n  tasks\n   copy.yml\n   main.yml\n  templates\n   default.conf.j2\n   nginx.conf.j2\n  vars\n      main.yml\n nginx.yml\n```\n### playbook\nplaybooknginxplaybook\n```bash\n$ ansible-playbook --syntax-check /etc/ansible/roles/nginx.yml \n\nplaybook: /etc/ansible/roles/nginx.yml  # \n```\n\n### \n`ansible-playbook -C` playbookplaybook\n```bash\n$ ansible-playbook -C nginx.yml \n\nPLAY [web-node] ************************************************************************************************************************************************\n\nTASK [nginx : copy nginx-1.16.0.tar.gz to client] **************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy install_nginx.sh to client] *****************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : mkdir nginx data directory] **********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy index.html] *********************************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy nginx systemctl file] ***********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy dependency package] *************************************************************************************************************************\nchanged: [192.168.20.213] => (item=openssl-1.0.2r.tar.gz)\nchanged: [192.168.20.213] => (item=pcre-8.42.tar.gz)\nchanged: [192.168.20.213] => (item=zlib-1.2.11.tar.gz)\n\nTASK [nginx : install nginx] ***********************************************************************************************************************************\nskipping: [192.168.20.213]\n\nTASK [nginx : replace nginx.conf file] *************************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : mkdir nginx vhost directory] *********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : relpace default.conf file] ***********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : start nginx] *************************************************************************************************************************************\nskipping: [192.168.20.213]\n\nRUNNING HANDLER [nginx : reload nginx] *************************************************************************************************************************\nskipping: [192.168.20.213]\n\nPLAY RECAP *****************************************************************************************************************************************************\n192.168.20.213             : ok=8    changed=8    unreachable=0    failed=0\n```\n### nginx playbook\n```bash\n$ ansible-playbook nginx.yml\n```\n>`ansible-playbook nginx.yml`ansiblenginx\n\n### \nnginx playbook\n```bash\n# webnginx\n$ netstat -ptln | grep 80\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      14461/nginx: master\n\n# nginx\n$ ps -ef | grep nginx\nroot      14461      1  0 00:39 ?        00:00:00 nginx: master process /usr/sbin/nginx\nnginx     14474  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14475  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14476  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14477  14461  0 00:39 ?        00:00:00 nginx: worker process\nroot      39501   1664  0 11:38 pts/0    00:00:00 grep --color=auto nginx\n\n# nginx\n$ curl http://192.168.20.213\nthis is a test pages!       # index.html\n\n# nginx_statusuri\n$ curl http://192.168.20.213/nginx_status     #default.conf.j2nginx location\nActive connections: 1 \nserver accepts handled requests\n 8 8 10 \nReading: 0 Writing: 1 Waiting: 0\n```\nansible-playbooknginx","source":"_posts/ansible-playbook.md","raw":"layout: post\ntitle: Ansible playbook\nauthor: Pyker\ncategories: CI/CD\nimg: /images/bar/playbook.jpg\ntags:\n  - ansible\ntop: false\ncover: false\ndate: 2018-03-23 10:20:00\n---\n## Playbook\nPlaybooksAd-HocAnsibleansible[yaml](http://www.ansible.com.cn/docs/YAMLSyntax.html)ansbile-playbook``playbook  plays . plays play ,. ansible ,play , tasks,., ansible\n\n## Playbook\n* `hosts`task\n* `remote_user`\n* `tasks`\n* `handlers`tasks\n* `templates`jinja2\n* `variables`{{ variable_name }}\n* `tag`taskstasksalwaystag\n* `when`: tasks `not` `or` `and` `!=` `=`\n* `with_items``{item}}`\n\nplaybook\n```yaml\n ---\n    - hosts: test                                  # \n      remote_user: root                            # \n      vars:                                        # \n        - bsh: b.sh\n        - httprpm: httpd\n      task:                                        # \n        - name: install httpd                      # httpd\n          yum: name={{ httprpm }} state=present    # ansibleyum\n          tags: install_httpd                      # install_httpd\n        - name: copy b.sh                          # b.sh\n          copy: src=/root/{{ bsh }} dest=/root/ owner=ala group=ala mode=0644\n          notify:                                  # copy\n            - reload httpd                         # handlers\n          when: ansible_distribution == \"CentOS\"   # CentOScopy\n        - name: copy b.sh                          \n          copy: src=/root/{{ bsh }} dest=/opt/ owner=ala group=ala mode=0644\n          notify:                                  \n            - reload httpd                         \n          when: ansible_distribution == \"Ubuntu\"   # Ubuntucopy\n        - name: start httpd                        # httpd\n          service: name=httpd state=started enabled=yes\n      handlers:                                    # \n        - name: reload httpd                       # \n          service: name=httpd state=reloaded       # httpd\n```\n> `ansible_distribution`ansiblefacts\n\n## playbook\n** ansible  6 **\n* /etc/ansible/hosts\n* /etc/ansible/hosts/\n* playbookyamlvars\n* facts\n* \n* playbook role\n\n\n```bash\n# /etc/ansible/hosts \n192.168.200.136 http_port=808 maxRequestsPerChild=808\n192.168.200.137 http_port=8080 maxRequestsPerChild=909\n \n# /etc/ansible/hosts \n[websers]\n192.168.200.136\n192.168.200.137\n \n[websers:vars]  \nntp_server=ntp.exampl.com\nproxy=proxy.exampl.com                # ntp_serverproxywebsers\n\n# playbookyamlvars\n ---\n    - hosts: test                                  \n      remote_user: root                            \n      vars:                           # bshhttprpm\n        - bsh: b.sh\n        - httprpm: httpd\n\n# facts\nansible 192.168.200.136 -m setup      # facts{{variable_name}}\n\n# \n/etc/ansible/group_vars/websers       # websers\n/etc/ansible/host_vars/hostpc         # hostpc\n\n$ cat /etc/ansible/host_vars/hostpc   # \n---\nntp_server: acme.example.org\ndatabase_server: storage.example.org\n\n# role   \n$ cat /etc/ansible/roles/nginx/vars/main.yml\n---\nnginx_port: 80\nnginx_domain: www.abc.com\nnginx_user: nginx\n```\n## playbook role\n### Roles\nAnsiblePlaybookrolesRolestaskhandlersrolesincluderoles\n\n### Roles\nrolesrolesroleswebseversfileshandlerstaskstemplatesmetadefaultsvarsPlaybook\n\n### roles\n* `files`copyscript\n* `templates`jinjia2templatejinjia2\n* `tasks`main.ymlincludetask\n* `handlers`main.yml\n* `vars`main.yml\n* `defaults`main.yml\n* `meta`main.yml\n\nnginxplaybook\n```bash\n[root@k8s-master1 roles]# tree /etc/ansible/roles/nginx\n/etc/ansible/roles/nginx\n defaults\n  main.yml\n files\n  nginx.tar.gz\n handlers\n  main.yml\n meta\n  main.yml\n tasks\n  main.yml\n templates\n  nginx.conf.j2\n  default.conf.j2\n vars\n     main.yml\n```\n\n## rolesnginx\n### \n | IP |  | \n--- | --- | --- | ---\nansible | 192.168.20.210 | centos7.5 | ansible\nweb-nginx | 192.168.20.213 | centos7.5 | web \n\n### hosts\n```bash\n$ cat /etc/ansilbe/hosts          # ansible hosts\n  [web-node]\n  192.168.20.213\n```\n### ssh\n```bash\n# ansiblessh\n \n$ ssh-keygen -t rsa\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:m4+23Eh+dJ8r/9zSjpUbHJECh1iFQU8Z0QMlygrRm98 root@k8s-node1\nThe key's randomart image is:\n+---[RSA 2048]----+\n|       .. +==OB. |\n|        .o.o*..o.|\n|       .  oo o o.|\n|        .o.   . .|\n|        S.. .  . |\n|         o...E. o|\n|        +. . . *.|\n|       +.=. . ++=|\n|       .*oo  o+*=|\n+----[SHA256]-----+\n\n# ansiblenginx web\n\n$ ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.20.213\n\nrootrootansiblesshnginx web\n```\n### nginxroles\n```bash\n$ mkdir -pv /etc/ansible/roles/nginx/{defaults,files,handlers,meta,tasks,templates,vars}\n```\n### \n```bash\ncd /etc/ansible/roles/nginx/files\n$ wget http://nginx.org/download/nginx-1.16.0.tar.gz\n$ wget https://www.openssl.org/source/openssl-1.0.2r.tar.gz\n$ wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.42.tar.gz\n$ wget http://www.zlib.net/zlib-1.2.11.tar.gz\n```\n### \n>ansible playbook\n\n```bash\n$ cat /etc/ansible/roles/nginx/files/install_nginx.sh\n#!/bin/sh\n#info: source code install nginx 1.16.0\n#author: pyker <pyker@qq.com>\nexport PATH=`echo $PATH`\nPWD=\"/opt\"\nNGINX=nginx-1.16.0\nOPENSSL=openssl-1.0.2r\nPCRE=pcre-8.42\nZLIB=zlib-1.2.11\nRUN_USER=nginx\nid -u ${RUN_USER} >/dev/null 2>&1\n[ $? -ne 0 ] && useradd -M -s /sbin/nologin ${RUN_USER}\nmkdir -p /var/log/nginx\nyum install -y epel-release \nyum install -y jemalloc jemalloc-devel\nyum install -y gcc \\\n             gcc-c++ \\\n             gcc++ \\\n             perl \\\n             perl-devel \\\n             perl-ExtUtils-Embed \\\n             libxslt \\\n             libxslt-devel \\\n             libxml2 \\\n             libxml2-devel \\\n             gd \\\n             gd-devel \\\n             GeoIP \\\n             GeoIP-devel\ncd $PWD\nfor tar in `ls *.tar.gz`; do\n  tar zxf $tar\ndone\n\ncd $PWD/$NGINX && ./configure --prefix=/usr/local/nginx \\\n            --sbin-path=/usr/sbin/nginx \\\n            --user=nginx \\\n            --group=nginx \\\n            --pid-path=/var/run/nginx.pid \\\n            --lock-path=/var/run/nginx.lock \\\n            --error-log-path=/var/log/nginx/error.log \\\n            --http-log-path=/var/log/nginx/access.log \\\n            --with-select_module \\\n            --with-poll_module \\\n            --with-threads \\\n            --with-file-aio \\\n            --with-http_ssl_module \\\n            --with-http_v2_module \\\n            --with-http_realip_module \\\n            --with-http_addition_module \\\n            --with-http_xslt_module=dynamic \\\n            --with-http_image_filter_module=dynamic \\\n            --with-http_geoip_module=dynamic \\\n            --with-http_sub_module \\\n            --with-http_dav_module \\\n            --with-http_flv_module \\\n            --with-http_mp4_module \\\n            --with-http_gunzip_module \\\n            --with-http_gzip_static_module \\\n            --with-http_auth_request_module \\\n            --with-http_random_index_module \\\n            --with-http_secure_link_module \\\n            --with-http_degradation_module \\\n            --with-http_slice_module \\\n            --with-http_stub_status_module \\\n            --with-mail=dynamic \\\n            --with-mail_ssl_module \\\n            --with-stream \\\n            --with-stream_ssl_module \\\n            --with-stream_realip_module \\\n            --with-stream_geoip_module=dynamic \\\n            --with-stream_ssl_preread_module \\\n            --with-compat \\\n            --with-ld-opt=\"-ljemalloc\" \\\n            --with-pcre=../${PCRE} \\\n            --with-pcre-jit \\\n            --with-zlib=../${ZLIB} \\\n            --with-openssl=../${OPENSSL}\\\n            --with-openssl-opt=no-nextprotoneg \\\n            --with-debug && make -j 4 && make install\n```\n ### \n nginxroles\n ```bash\n$ cat /etc/ansible/roles/nginx/vas/main.yml\ncat nginx/vars/main.yml \nnginx_user: nginx\nnginx_port: 80\nnginx_dir: /usr/local/nginx\n ```\n ### nginx.conf\n ```bash\n$ cat /etc/ansible/roles/nginx/templates/nginx.conf.j2\nuser {{ nginx_user }};\nworker_processes {{ ansible_processor_vcpus }};\n\nerror_log /var/log/nginx/error_nginx.log crit;\npid /var/run/nginx.pid;\nworker_rlimit_nofile 51200;\n\nevents {\n  use epoll;\n  worker_connections 51200;\n  multi_accept on;\n}\n\nhttp {\n  map $http_upgrade $connection_upgrade {\n    default upgrade;\n    ''      close;\n  }\n  include mime.types;\n  default_type application/octet-stream;\n  server_names_hash_bucket_size 128;\n  client_header_buffer_size 32k;\n  large_client_header_buffers 4 32k;\n  client_max_body_size 1024m;\n  client_body_buffer_size 10m;\n  sendfile on;\n  tcp_nopush on;\n  keepalive_timeout 120;\n  server_tokens off;\n  tcp_nodelay on;\n\n  #Gzip Compression\n  gzip on;\n  gzip_buffers 16 8k;\n  gzip_comp_level 6;\n  gzip_http_version 1.1;\n  gzip_min_length 256;\n  gzip_proxied any;\n  gzip_vary on;\n  gzip_types\n    text/xml application/xml application/atom+xml application/rss+xml application/xhtml+xml image/svg+xml\n    text/javascript application/javascript application/x-javascript\n    text/x-json application/json application/x-web-app-manifest+json\n    text/css text/plain text/x-component\n    font/opentype application/x-font-ttf application/vnd.ms-fontobject\n    image/x-icon;\n  gzip_disable \"MSIE [1-6]\\.(?!.*SV1)\";\n\n  #If you have a lot of static files to serve through Nginx then caching of the files' metadata (not the actual files' contents) can save some latency.\n  open_file_cache max=1000 inactive=20s;\n  open_file_cache_valid 30s;\n  open_file_cache_min_uses 2;\n  open_file_cache_errors on;\n\n########################## vhost #############################\n  include upstream/*.conf;\n  include vhost/*.conf;\n}\n ```\n >nginx.conf.j2`nginx_user``ansible_processor_vcpus``-m setup`facts\n\n ### server\n ```bash\n ```bash\n$ cat /etc/ansible/roles/nginx/templates/default.conf.j2\nserver {\n        listen {{ nginx_port }};\n        server_name {{ ansible_all_ipv4_addresses }};\n        index index.html index.htm index.jsp index.do;\n        access_log  off;\n\n        location / {\n            root /data/wwwroot;\n        }\n\n         location /nginx_status {\n            stub_status on;\n            access_log   off;\n  }\n}\n ```\n >default.conf.j2`nginx_port``ansible_all_ipv4_addresses``-m setup`facts\n\n### index.html\n```bash\n$ cat /etc/ansible/roles/nginx/templates/index.html\n this is test pages!\n```\n### nginx\n```bash\n$ cat /etc/ansible/roles/nginx/files/nginx.service\n[Unit]\nDescription=The NGINX HTTP and reverse proxy server\nAfter=syslog.target network.target remote-fs.target nss-lookup.target\n\n[Service]\nType=forking\nPIDFile=/var/run/nginx.pid\nExecStartPre=/usr/sbin/nginx -t\nExecStart=/usr/sbin/nginx\nExecReload=/usr/sbin/nginx -s reload\nExecStop=/usr/bin/kill -s QUIT $MAINPID\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n```\n### tasks\n```yaml\n# taskscopy.yamlfilesnginx\n# tasks/main.yaml-includecopy.yaml\n\n$ cat /etc/ansible/roles/nginx/tasks/copy.yaml\n- name: copy nginx-1.16.0.tar.gz to client\n  copy: src=/etc/ansible/roles/nginx/files/nginx-1.16.0.tar.gz dest=/opt/nginx-1.16.0.tar.gz\n- name: copy install_nginx.sh to client\n  copy: src=/etc/ansible/roles/nginx/files/install_nginx.sh dest=/opt/install_nginx.sh\n- name: mkdir nginx data directory\n  file: path=/data/wwwroot state=directory recurse=yes\n- name: copy index.html\n  copy: src=/etc/ansible/roles/nginx/files/index.html dest=/data/wwwroot/index.html\n- name: copy nginx systemctl file\n  copy: src=/etc/ansible/roles/nginx/files/nginx.service dest=/usr/lib/systemd/system/nginx.service\n- name: copy dependency package\n  copy: src=/etc/ansible/roles/nginx/files/{{ item }} dest=/opt/{{ item }}\n  with_items:\n    - openssl-1.0.2r.tar.gz\n    - pcre-8.42.tar.gz\n    - zlib-1.2.11.tar.gz\n```\n```yaml\n# main.yaml\n\n$ cat /etc/ansible/roles/nginx/tasks/main.yml \n---\n- include: copy.yml       # includecopy.yaml\n- name: install nginx\n  shell: /usr/bin/sh /opt/install_nginx.sh\n- name: replace nginx.conf file\n  template: src=/etc/ansible/roles/nginx/templates/nginx.conf.j2 dest={{ nginx_dir }}/conf/nginx.conf\n- name: mkdir nginx vhost directory\n  file: path={{nginx_dir}}/conf/vhost state=directory\n- name: relpace default.conf file\n  template: src=/etc/ansible/roles/nginx/templates/default.conf.j2 dest={{nginx_dir}}/conf/vhost/default.conf\n  tags: ngxdef            # tagdefault.conf\n  notify:\n    - reload nginx        # handler\n- name: start nginx\n  command: /usr/sbin/nginx # nginx shell: systemctl start nginx\n```\n### handlers\n```yaml\n$ cat /etc/ansible/roles/nginx/handlers/main.yml \n---\n- name: reload nginx\n  shell: /usr/sbin/nginx -t; /usr/sbin/nginx -s reload  #  shell: systemctl reload nginx\n```\n### role\n```bash\n$ cat /etc/ansible/roles/nginx.yml \n---\n- hosts: web-node      # playbook\n  remote_user: root    # \n  roles:               # \n    - nginx            # playbook\n```\n### nginx roles\n```bash\n$ tree /etc/ansible/roles/\n/etc/ansible/roles/\n nginx\n  defaults\n  files\n   index.html\n   nginx.service\n   install_nginx.sh\n   nginx-1.16.0.tar.gz\n   openssl-1.0.2r.tar.gz\n   pcre-8.42.tar.gz\n   zlib-1.2.11.tar.gz\n  handlers\n   main.yml\n  meta\n  tasks\n   copy.yml\n   main.yml\n  templates\n   default.conf.j2\n   nginx.conf.j2\n  vars\n      main.yml\n nginx.yml\n```\n### playbook\nplaybooknginxplaybook\n```bash\n$ ansible-playbook --syntax-check /etc/ansible/roles/nginx.yml \n\nplaybook: /etc/ansible/roles/nginx.yml  # \n```\n\n### \n`ansible-playbook -C` playbookplaybook\n```bash\n$ ansible-playbook -C nginx.yml \n\nPLAY [web-node] ************************************************************************************************************************************************\n\nTASK [nginx : copy nginx-1.16.0.tar.gz to client] **************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy install_nginx.sh to client] *****************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : mkdir nginx data directory] **********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy index.html] *********************************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy nginx systemctl file] ***********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : copy dependency package] *************************************************************************************************************************\nchanged: [192.168.20.213] => (item=openssl-1.0.2r.tar.gz)\nchanged: [192.168.20.213] => (item=pcre-8.42.tar.gz)\nchanged: [192.168.20.213] => (item=zlib-1.2.11.tar.gz)\n\nTASK [nginx : install nginx] ***********************************************************************************************************************************\nskipping: [192.168.20.213]\n\nTASK [nginx : replace nginx.conf file] *************************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : mkdir nginx vhost directory] *********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : relpace default.conf file] ***********************************************************************************************************************\nchanged: [192.168.20.213]\n\nTASK [nginx : start nginx] *************************************************************************************************************************************\nskipping: [192.168.20.213]\n\nRUNNING HANDLER [nginx : reload nginx] *************************************************************************************************************************\nskipping: [192.168.20.213]\n\nPLAY RECAP *****************************************************************************************************************************************************\n192.168.20.213             : ok=8    changed=8    unreachable=0    failed=0\n```\n### nginx playbook\n```bash\n$ ansible-playbook nginx.yml\n```\n>`ansible-playbook nginx.yml`ansiblenginx\n\n### \nnginx playbook\n```bash\n# webnginx\n$ netstat -ptln | grep 80\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      14461/nginx: master\n\n# nginx\n$ ps -ef | grep nginx\nroot      14461      1  0 00:39 ?        00:00:00 nginx: master process /usr/sbin/nginx\nnginx     14474  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14475  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14476  14461  0 00:39 ?        00:00:00 nginx: worker process\nnginx     14477  14461  0 00:39 ?        00:00:00 nginx: worker process\nroot      39501   1664  0 11:38 pts/0    00:00:00 grep --color=auto nginx\n\n# nginx\n$ curl http://192.168.20.213\nthis is a test pages!       # index.html\n\n# nginx_statusuri\n$ curl http://192.168.20.213/nginx_status     #default.conf.j2nginx location\nActive connections: 1 \nserver accepts handled requests\n 8 8 10 \nReading: 0 Writing: 1 Waiting: 0\n```\nansible-playbooknginx","slug":"ansible-playbook","published":1,"updated":"2019-05-23T18:36:11.015Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf1v0035p4n7ir2wqrou","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h2><p>PlaybooksAd-HocAnsibleansible<a href=\"http://www.ansible.com.cn/docs/YAMLSyntax.html\" target=\"_blank\" rel=\"noopener\">yaml</a>ansbile-playbook<code></code>playbook  plays . plays play ,. ansible ,play , tasks,., ansible</p>\n<h2 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h2><ul>\n<li><code>hosts</code>task</li>\n<li><code>remote_user</code></li>\n<li><code>tasks</code></li>\n<li><code>handlers</code>tasks</li>\n<li><code>templates</code>jinja2</li>\n<li><code>variables</code></li>\n<li><code>tag</code>taskstasksalwaystag</li>\n<li><code>when</code>: tasks <code>not</code> <code>or</code> <code>and</code> <code>!=</code> <code>=</code></li>\n<li><code>with_items</code><code>{item}}</code></li>\n</ul>\n<p>playbook<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">   - hosts:</span> <span class=\"string\">test</span>                                  <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">     remote_user:</span> <span class=\"string\">root</span>                            <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">     vars:</span>                                        <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - bsh:</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\"><span class=\"attr\">       - httprpm:</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"attr\">     task:</span>                                        <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">install</span> <span class=\"string\">httpd</span>                      <span class=\"comment\"># httpd</span></span><br><span class=\"line\"><span class=\"attr\">         yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">httprpm</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span>    <span class=\"comment\"># ansibleyum</span></span><br><span class=\"line\"><span class=\"attr\">         tags:</span> <span class=\"string\">install_httpd</span>                      <span class=\"comment\"># install_httpd</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span>                          <span class=\"comment\"># b.sh</span></span><br><span class=\"line\"><span class=\"attr\">         copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/root/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\"><span class=\"attr\">         notify:</span>                                  <span class=\"comment\"># copy</span></span><br><span class=\"line\"><span class=\"bullet\">           -</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                         <span class=\"comment\"># handlers</span></span><br><span class=\"line\"><span class=\"attr\">         when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"CentOS\"</span>   <span class=\"comment\"># CentOScopy</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span>                          </span><br><span class=\"line\"><span class=\"attr\">         copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/opt/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\"><span class=\"attr\">         notify:</span>                                  </span><br><span class=\"line\"><span class=\"bullet\">           -</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                         </span><br><span class=\"line\"><span class=\"attr\">         when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"Ubuntu\"</span>   <span class=\"comment\"># Ubuntucopy</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">start</span> <span class=\"string\">httpd</span>                        <span class=\"comment\"># httpd</span></span><br><span class=\"line\"><span class=\"attr\">         service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=started</span> <span class=\"string\">enabled=yes</span></span><br><span class=\"line\"><span class=\"attr\">     handlers:</span>                                    <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                       <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">         service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=reloaded</span>       <span class=\"comment\"># httpd</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><code>ansible_distribution</code>ansiblefacts</p>\n</blockquote>\n<h2 id=\"playbook\"><a href=\"#playbook\" class=\"headerlink\" title=\"playbook\"></a>playbook</h2><p><strong> ansible  6 </strong></p>\n<ul>\n<li>/etc/ansible/hosts</li>\n<li>/etc/ansible/hosts/</li>\n<li>playbookyamlvars</li>\n<li>facts</li>\n<li></li>\n<li>playbook role</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># /etc/ansible/hosts </span></span><br><span class=\"line\">192.168.200.136 http_port=808 maxRequestsPerChild=808</span><br><span class=\"line\">192.168.200.137 http_port=8080 maxRequestsPerChild=909</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># /etc/ansible/hosts </span></span><br><span class=\"line\">[websers]</span><br><span class=\"line\">192.168.200.136</span><br><span class=\"line\">192.168.200.137</span><br><span class=\"line\"> </span><br><span class=\"line\">[websers:vars]  </span><br><span class=\"line\">ntp_server=ntp.exampl.com</span><br><span class=\"line\">proxy=proxy.exampl.com                <span class=\"comment\"># ntp_serverproxywebsers</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># playbookyamlvars</span></span><br><span class=\"line\"> ---</span><br><span class=\"line\">    - hosts: <span class=\"built_in\">test</span>                                  </span><br><span class=\"line\">      remote_user: root                            </span><br><span class=\"line\">      vars:                           <span class=\"comment\"># bshhttprpm</span></span><br><span class=\"line\">        - bsh: b.sh</span><br><span class=\"line\">        - httprpm: httpd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># facts</span></span><br><span class=\"line\">ansible 192.168.200.136 -m setup      <span class=\"comment\"># facts&#123;&#123;variable_name&#125;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">/etc/ansible/group_vars/websers       <span class=\"comment\"># websers</span></span><br><span class=\"line\">/etc/ansible/host_vars/hostpc         <span class=\"comment\"># hostpc</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ cat /etc/ansible/host_vars/hostpc   <span class=\"comment\"># </span></span><br><span class=\"line\">---</span><br><span class=\"line\">ntp_server: acme.example.org</span><br><span class=\"line\">database_server: storage.example.org</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># role   </span></span><br><span class=\"line\">$ cat /etc/ansible/roles/nginx/vars/main.yml</span><br><span class=\"line\">---</span><br><span class=\"line\">nginx_port: 80</span><br><span class=\"line\">nginx_domain: www.abc.com</span><br><span class=\"line\">nginx_user: nginx</span><br></pre></td></tr></table></figure>\n<h2 id=\"playbook-role\"><a href=\"#playbook-role\" class=\"headerlink\" title=\"playbook role\"></a>playbook role</h2><h3 id=\"Roles\"><a href=\"#Roles\" class=\"headerlink\" title=\"Roles\"></a>Roles</h3><p>AnsiblePlaybookrolesRolestaskhandlersrolesincluderoles</p>\n<h3 id=\"Roles\"><a href=\"#Roles\" class=\"headerlink\" title=\"Roles\"></a>Roles</h3><p>rolesrolesroleswebseversfileshandlerstaskstemplatesmetadefaultsvarsPlaybook</p>\n<h3 id=\"roles\"><a href=\"#roles\" class=\"headerlink\" title=\"roles\"></a>roles</h3><ul>\n<li><code>files</code>copyscript</li>\n<li><code>templates</code>jinjia2templatejinjia2</li>\n<li><code>tasks</code>main.ymlincludetask</li>\n<li><code>handlers</code>main.yml</li>\n<li><code>vars</code>main.yml</li>\n<li><code>defaults</code>main.yml</li>\n<li><code>meta</code>main.yml</li>\n</ul>\n<p>nginxplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s-master1 roles]<span class=\"comment\"># tree /etc/ansible/roles/nginx</span></span><br><span class=\"line\">/etc/ansible/roles/nginx</span><br><span class=\"line\"> defaults</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> files</span><br><span class=\"line\">  nginx.tar.gz</span><br><span class=\"line\"> handlers</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> meta</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> tasks</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> templates</span><br><span class=\"line\">  nginx.conf.j2</span><br><span class=\"line\">  default.conf.j2</span><br><span class=\"line\"> vars</span><br><span class=\"line\">     main.yml</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"rolesnginx\"><a href=\"#rolesnginx\" class=\"headerlink\" title=\"rolesnginx\"></a>rolesnginx</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th>IP</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ansible</td>\n<td>192.168.20.210</td>\n<td>centos7.5</td>\n<td>ansible</td>\n</tr>\n<tr>\n<td>web-nginx</td>\n<td>192.168.20.213</td>\n<td>centos7.5</td>\n<td>web </td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"hosts\"><a href=\"#hosts\" class=\"headerlink\" title=\"hosts\"></a>hosts</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansilbe/hosts          <span class=\"comment\"># ansible hosts</span></span><br><span class=\"line\">  [web-node]</span><br><span class=\"line\">  192.168.20.213</span><br></pre></td></tr></table></figure>\n<h3 id=\"ssh\"><a href=\"#ssh\" class=\"headerlink\" title=\"ssh\"></a>ssh</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ansiblessh</span></span><br><span class=\"line\"> </span><br><span class=\"line\">$ ssh-keygen -t rsa</span><br><span class=\"line\">Generating public/private rsa key pair.</span><br><span class=\"line\">Enter file <span class=\"keyword\">in</span> <span class=\"built_in\">which</span> to save the key (/root/.ssh/id_rsa): </span><br><span class=\"line\">Enter passphrase (empty <span class=\"keyword\">for</span> no passphrase): </span><br><span class=\"line\">Enter same passphrase again: </span><br><span class=\"line\">Your identification has been saved <span class=\"keyword\">in</span> /root/.ssh/id_rsa.</span><br><span class=\"line\">Your public key has been saved <span class=\"keyword\">in</span> /root/.ssh/id_rsa.pub.</span><br><span class=\"line\">The key fingerprint is:</span><br><span class=\"line\">SHA256:m4+23Eh+dJ8r/9zSjpUbHJECh1iFQU8Z0QMlygrRm98 root@k8s-node1</span><br><span class=\"line\">The key<span class=\"string\">'s randomart image is:</span></span><br><span class=\"line\"><span class=\"string\">+---[RSA 2048]----+</span></span><br><span class=\"line\"><span class=\"string\">|       .. +==OB. |</span></span><br><span class=\"line\"><span class=\"string\">|        .o.o*..o.|</span></span><br><span class=\"line\"><span class=\"string\">|       .  oo o o.|</span></span><br><span class=\"line\"><span class=\"string\">|        .o.   . .|</span></span><br><span class=\"line\"><span class=\"string\">|        S.. .  . |</span></span><br><span class=\"line\"><span class=\"string\">|         o...E. o|</span></span><br><span class=\"line\"><span class=\"string\">|        +. . . *.|</span></span><br><span class=\"line\"><span class=\"string\">|       +.=. . ++=|</span></span><br><span class=\"line\"><span class=\"string\">|       .*oo  o+*=|</span></span><br><span class=\"line\"><span class=\"string\">+----[SHA256]-----+</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># ansiblenginx web</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">$ ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.20.213</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">rootrootansiblesshnginx web</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"nginxroles\"><a href=\"#nginxroles\" class=\"headerlink\" title=\"nginxroles\"></a>nginxroles</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -pv /etc/ansible/roles/nginx/&#123;defaults,files,handlers,meta,tasks,templates,vars&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /etc/ansible/roles/nginx/files</span><br><span class=\"line\">$ wget http://nginx.org/download/nginx-1.16.0.tar.gz</span><br><span class=\"line\">$ wget https://www.openssl.org/<span class=\"built_in\">source</span>/openssl-1.0.2r.tar.gz</span><br><span class=\"line\">$ wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.42.tar.gz</span><br><span class=\"line\">$ wget http://www.zlib.net/zlib-1.2.11.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>ansible playbook</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/files/install_nginx.sh</span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">#info: source code install nginx 1.16.0</span></span><br><span class=\"line\"><span class=\"comment\">#author: pyker &lt;pyker@qq.com&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=`<span class=\"built_in\">echo</span> <span class=\"variable\">$PATH</span>`</span><br><span class=\"line\">PWD=<span class=\"string\">\"/opt\"</span></span><br><span class=\"line\">NGINX=nginx-1.16.0</span><br><span class=\"line\">OPENSSL=openssl-1.0.2r</span><br><span class=\"line\">PCRE=pcre-8.42</span><br><span class=\"line\">ZLIB=zlib-1.2.11</span><br><span class=\"line\">RUN_USER=nginx</span><br><span class=\"line\">id -u <span class=\"variable\">$&#123;RUN_USER&#125;</span> &gt;/dev/null 2&gt;&amp;1</span><br><span class=\"line\">[ $? -ne 0 ] &amp;&amp; useradd -M -s /sbin/nologin <span class=\"variable\">$&#123;RUN_USER&#125;</span></span><br><span class=\"line\">mkdir -p /var/<span class=\"built_in\">log</span>/nginx</span><br><span class=\"line\">yum install -y epel-release </span><br><span class=\"line\">yum install -y jemalloc jemalloc-devel</span><br><span class=\"line\">yum install -y gcc \\</span><br><span class=\"line\">             gcc-c++ \\</span><br><span class=\"line\">             gcc++ \\</span><br><span class=\"line\">             perl \\</span><br><span class=\"line\">             perl-devel \\</span><br><span class=\"line\">             perl-ExtUtils-Embed \\</span><br><span class=\"line\">             libxslt \\</span><br><span class=\"line\">             libxslt-devel \\</span><br><span class=\"line\">             libxml2 \\</span><br><span class=\"line\">             libxml2-devel \\</span><br><span class=\"line\">             gd \\</span><br><span class=\"line\">             gd-devel \\</span><br><span class=\"line\">             GeoIP \\</span><br><span class=\"line\">             GeoIP-devel</span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$PWD</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> tar <span class=\"keyword\">in</span> `ls *.tar.gz`; <span class=\"keyword\">do</span></span><br><span class=\"line\">  tar zxf <span class=\"variable\">$tar</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$PWD</span>/<span class=\"variable\">$NGINX</span> &amp;&amp; ./configure --prefix=/usr/<span class=\"built_in\">local</span>/nginx \\</span><br><span class=\"line\">            --sbin-path=/usr/sbin/nginx \\</span><br><span class=\"line\">            --user=nginx \\</span><br><span class=\"line\">            --group=nginx \\</span><br><span class=\"line\">            --pid-path=/var/run/nginx.pid \\</span><br><span class=\"line\">            --lock-path=/var/run/nginx.lock \\</span><br><span class=\"line\">            --error-log-path=/var/<span class=\"built_in\">log</span>/nginx/error.log \\</span><br><span class=\"line\">            --http-log-path=/var/<span class=\"built_in\">log</span>/nginx/access.log \\</span><br><span class=\"line\">            --with-select_module \\</span><br><span class=\"line\">            --with-poll_module \\</span><br><span class=\"line\">            --with-threads \\</span><br><span class=\"line\">            --with-file-aio \\</span><br><span class=\"line\">            --with-http_ssl_module \\</span><br><span class=\"line\">            --with-http_v2_module \\</span><br><span class=\"line\">            --with-http_realip_module \\</span><br><span class=\"line\">            --with-http_addition_module \\</span><br><span class=\"line\">            --with-http_xslt_module=dynamic \\</span><br><span class=\"line\">            --with-http_image_filter_module=dynamic \\</span><br><span class=\"line\">            --with-http_geoip_module=dynamic \\</span><br><span class=\"line\">            --with-http_sub_module \\</span><br><span class=\"line\">            --with-http_dav_module \\</span><br><span class=\"line\">            --with-http_flv_module \\</span><br><span class=\"line\">            --with-http_mp4_module \\</span><br><span class=\"line\">            --with-http_gunzip_module \\</span><br><span class=\"line\">            --with-http_gzip_static_module \\</span><br><span class=\"line\">            --with-http_auth_request_module \\</span><br><span class=\"line\">            --with-http_random_index_module \\</span><br><span class=\"line\">            --with-http_secure_link_module \\</span><br><span class=\"line\">            --with-http_degradation_module \\</span><br><span class=\"line\">            --with-http_slice_module \\</span><br><span class=\"line\">            --with-http_stub_status_module \\</span><br><span class=\"line\">            --with-mail=dynamic \\</span><br><span class=\"line\">            --with-mail_ssl_module \\</span><br><span class=\"line\">            --with-stream \\</span><br><span class=\"line\">            --with-stream_ssl_module \\</span><br><span class=\"line\">            --with-stream_realip_module \\</span><br><span class=\"line\">            --with-stream_geoip_module=dynamic \\</span><br><span class=\"line\">            --with-stream_ssl_preread_module \\</span><br><span class=\"line\">            --with-compat \\</span><br><span class=\"line\">            --with-ld-opt=<span class=\"string\">\"-ljemalloc\"</span> \\</span><br><span class=\"line\">            --with-pcre=../<span class=\"variable\">$&#123;PCRE&#125;</span> \\</span><br><span class=\"line\">            --with-pcre-jit \\</span><br><span class=\"line\">            --with-zlib=../<span class=\"variable\">$&#123;ZLIB&#125;</span> \\</span><br><span class=\"line\">            --with-openssl=../<span class=\"variable\">$&#123;OPENSSL&#125;</span>\\</span><br><span class=\"line\">            --with-openssl-opt=no-nextprotoneg \\</span><br><span class=\"line\">            --with-debug &amp;&amp; make -j 4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> nginxroles<br> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/vas/main.yml</span><br><span class=\"line\">cat nginx/vars/main.yml </span><br><span class=\"line\">nginx_user: nginx</span><br><span class=\"line\">nginx_port: 80</span><br><span class=\"line\">nginx_dir: /usr/<span class=\"built_in\">local</span>/nginx</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"nginx-conf\"><a href=\"#nginx-conf\" class=\"headerlink\" title=\"nginx.conf\"></a>nginx.conf</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/nginx.conf.j2</span><br><span class=\"line\">user &#123;&#123; nginx_user &#125;&#125;;</span><br><span class=\"line\">worker_processes &#123;&#123; ansible_processor_vcpus &#125;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">error_log /var/<span class=\"built_in\">log</span>/nginx/error_nginx.log crit;</span><br><span class=\"line\">pid /var/run/nginx.pid;</span><br><span class=\"line\">worker_rlimit_nofile 51200;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">  use epoll;</span><br><span class=\"line\">  worker_connections 51200;</span><br><span class=\"line\">  multi_accept on;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">  map <span class=\"variable\">$http_upgrade</span> <span class=\"variable\">$connection_upgrade</span> &#123;</span><br><span class=\"line\">    default upgrade;</span><br><span class=\"line\">    <span class=\"string\">''</span>      close;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  include mime.types;</span><br><span class=\"line\">  default_type application/octet-stream;</span><br><span class=\"line\">  server_names_hash_bucket_size 128;</span><br><span class=\"line\">  client_header_buffer_size 32k;</span><br><span class=\"line\">  large_client_header_buffers 4 32k;</span><br><span class=\"line\">  client_max_body_size 1024m;</span><br><span class=\"line\">  client_body_buffer_size 10m;</span><br><span class=\"line\">  sendfile on;</span><br><span class=\"line\">  tcp_nopush on;</span><br><span class=\"line\">  keepalive_timeout 120;</span><br><span class=\"line\">  server_tokens off;</span><br><span class=\"line\">  tcp_nodelay on;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#Gzip Compression</span></span><br><span class=\"line\">  gzip on;</span><br><span class=\"line\">  gzip_buffers 16 8k;</span><br><span class=\"line\">  gzip_comp_level 6;</span><br><span class=\"line\">  gzip_http_version 1.1;</span><br><span class=\"line\">  gzip_min_length 256;</span><br><span class=\"line\">  gzip_proxied any;</span><br><span class=\"line\">  gzip_vary on;</span><br><span class=\"line\">  gzip_types</span><br><span class=\"line\">    text/xml application/xml application/atom+xml application/rss+xml application/xhtml+xml image/svg+xml</span><br><span class=\"line\">    text/javascript application/javascript application/x-javascript</span><br><span class=\"line\">    text/x-json application/json application/x-web-app-manifest+json</span><br><span class=\"line\">    text/css text/plain text/x-component</span><br><span class=\"line\">    font/opentype application/x-font-ttf application/vnd.ms-fontobject</span><br><span class=\"line\">    image/x-icon;</span><br><span class=\"line\">  gzip_disable <span class=\"string\">\"MSIE [1-6]\\.(?!.*SV1)\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#If you have a lot of static files to serve through Nginx then caching of the files' metadata (not the actual files' contents) can save some latency.</span></span><br><span class=\"line\">  open_file_cache max=1000 inactive=20s;</span><br><span class=\"line\">  open_file_cache_valid 30s;</span><br><span class=\"line\">  open_file_cache_min_uses 2;</span><br><span class=\"line\">  open_file_cache_errors on;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########################## vhost #############################</span></span><br><span class=\"line\">  include upstream/*.conf;</span><br><span class=\"line\">  include vhost/*.conf;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>nginx.conf.j2<code>nginx_user</code><code>ansible_processor_vcpus</code><code>-m setup</code>facts</p>\n</blockquote>\n<h3 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ```bash</span><br><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/default.conf.j2</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">        listen &#123;&#123; nginx_port &#125;&#125;;</span><br><span class=\"line\">        server_name &#123;&#123; ansible_all_ipv4_addresses &#125;&#125;;</span><br><span class=\"line\">        index index.html index.htm index.jsp index.do;</span><br><span class=\"line\">        access_log  off;</span><br><span class=\"line\"></span><br><span class=\"line\">        location / &#123;</span><br><span class=\"line\">            root /data/wwwroot;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">         location /nginx_status &#123;</span><br><span class=\"line\">            stub_status on;</span><br><span class=\"line\">            access_log   off;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>default.conf.j2<code>nginx_port</code><code>ansible_all_ipv4_addresses</code><code>-m setup</code>facts</p>\n</blockquote>\n<h3 id=\"index-html\"><a href=\"#index-html\" class=\"headerlink\" title=\"index.html\"></a>index.html</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/index.html</span><br><span class=\"line\"> this is <span class=\"built_in\">test</span> pages!</span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/files/nginx.service</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=The NGINX HTTP and reverse proxy server</span><br><span class=\"line\">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">PIDFile=/var/run/nginx.pid</span><br><span class=\"line\">ExecStartPre=/usr/sbin/nginx -t</span><br><span class=\"line\">ExecStart=/usr/sbin/nginx</span><br><span class=\"line\">ExecReload=/usr/sbin/nginx -s reload</span><br><span class=\"line\">ExecStop=/usr/bin/<span class=\"built_in\">kill</span> -s QUIT <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\">PrivateTmp=<span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"tasks\"><a href=\"#tasks\" class=\"headerlink\" title=\"tasks\"></a>tasks</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># taskscopy.yamlfilesnginx</span></span><br><span class=\"line\"><span class=\"comment\"># tasks/main.yaml-includecopy.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/tasks/copy.yaml</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">nginx-1.16.0.tar.gz</span> <span class=\"string\">to</span> <span class=\"string\">client</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/nginx-1.16.0.tar.gz</span> <span class=\"string\">dest=/opt/nginx-1.16.0.tar.gz</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">install_nginx.sh</span> <span class=\"string\">to</span> <span class=\"string\">client</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/install_nginx.sh</span> <span class=\"string\">dest=/opt/install_nginx.sh</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">mkdir</span> <span class=\"string\">nginx</span> <span class=\"string\">data</span> <span class=\"string\">directory</span></span><br><span class=\"line\"><span class=\"attr\">  file:</span> <span class=\"string\">path=/data/wwwroot</span> <span class=\"string\">state=directory</span> <span class=\"string\">recurse=yes</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">index.html</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/index.html</span> <span class=\"string\">dest=/data/wwwroot/index.html</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">nginx</span> <span class=\"string\">systemctl</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/nginx.service</span> <span class=\"string\">dest=/usr/lib/systemd/system/nginx.service</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">dependency</span> <span class=\"string\">package</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/opt/&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">  with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">openssl-1.0.2r.tar.gz</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">pcre-8.42.tar.gz</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">zlib-1.2.11.tar.gz</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># main.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/tasks/main.yml</span> </span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- include:</span> <span class=\"string\">copy.yml</span>       <span class=\"comment\"># includecopy.yaml</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  shell:</span> <span class=\"string\">/usr/bin/sh</span> <span class=\"string\">/opt/install_nginx.sh</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">replace</span> <span class=\"string\">nginx.conf</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  template:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/templates/nginx.conf.j2</span> <span class=\"string\">dest=&#123;&#123;</span> <span class=\"string\">nginx_dir</span> <span class=\"string\">&#125;&#125;/conf/nginx.conf</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">mkdir</span> <span class=\"string\">nginx</span> <span class=\"string\">vhost</span> <span class=\"string\">directory</span></span><br><span class=\"line\"><span class=\"attr\">  file:</span> <span class=\"string\">path=&#123;&#123;nginx_dir&#125;&#125;/conf/vhost</span> <span class=\"string\">state=directory</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">relpace</span> <span class=\"string\">default.conf</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  template:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/templates/default.conf.j2</span> <span class=\"string\">dest=&#123;&#123;nginx_dir&#125;&#125;/conf/vhost/default.conf</span></span><br><span class=\"line\"><span class=\"attr\">  tags:</span> <span class=\"string\">ngxdef</span>            <span class=\"comment\"># tagdefault.conf</span></span><br><span class=\"line\"><span class=\"attr\">  notify:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">reload</span> <span class=\"string\">nginx</span>        <span class=\"comment\"># handler</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  command:</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"comment\"># nginx shell: systemctl start nginx</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"handlers\"><a href=\"#handlers\" class=\"headerlink\" title=\"handlers\"></a>handlers</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/handlers/main.yml</span> </span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">reload</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  shell:</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"bullet\">-t;</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"bullet\">-s</span> <span class=\"string\">reload</span>  <span class=\"comment\">#  shell: systemctl reload nginx</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"role\"><a href=\"#role\" class=\"headerlink\" title=\"role\"></a>role</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx.yml </span><br><span class=\"line\">---</span><br><span class=\"line\">- hosts: web-node      <span class=\"comment\"># playbook</span></span><br><span class=\"line\">  remote_user: root    <span class=\"comment\"># </span></span><br><span class=\"line\">  roles:               <span class=\"comment\"># </span></span><br><span class=\"line\">    - nginx            <span class=\"comment\"># playbook</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx-roles\"><a href=\"#nginx-roles\" class=\"headerlink\" title=\"nginx roles\"></a>nginx roles</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tree /etc/ansible/roles/</span><br><span class=\"line\">/etc/ansible/roles/</span><br><span class=\"line\"> nginx</span><br><span class=\"line\">  defaults</span><br><span class=\"line\">  files</span><br><span class=\"line\">   index.html</span><br><span class=\"line\">   nginx.service</span><br><span class=\"line\">   install_nginx.sh</span><br><span class=\"line\">   nginx-1.16.0.tar.gz</span><br><span class=\"line\">   openssl-1.0.2r.tar.gz</span><br><span class=\"line\">   pcre-8.42.tar.gz</span><br><span class=\"line\">   zlib-1.2.11.tar.gz</span><br><span class=\"line\">  handlers</span><br><span class=\"line\">   main.yml</span><br><span class=\"line\">  meta</span><br><span class=\"line\">  tasks</span><br><span class=\"line\">   copy.yml</span><br><span class=\"line\">   main.yml</span><br><span class=\"line\">  templates</span><br><span class=\"line\">   default.conf.j2</span><br><span class=\"line\">   nginx.conf.j2</span><br><span class=\"line\">  vars</span><br><span class=\"line\">      main.yml</span><br><span class=\"line\"> nginx.yml</span><br></pre></td></tr></table></figure>\n<h3 id=\"playbook\"><a href=\"#playbook\" class=\"headerlink\" title=\"playbook\"></a>playbook</h3><p>playbooknginxplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook --syntax-check /etc/ansible/roles/nginx.yml </span><br><span class=\"line\"></span><br><span class=\"line\">playbook: /etc/ansible/roles/nginx.yml  <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ansible-playbook -C</code> playbookplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook -C nginx.yml </span><br><span class=\"line\"></span><br><span class=\"line\">PLAY [web-node] ************************************************************************************************************************************************</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy nginx-1.16.0.tar.gz to client] **************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy install_nginx.sh to client] *****************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : mkdir nginx data directory] **********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy index.html] *********************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy nginx systemctl file] ***********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy dependency package] *************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=openssl-1.0.2r.tar.gz)</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=pcre-8.42.tar.gz)</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=zlib-1.2.11.tar.gz)</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : install nginx] ***********************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : replace nginx.conf file] *************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : mkdir nginx vhost directory] *********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : relpace default.conf file] ***********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : start nginx] *************************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">RUNNING HANDLER [nginx : reload nginx] *************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">PLAY RECAP *****************************************************************************************************************************************************</span><br><span class=\"line\">192.168.20.213             : ok=8    changed=8    unreachable=0    failed=0</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"nginx-playbook\"><a href=\"#nginx-playbook\" class=\"headerlink\" title=\"nginx playbook\"></a>nginx playbook</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook nginx.yml</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>ansible-playbook nginx.yml</code>ansiblenginx</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nginx playbook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># webnginx</span></span><br><span class=\"line\">$ netstat -ptln | grep 80</span><br><span class=\"line\">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      14461/nginx: master</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\">$ ps -ef | grep nginx</span><br><span class=\"line\">root      14461      1  0 00:39 ?        00:00:00 nginx: master process /usr/sbin/nginx</span><br><span class=\"line\">nginx     14474  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14475  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14476  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14477  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">root      39501   1664  0 11:38 pts/0    00:00:00 grep --color=auto nginx</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\">$ curl http://192.168.20.213</span><br><span class=\"line\">this is a <span class=\"built_in\">test</span> pages!       <span class=\"comment\"># index.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx_statusuri</span></span><br><span class=\"line\">$ curl http://192.168.20.213/nginx_status     <span class=\"comment\">#default.conf.j2nginx location</span></span><br><span class=\"line\">Active connections: 1 </span><br><span class=\"line\">server accepts handled requests</span><br><span class=\"line\"> 8 8 10 </span><br><span class=\"line\">Reading: 0 Writing: 1 Waiting: 0</span><br></pre></td></tr></table></figure></p>\n<p>ansible-playbooknginx</p>\n","site":{"data":{}},"length":18705,"excerpt":"","more":"<h2 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h2><p>PlaybooksAd-HocAnsibleansible<a href=\"http://www.ansible.com.cn/docs/YAMLSyntax.html\" target=\"_blank\" rel=\"noopener\">yaml</a>ansbile-playbook<code></code>playbook  plays . plays play ,. ansible ,play , tasks,., ansible</p>\n<h2 id=\"Playbook\"><a href=\"#Playbook\" class=\"headerlink\" title=\"Playbook\"></a>Playbook</h2><ul>\n<li><code>hosts</code>task</li>\n<li><code>remote_user</code></li>\n<li><code>tasks</code></li>\n<li><code>handlers</code>tasks</li>\n<li><code>templates</code>jinja2</li>\n<li><code>variables</code></li>\n<li><code>tag</code>taskstasksalwaystag</li>\n<li><code>when</code>: tasks <code>not</code> <code>or</code> <code>and</code> <code>!=</code> <code>=</code></li>\n<li><code>with_items</code><code>{item}}</code></li>\n</ul>\n<p>playbook<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">   - hosts:</span> <span class=\"string\">test</span>                                  <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">     remote_user:</span> <span class=\"string\">root</span>                            <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">     vars:</span>                                        <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - bsh:</span> <span class=\"string\">b.sh</span></span><br><span class=\"line\"><span class=\"attr\">       - httprpm:</span> <span class=\"string\">httpd</span></span><br><span class=\"line\"><span class=\"attr\">     task:</span>                                        <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">install</span> <span class=\"string\">httpd</span>                      <span class=\"comment\"># httpd</span></span><br><span class=\"line\"><span class=\"attr\">         yum:</span> <span class=\"string\">name=&#123;&#123;</span> <span class=\"string\">httprpm</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">state=present</span>    <span class=\"comment\"># ansibleyum</span></span><br><span class=\"line\"><span class=\"attr\">         tags:</span> <span class=\"string\">install_httpd</span>                      <span class=\"comment\"># install_httpd</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span>                          <span class=\"comment\"># b.sh</span></span><br><span class=\"line\"><span class=\"attr\">         copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/root/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\"><span class=\"attr\">         notify:</span>                                  <span class=\"comment\"># copy</span></span><br><span class=\"line\"><span class=\"bullet\">           -</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                         <span class=\"comment\"># handlers</span></span><br><span class=\"line\"><span class=\"attr\">         when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"CentOS\"</span>   <span class=\"comment\"># CentOScopy</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">copy</span> <span class=\"string\">b.sh</span>                          </span><br><span class=\"line\"><span class=\"attr\">         copy:</span> <span class=\"string\">src=/root/&#123;&#123;</span> <span class=\"string\">bsh</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/opt/</span> <span class=\"string\">owner=ala</span> <span class=\"string\">group=ala</span> <span class=\"string\">mode=0644</span></span><br><span class=\"line\"><span class=\"attr\">         notify:</span>                                  </span><br><span class=\"line\"><span class=\"bullet\">           -</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                         </span><br><span class=\"line\"><span class=\"attr\">         when:</span> <span class=\"string\">ansible_distribution</span> <span class=\"string\">==</span> <span class=\"string\">\"Ubuntu\"</span>   <span class=\"comment\"># Ubuntucopy</span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">start</span> <span class=\"string\">httpd</span>                        <span class=\"comment\"># httpd</span></span><br><span class=\"line\"><span class=\"attr\">         service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=started</span> <span class=\"string\">enabled=yes</span></span><br><span class=\"line\"><span class=\"attr\">     handlers:</span>                                    <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">       - name:</span> <span class=\"string\">reload</span> <span class=\"string\">httpd</span>                       <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">         service:</span> <span class=\"string\">name=httpd</span> <span class=\"string\">state=reloaded</span>       <span class=\"comment\"># httpd</span></span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p><code>ansible_distribution</code>ansiblefacts</p>\n</blockquote>\n<h2 id=\"playbook\"><a href=\"#playbook\" class=\"headerlink\" title=\"playbook\"></a>playbook</h2><p><strong> ansible  6 </strong></p>\n<ul>\n<li>/etc/ansible/hosts</li>\n<li>/etc/ansible/hosts/</li>\n<li>playbookyamlvars</li>\n<li>facts</li>\n<li></li>\n<li>playbook role</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># /etc/ansible/hosts </span></span><br><span class=\"line\">192.168.200.136 http_port=808 maxRequestsPerChild=808</span><br><span class=\"line\">192.168.200.137 http_port=8080 maxRequestsPerChild=909</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># /etc/ansible/hosts </span></span><br><span class=\"line\">[websers]</span><br><span class=\"line\">192.168.200.136</span><br><span class=\"line\">192.168.200.137</span><br><span class=\"line\"> </span><br><span class=\"line\">[websers:vars]  </span><br><span class=\"line\">ntp_server=ntp.exampl.com</span><br><span class=\"line\">proxy=proxy.exampl.com                <span class=\"comment\"># ntp_serverproxywebsers</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># playbookyamlvars</span></span><br><span class=\"line\"> ---</span><br><span class=\"line\">    - hosts: <span class=\"built_in\">test</span>                                  </span><br><span class=\"line\">      remote_user: root                            </span><br><span class=\"line\">      vars:                           <span class=\"comment\"># bshhttprpm</span></span><br><span class=\"line\">        - bsh: b.sh</span><br><span class=\"line\">        - httprpm: httpd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># facts</span></span><br><span class=\"line\">ansible 192.168.200.136 -m setup      <span class=\"comment\"># facts&#123;&#123;variable_name&#125;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">/etc/ansible/group_vars/websers       <span class=\"comment\"># websers</span></span><br><span class=\"line\">/etc/ansible/host_vars/hostpc         <span class=\"comment\"># hostpc</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ cat /etc/ansible/host_vars/hostpc   <span class=\"comment\"># </span></span><br><span class=\"line\">---</span><br><span class=\"line\">ntp_server: acme.example.org</span><br><span class=\"line\">database_server: storage.example.org</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># role   </span></span><br><span class=\"line\">$ cat /etc/ansible/roles/nginx/vars/main.yml</span><br><span class=\"line\">---</span><br><span class=\"line\">nginx_port: 80</span><br><span class=\"line\">nginx_domain: www.abc.com</span><br><span class=\"line\">nginx_user: nginx</span><br></pre></td></tr></table></figure>\n<h2 id=\"playbook-role\"><a href=\"#playbook-role\" class=\"headerlink\" title=\"playbook role\"></a>playbook role</h2><h3 id=\"Roles\"><a href=\"#Roles\" class=\"headerlink\" title=\"Roles\"></a>Roles</h3><p>AnsiblePlaybookrolesRolestaskhandlersrolesincluderoles</p>\n<h3 id=\"Roles\"><a href=\"#Roles\" class=\"headerlink\" title=\"Roles\"></a>Roles</h3><p>rolesrolesroleswebseversfileshandlerstaskstemplatesmetadefaultsvarsPlaybook</p>\n<h3 id=\"roles\"><a href=\"#roles\" class=\"headerlink\" title=\"roles\"></a>roles</h3><ul>\n<li><code>files</code>copyscript</li>\n<li><code>templates</code>jinjia2templatejinjia2</li>\n<li><code>tasks</code>main.ymlincludetask</li>\n<li><code>handlers</code>main.yml</li>\n<li><code>vars</code>main.yml</li>\n<li><code>defaults</code>main.yml</li>\n<li><code>meta</code>main.yml</li>\n</ul>\n<p>nginxplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@k8s-master1 roles]<span class=\"comment\"># tree /etc/ansible/roles/nginx</span></span><br><span class=\"line\">/etc/ansible/roles/nginx</span><br><span class=\"line\"> defaults</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> files</span><br><span class=\"line\">  nginx.tar.gz</span><br><span class=\"line\"> handlers</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> meta</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> tasks</span><br><span class=\"line\">  main.yml</span><br><span class=\"line\"> templates</span><br><span class=\"line\">  nginx.conf.j2</span><br><span class=\"line\">  default.conf.j2</span><br><span class=\"line\"> vars</span><br><span class=\"line\">     main.yml</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"rolesnginx\"><a href=\"#rolesnginx\" class=\"headerlink\" title=\"rolesnginx\"></a>rolesnginx</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th>IP</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ansible</td>\n<td>192.168.20.210</td>\n<td>centos7.5</td>\n<td>ansible</td>\n</tr>\n<tr>\n<td>web-nginx</td>\n<td>192.168.20.213</td>\n<td>centos7.5</td>\n<td>web </td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"hosts\"><a href=\"#hosts\" class=\"headerlink\" title=\"hosts\"></a>hosts</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansilbe/hosts          <span class=\"comment\"># ansible hosts</span></span><br><span class=\"line\">  [web-node]</span><br><span class=\"line\">  192.168.20.213</span><br></pre></td></tr></table></figure>\n<h3 id=\"ssh\"><a href=\"#ssh\" class=\"headerlink\" title=\"ssh\"></a>ssh</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ansiblessh</span></span><br><span class=\"line\"> </span><br><span class=\"line\">$ ssh-keygen -t rsa</span><br><span class=\"line\">Generating public/private rsa key pair.</span><br><span class=\"line\">Enter file <span class=\"keyword\">in</span> <span class=\"built_in\">which</span> to save the key (/root/.ssh/id_rsa): </span><br><span class=\"line\">Enter passphrase (empty <span class=\"keyword\">for</span> no passphrase): </span><br><span class=\"line\">Enter same passphrase again: </span><br><span class=\"line\">Your identification has been saved <span class=\"keyword\">in</span> /root/.ssh/id_rsa.</span><br><span class=\"line\">Your public key has been saved <span class=\"keyword\">in</span> /root/.ssh/id_rsa.pub.</span><br><span class=\"line\">The key fingerprint is:</span><br><span class=\"line\">SHA256:m4+23Eh+dJ8r/9zSjpUbHJECh1iFQU8Z0QMlygrRm98 root@k8s-node1</span><br><span class=\"line\">The key<span class=\"string\">'s randomart image is:</span></span><br><span class=\"line\"><span class=\"string\">+---[RSA 2048]----+</span></span><br><span class=\"line\"><span class=\"string\">|       .. +==OB. |</span></span><br><span class=\"line\"><span class=\"string\">|        .o.o*..o.|</span></span><br><span class=\"line\"><span class=\"string\">|       .  oo o o.|</span></span><br><span class=\"line\"><span class=\"string\">|        .o.   . .|</span></span><br><span class=\"line\"><span class=\"string\">|        S.. .  . |</span></span><br><span class=\"line\"><span class=\"string\">|         o...E. o|</span></span><br><span class=\"line\"><span class=\"string\">|        +. . . *.|</span></span><br><span class=\"line\"><span class=\"string\">|       +.=. . ++=|</span></span><br><span class=\"line\"><span class=\"string\">|       .*oo  o+*=|</span></span><br><span class=\"line\"><span class=\"string\">+----[SHA256]-----+</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"># ansiblenginx web</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">$ ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.20.213</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">rootrootansiblesshnginx web</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"nginxroles\"><a href=\"#nginxroles\" class=\"headerlink\" title=\"nginxroles\"></a>nginxroles</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -pv /etc/ansible/roles/nginx/&#123;defaults,files,handlers,meta,tasks,templates,vars&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /etc/ansible/roles/nginx/files</span><br><span class=\"line\">$ wget http://nginx.org/download/nginx-1.16.0.tar.gz</span><br><span class=\"line\">$ wget https://www.openssl.org/<span class=\"built_in\">source</span>/openssl-1.0.2r.tar.gz</span><br><span class=\"line\">$ wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.42.tar.gz</span><br><span class=\"line\">$ wget http://www.zlib.net/zlib-1.2.11.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>ansible playbook</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/files/install_nginx.sh</span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">#info: source code install nginx 1.16.0</span></span><br><span class=\"line\"><span class=\"comment\">#author: pyker &lt;pyker@qq.com&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=`<span class=\"built_in\">echo</span> <span class=\"variable\">$PATH</span>`</span><br><span class=\"line\">PWD=<span class=\"string\">\"/opt\"</span></span><br><span class=\"line\">NGINX=nginx-1.16.0</span><br><span class=\"line\">OPENSSL=openssl-1.0.2r</span><br><span class=\"line\">PCRE=pcre-8.42</span><br><span class=\"line\">ZLIB=zlib-1.2.11</span><br><span class=\"line\">RUN_USER=nginx</span><br><span class=\"line\">id -u <span class=\"variable\">$&#123;RUN_USER&#125;</span> &gt;/dev/null 2&gt;&amp;1</span><br><span class=\"line\">[ $? -ne 0 ] &amp;&amp; useradd -M -s /sbin/nologin <span class=\"variable\">$&#123;RUN_USER&#125;</span></span><br><span class=\"line\">mkdir -p /var/<span class=\"built_in\">log</span>/nginx</span><br><span class=\"line\">yum install -y epel-release </span><br><span class=\"line\">yum install -y jemalloc jemalloc-devel</span><br><span class=\"line\">yum install -y gcc \\</span><br><span class=\"line\">             gcc-c++ \\</span><br><span class=\"line\">             gcc++ \\</span><br><span class=\"line\">             perl \\</span><br><span class=\"line\">             perl-devel \\</span><br><span class=\"line\">             perl-ExtUtils-Embed \\</span><br><span class=\"line\">             libxslt \\</span><br><span class=\"line\">             libxslt-devel \\</span><br><span class=\"line\">             libxml2 \\</span><br><span class=\"line\">             libxml2-devel \\</span><br><span class=\"line\">             gd \\</span><br><span class=\"line\">             gd-devel \\</span><br><span class=\"line\">             GeoIP \\</span><br><span class=\"line\">             GeoIP-devel</span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$PWD</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> tar <span class=\"keyword\">in</span> `ls *.tar.gz`; <span class=\"keyword\">do</span></span><br><span class=\"line\">  tar zxf <span class=\"variable\">$tar</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$PWD</span>/<span class=\"variable\">$NGINX</span> &amp;&amp; ./configure --prefix=/usr/<span class=\"built_in\">local</span>/nginx \\</span><br><span class=\"line\">            --sbin-path=/usr/sbin/nginx \\</span><br><span class=\"line\">            --user=nginx \\</span><br><span class=\"line\">            --group=nginx \\</span><br><span class=\"line\">            --pid-path=/var/run/nginx.pid \\</span><br><span class=\"line\">            --lock-path=/var/run/nginx.lock \\</span><br><span class=\"line\">            --error-log-path=/var/<span class=\"built_in\">log</span>/nginx/error.log \\</span><br><span class=\"line\">            --http-log-path=/var/<span class=\"built_in\">log</span>/nginx/access.log \\</span><br><span class=\"line\">            --with-select_module \\</span><br><span class=\"line\">            --with-poll_module \\</span><br><span class=\"line\">            --with-threads \\</span><br><span class=\"line\">            --with-file-aio \\</span><br><span class=\"line\">            --with-http_ssl_module \\</span><br><span class=\"line\">            --with-http_v2_module \\</span><br><span class=\"line\">            --with-http_realip_module \\</span><br><span class=\"line\">            --with-http_addition_module \\</span><br><span class=\"line\">            --with-http_xslt_module=dynamic \\</span><br><span class=\"line\">            --with-http_image_filter_module=dynamic \\</span><br><span class=\"line\">            --with-http_geoip_module=dynamic \\</span><br><span class=\"line\">            --with-http_sub_module \\</span><br><span class=\"line\">            --with-http_dav_module \\</span><br><span class=\"line\">            --with-http_flv_module \\</span><br><span class=\"line\">            --with-http_mp4_module \\</span><br><span class=\"line\">            --with-http_gunzip_module \\</span><br><span class=\"line\">            --with-http_gzip_static_module \\</span><br><span class=\"line\">            --with-http_auth_request_module \\</span><br><span class=\"line\">            --with-http_random_index_module \\</span><br><span class=\"line\">            --with-http_secure_link_module \\</span><br><span class=\"line\">            --with-http_degradation_module \\</span><br><span class=\"line\">            --with-http_slice_module \\</span><br><span class=\"line\">            --with-http_stub_status_module \\</span><br><span class=\"line\">            --with-mail=dynamic \\</span><br><span class=\"line\">            --with-mail_ssl_module \\</span><br><span class=\"line\">            --with-stream \\</span><br><span class=\"line\">            --with-stream_ssl_module \\</span><br><span class=\"line\">            --with-stream_realip_module \\</span><br><span class=\"line\">            --with-stream_geoip_module=dynamic \\</span><br><span class=\"line\">            --with-stream_ssl_preread_module \\</span><br><span class=\"line\">            --with-compat \\</span><br><span class=\"line\">            --with-ld-opt=<span class=\"string\">\"-ljemalloc\"</span> \\</span><br><span class=\"line\">            --with-pcre=../<span class=\"variable\">$&#123;PCRE&#125;</span> \\</span><br><span class=\"line\">            --with-pcre-jit \\</span><br><span class=\"line\">            --with-zlib=../<span class=\"variable\">$&#123;ZLIB&#125;</span> \\</span><br><span class=\"line\">            --with-openssl=../<span class=\"variable\">$&#123;OPENSSL&#125;</span>\\</span><br><span class=\"line\">            --with-openssl-opt=no-nextprotoneg \\</span><br><span class=\"line\">            --with-debug &amp;&amp; make -j 4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> nginxroles<br> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/vas/main.yml</span><br><span class=\"line\">cat nginx/vars/main.yml </span><br><span class=\"line\">nginx_user: nginx</span><br><span class=\"line\">nginx_port: 80</span><br><span class=\"line\">nginx_dir: /usr/<span class=\"built_in\">local</span>/nginx</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"nginx-conf\"><a href=\"#nginx-conf\" class=\"headerlink\" title=\"nginx.conf\"></a>nginx.conf</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/nginx.conf.j2</span><br><span class=\"line\">user &#123;&#123; nginx_user &#125;&#125;;</span><br><span class=\"line\">worker_processes &#123;&#123; ansible_processor_vcpus &#125;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">error_log /var/<span class=\"built_in\">log</span>/nginx/error_nginx.log crit;</span><br><span class=\"line\">pid /var/run/nginx.pid;</span><br><span class=\"line\">worker_rlimit_nofile 51200;</span><br><span class=\"line\"></span><br><span class=\"line\">events &#123;</span><br><span class=\"line\">  use epoll;</span><br><span class=\"line\">  worker_connections 51200;</span><br><span class=\"line\">  multi_accept on;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">http &#123;</span><br><span class=\"line\">  map <span class=\"variable\">$http_upgrade</span> <span class=\"variable\">$connection_upgrade</span> &#123;</span><br><span class=\"line\">    default upgrade;</span><br><span class=\"line\">    <span class=\"string\">''</span>      close;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  include mime.types;</span><br><span class=\"line\">  default_type application/octet-stream;</span><br><span class=\"line\">  server_names_hash_bucket_size 128;</span><br><span class=\"line\">  client_header_buffer_size 32k;</span><br><span class=\"line\">  large_client_header_buffers 4 32k;</span><br><span class=\"line\">  client_max_body_size 1024m;</span><br><span class=\"line\">  client_body_buffer_size 10m;</span><br><span class=\"line\">  sendfile on;</span><br><span class=\"line\">  tcp_nopush on;</span><br><span class=\"line\">  keepalive_timeout 120;</span><br><span class=\"line\">  server_tokens off;</span><br><span class=\"line\">  tcp_nodelay on;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#Gzip Compression</span></span><br><span class=\"line\">  gzip on;</span><br><span class=\"line\">  gzip_buffers 16 8k;</span><br><span class=\"line\">  gzip_comp_level 6;</span><br><span class=\"line\">  gzip_http_version 1.1;</span><br><span class=\"line\">  gzip_min_length 256;</span><br><span class=\"line\">  gzip_proxied any;</span><br><span class=\"line\">  gzip_vary on;</span><br><span class=\"line\">  gzip_types</span><br><span class=\"line\">    text/xml application/xml application/atom+xml application/rss+xml application/xhtml+xml image/svg+xml</span><br><span class=\"line\">    text/javascript application/javascript application/x-javascript</span><br><span class=\"line\">    text/x-json application/json application/x-web-app-manifest+json</span><br><span class=\"line\">    text/css text/plain text/x-component</span><br><span class=\"line\">    font/opentype application/x-font-ttf application/vnd.ms-fontobject</span><br><span class=\"line\">    image/x-icon;</span><br><span class=\"line\">  gzip_disable <span class=\"string\">\"MSIE [1-6]\\.(?!.*SV1)\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#If you have a lot of static files to serve through Nginx then caching of the files' metadata (not the actual files' contents) can save some latency.</span></span><br><span class=\"line\">  open_file_cache max=1000 inactive=20s;</span><br><span class=\"line\">  open_file_cache_valid 30s;</span><br><span class=\"line\">  open_file_cache_min_uses 2;</span><br><span class=\"line\">  open_file_cache_errors on;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########################## vhost #############################</span></span><br><span class=\"line\">  include upstream/*.conf;</span><br><span class=\"line\">  include vhost/*.conf;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>nginx.conf.j2<code>nginx_user</code><code>ansible_processor_vcpus</code><code>-m setup</code>facts</p>\n</blockquote>\n<h3 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ```bash</span><br><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/default.conf.j2</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">        listen &#123;&#123; nginx_port &#125;&#125;;</span><br><span class=\"line\">        server_name &#123;&#123; ansible_all_ipv4_addresses &#125;&#125;;</span><br><span class=\"line\">        index index.html index.htm index.jsp index.do;</span><br><span class=\"line\">        access_log  off;</span><br><span class=\"line\"></span><br><span class=\"line\">        location / &#123;</span><br><span class=\"line\">            root /data/wwwroot;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">         location /nginx_status &#123;</span><br><span class=\"line\">            stub_status on;</span><br><span class=\"line\">            access_log   off;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>default.conf.j2<code>nginx_port</code><code>ansible_all_ipv4_addresses</code><code>-m setup</code>facts</p>\n</blockquote>\n<h3 id=\"index-html\"><a href=\"#index-html\" class=\"headerlink\" title=\"index.html\"></a>index.html</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/templates/index.html</span><br><span class=\"line\"> this is <span class=\"built_in\">test</span> pages!</span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx/files/nginx.service</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=The NGINX HTTP and reverse proxy server</span><br><span class=\"line\">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">PIDFile=/var/run/nginx.pid</span><br><span class=\"line\">ExecStartPre=/usr/sbin/nginx -t</span><br><span class=\"line\">ExecStart=/usr/sbin/nginx</span><br><span class=\"line\">ExecReload=/usr/sbin/nginx -s reload</span><br><span class=\"line\">ExecStop=/usr/bin/<span class=\"built_in\">kill</span> -s QUIT <span class=\"variable\">$MAINPID</span></span><br><span class=\"line\">PrivateTmp=<span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n<h3 id=\"tasks\"><a href=\"#tasks\" class=\"headerlink\" title=\"tasks\"></a>tasks</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># taskscopy.yamlfilesnginx</span></span><br><span class=\"line\"><span class=\"comment\"># tasks/main.yaml-includecopy.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/tasks/copy.yaml</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">nginx-1.16.0.tar.gz</span> <span class=\"string\">to</span> <span class=\"string\">client</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/nginx-1.16.0.tar.gz</span> <span class=\"string\">dest=/opt/nginx-1.16.0.tar.gz</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">install_nginx.sh</span> <span class=\"string\">to</span> <span class=\"string\">client</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/install_nginx.sh</span> <span class=\"string\">dest=/opt/install_nginx.sh</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">mkdir</span> <span class=\"string\">nginx</span> <span class=\"string\">data</span> <span class=\"string\">directory</span></span><br><span class=\"line\"><span class=\"attr\">  file:</span> <span class=\"string\">path=/data/wwwroot</span> <span class=\"string\">state=directory</span> <span class=\"string\">recurse=yes</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">index.html</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/index.html</span> <span class=\"string\">dest=/data/wwwroot/index.html</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">nginx</span> <span class=\"string\">systemctl</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/nginx.service</span> <span class=\"string\">dest=/usr/lib/systemd/system/nginx.service</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">copy</span> <span class=\"string\">dependency</span> <span class=\"string\">package</span></span><br><span class=\"line\"><span class=\"attr\">  copy:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/files/&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span> <span class=\"string\">dest=/opt/&#123;&#123;</span> <span class=\"string\">item</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">  with_items:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">openssl-1.0.2r.tar.gz</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">pcre-8.42.tar.gz</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">zlib-1.2.11.tar.gz</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># main.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/tasks/main.yml</span> </span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- include:</span> <span class=\"string\">copy.yml</span>       <span class=\"comment\"># includecopy.yaml</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  shell:</span> <span class=\"string\">/usr/bin/sh</span> <span class=\"string\">/opt/install_nginx.sh</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">replace</span> <span class=\"string\">nginx.conf</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  template:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/templates/nginx.conf.j2</span> <span class=\"string\">dest=&#123;&#123;</span> <span class=\"string\">nginx_dir</span> <span class=\"string\">&#125;&#125;/conf/nginx.conf</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">mkdir</span> <span class=\"string\">nginx</span> <span class=\"string\">vhost</span> <span class=\"string\">directory</span></span><br><span class=\"line\"><span class=\"attr\">  file:</span> <span class=\"string\">path=&#123;&#123;nginx_dir&#125;&#125;/conf/vhost</span> <span class=\"string\">state=directory</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">relpace</span> <span class=\"string\">default.conf</span> <span class=\"string\">file</span></span><br><span class=\"line\"><span class=\"attr\">  template:</span> <span class=\"string\">src=/etc/ansible/roles/nginx/templates/default.conf.j2</span> <span class=\"string\">dest=&#123;&#123;nginx_dir&#125;&#125;/conf/vhost/default.conf</span></span><br><span class=\"line\"><span class=\"attr\">  tags:</span> <span class=\"string\">ngxdef</span>            <span class=\"comment\"># tagdefault.conf</span></span><br><span class=\"line\"><span class=\"attr\">  notify:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">reload</span> <span class=\"string\">nginx</span>        <span class=\"comment\"># handler</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  command:</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"comment\"># nginx shell: systemctl start nginx</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"handlers\"><a href=\"#handlers\" class=\"headerlink\" title=\"handlers\"></a>handlers</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cat</span> <span class=\"string\">/etc/ansible/roles/nginx/handlers/main.yml</span> </span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">reload</span> <span class=\"string\">nginx</span></span><br><span class=\"line\"><span class=\"attr\">  shell:</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"bullet\">-t;</span> <span class=\"string\">/usr/sbin/nginx</span> <span class=\"bullet\">-s</span> <span class=\"string\">reload</span>  <span class=\"comment\">#  shell: systemctl reload nginx</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"role\"><a href=\"#role\" class=\"headerlink\" title=\"role\"></a>role</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/ansible/roles/nginx.yml </span><br><span class=\"line\">---</span><br><span class=\"line\">- hosts: web-node      <span class=\"comment\"># playbook</span></span><br><span class=\"line\">  remote_user: root    <span class=\"comment\"># </span></span><br><span class=\"line\">  roles:               <span class=\"comment\"># </span></span><br><span class=\"line\">    - nginx            <span class=\"comment\"># playbook</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx-roles\"><a href=\"#nginx-roles\" class=\"headerlink\" title=\"nginx roles\"></a>nginx roles</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tree /etc/ansible/roles/</span><br><span class=\"line\">/etc/ansible/roles/</span><br><span class=\"line\"> nginx</span><br><span class=\"line\">  defaults</span><br><span class=\"line\">  files</span><br><span class=\"line\">   index.html</span><br><span class=\"line\">   nginx.service</span><br><span class=\"line\">   install_nginx.sh</span><br><span class=\"line\">   nginx-1.16.0.tar.gz</span><br><span class=\"line\">   openssl-1.0.2r.tar.gz</span><br><span class=\"line\">   pcre-8.42.tar.gz</span><br><span class=\"line\">   zlib-1.2.11.tar.gz</span><br><span class=\"line\">  handlers</span><br><span class=\"line\">   main.yml</span><br><span class=\"line\">  meta</span><br><span class=\"line\">  tasks</span><br><span class=\"line\">   copy.yml</span><br><span class=\"line\">   main.yml</span><br><span class=\"line\">  templates</span><br><span class=\"line\">   default.conf.j2</span><br><span class=\"line\">   nginx.conf.j2</span><br><span class=\"line\">  vars</span><br><span class=\"line\">      main.yml</span><br><span class=\"line\"> nginx.yml</span><br></pre></td></tr></table></figure>\n<h3 id=\"playbook\"><a href=\"#playbook\" class=\"headerlink\" title=\"playbook\"></a>playbook</h3><p>playbooknginxplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook --syntax-check /etc/ansible/roles/nginx.yml </span><br><span class=\"line\"></span><br><span class=\"line\">playbook: /etc/ansible/roles/nginx.yml  <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ansible-playbook -C</code> playbookplaybook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook -C nginx.yml </span><br><span class=\"line\"></span><br><span class=\"line\">PLAY [web-node] ************************************************************************************************************************************************</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy nginx-1.16.0.tar.gz to client] **************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy install_nginx.sh to client] *****************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : mkdir nginx data directory] **********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy index.html] *********************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy nginx systemctl file] ***********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : copy dependency package] *************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=openssl-1.0.2r.tar.gz)</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=pcre-8.42.tar.gz)</span><br><span class=\"line\">changed: [192.168.20.213] =&gt; (item=zlib-1.2.11.tar.gz)</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : install nginx] ***********************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : replace nginx.conf file] *************************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : mkdir nginx vhost directory] *********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : relpace default.conf file] ***********************************************************************************************************************</span><br><span class=\"line\">changed: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">TASK [nginx : start nginx] *************************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">RUNNING HANDLER [nginx : reload nginx] *************************************************************************************************************************</span><br><span class=\"line\">skipping: [192.168.20.213]</span><br><span class=\"line\"></span><br><span class=\"line\">PLAY RECAP *****************************************************************************************************************************************************</span><br><span class=\"line\">192.168.20.213             : ok=8    changed=8    unreachable=0    failed=0</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"nginx-playbook\"><a href=\"#nginx-playbook\" class=\"headerlink\" title=\"nginx playbook\"></a>nginx playbook</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ansible-playbook nginx.yml</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>ansible-playbook nginx.yml</code>ansiblenginx</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nginx playbook<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># webnginx</span></span><br><span class=\"line\">$ netstat -ptln | grep 80</span><br><span class=\"line\">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      14461/nginx: master</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\">$ ps -ef | grep nginx</span><br><span class=\"line\">root      14461      1  0 00:39 ?        00:00:00 nginx: master process /usr/sbin/nginx</span><br><span class=\"line\">nginx     14474  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14475  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14476  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">nginx     14477  14461  0 00:39 ?        00:00:00 nginx: worker process</span><br><span class=\"line\">root      39501   1664  0 11:38 pts/0    00:00:00 grep --color=auto nginx</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\">$ curl http://192.168.20.213</span><br><span class=\"line\">this is a <span class=\"built_in\">test</span> pages!       <span class=\"comment\"># index.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx_statusuri</span></span><br><span class=\"line\">$ curl http://192.168.20.213/nginx_status     <span class=\"comment\">#default.conf.j2nginx location</span></span><br><span class=\"line\">Active connections: 1 </span><br><span class=\"line\">server accepts handled requests</span><br><span class=\"line\"> 8 8 10 </span><br><span class=\"line\">Reading: 0 Writing: 1 Waiting: 0</span><br></pre></td></tr></table></figure></p>\n<p>ansible-playbooknginx</p>\n"},{"layout":"post","title":"Elastic StackFilebeat7.0","author":"Pyker","img":"/images/bar/beats.png","top":false,"cover":false,"date":"2019-03-14T04:10:00.000Z","_content":"## Filebeat\n* `Filebeat`beats``LogstashElasticsearchKibana\n\n*  SSH Filebeat \n\n* Filebeat \n\n* `Filebeat` auditdApacheNGINXSystemMySQL  Elasticsearch  Kibana  Filebeat  Machine Learning \n\n## Filebeat\nFilebeat`inputs`  `harvesters`\n### 2.1 harvester\n`harvester`harvesterharvesterharvesterharvesterFilebeatharvesterFilebeatclose_inactive\n### 2.2 input\n`input`harvestersinputloginputpathsglobharvester\nFilebeatglob\n```yaml\nfilebeat.inputs:\n- type: log\n  paths:\n    - /var/log/*.log\n    - /var/path2/*.log\n```\n### 2.3 Filebeat\nFilebeatregistryharvesterElasticsearch  LogstashFilebeatFilebeatFilebeatFilebeatharvesterFilebeatFilebeat\n`clean_remove``clean_inactive``clean_inactive``clean_remove`\n### 2.4 Filebeatat-least-once\nFilebeatFilebeat\nFilebeat\nFilebeatFilebeatFilebeat`shutdown_timeout`Filebeat\n## Filebeat\nFilebeat`filebeat.yml``filebeat.reference.yml`\n### 3.1 \nFilebeat\n* `modules.d`\n* Filebea\n* `filebeat.yml`\n\n```bash\n# modules.d\n$ ./filebeat modules enable apache2 mysql\n\n# Filebea\n$ ./filebeat --modules nginx,mysql,system\n\n# `filebeat.yml`\nfilebeat.modules:\n - module: nginx\n - module: mysql\n - module: system\n```\n### 3.2 inputs\nFilebeatfilebeat.yml`filebeat.inputs`inputsYMALinputsinput\n```yaml\nfilebeat.inputs:\n- type: log\n  paths:\n    - /var/log/system.log\n    - /var/log/wifi.log\n- type: log\n  paths:\n    - \"/var/log/apache2/*\"\n  fields:\n    apache: true\n  fields_under_root: true\n```\n`log`inputpathsfields, include_lines, exclude_lines, multilineinputinput\n### 3.3 \n* `paths`\n/var/log/*/*.log /var/log.log/var/log`recursive_glob: true`.log\n\n* `recursive_glob.enabled`\n\\*\\*glob\\*\\*glob`/foo/**``/foo` `/foo/*` `/foo/**`\\*\\*8\\*`recursive_glob.enabled: false`\n\n* `encoding`\n[W3CHTML5](http://www.w3.org/TR/encoding)`plain`, `latin1`, `utf-8`, `utf-16be-bom`, `utf-16be`, `utf-16le`, `big5`, `gb18030`, `gbk`, `hz-gb-2312``plain`\n\n* `exclude_lines`\nFilebeat`multiline``exclude_lines`PS\nFilebeatDBG\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      exclude_lines: ['^DBG']\n    ```\n* `include_lines`\nFilebeat`multipline``include_lines`\nFilebeat`ERRWARN`\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      include_lines: ['^ERR', '^WARN']\n    ```\n>`include_lines`  `exclude_lines` Filebeatinclude_linesexclude_lines\nDGBsometext\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      include_lines: ['sometext']\n      exclude_lines: ['^DBG']\n    ```\n* `exclude_files`\n  Filebeat \n.gz:\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      exclude_files: ['\\.gz$']\n    ```\n\n\n* `fields`\n \n\n* `fields_under_root`\ntrue Filebeat\n\n* `harvester_buffer_size`\nharvesterbuffer16384\n\n* `max_bytes`\nmax_bytes10MB10485760\n\n* `json`\n    `json.keys_under_root`\n    JSON\"json\"keykeyfalse\n\n    `json.overwrite_keys`\n    keys_under_rootJSONFilebeat\n\n    `json.add_error_key`\n    JSONFilebeat `error.message` `error.type: json`keymessage_key\n\n    `json.message_key`\n    JSON keykeyJSON\n\n    `ignore_decoding_error`\n    JSONtruefalse\n    ```yaml\n    json.keys_under_root: true\n    json.add_error_key: true\n    json.message_key: log\n    ```\n* `multiline`\n    `multiline.pattern`\n     negate\n    `multiline.negate`\n     false\n    `multiline.match`\n    Filebeat  negate\n    ```yaml\n    multiline.pattern: '^\\['\n    multiline.negate: true\n    multiline.match: after\n    ```\n\nmultiline.negate | multiline.match | Result\n--- | --- | ---\nfalse | after | \nfalse | before | \ntrue | after | \ntrue | before | \n![](/images/pic/multiline.jpg)\n\nJava\n```\nException in thread \"main\" java.lang.NullPointerException\n        at com.example.myproject.Book.getTitle(Book.java:16)\n        at com.example.myproject.Author.getBookTitles(Author.java:25)\n        at com.example.myproject.Bootstrap.main(Bootstrap.java:14)\n```\n\n```yaml\nmultiline.pattern: '^[[:space:]]'\nmultiline.negate: false\nmultiline.match: after\n```\n\n```\nException in thread \"main\" java.lang.IllegalStateException: A book has a null property\n       at com.example.myproject.Author.getBookIds(Author.java:38)\n       at com.example.myproject.Bootstrap.main(Bootstrap.java:14)\nCaused by: java.lang.NullPointerException\n       at com.example.myproject.Book.getId(Book.java:22)\n       at com.example.myproject.Author.getBookIds(Author.java:35)\n       ... 1 more\n```\n\n```yaml\nmultiline.pattern: '^[[:space:]]+(at|\\.{3})\\b|^Caused by:'\nmultiline.negate: false\nmultiline.match: after\n```\n\n1.  at  ... \n2.  Caused by: \n\n* `ignore_older`\nFilebeat`ignore_older`Filebeat2h25m50`ignore_older``close_inactive`\n\n* `close_*`\nclose_*`harvester`harvesterharvester`scan_frequency`harvesterFilebeatharvester\n\n    `close_inactive`\n    Filebeatharvesterharvester`scan_frequency`\n    `close_inactive``close_inactive`1m`close_inactive`harvester\n    Filebeat`close_inactive`5harvester52h25m55m\n\n    `close_renamed`\n    Filebeatharvester`close_rename`Filebeat\n\n    `close_removed`\n    Filebeatharvester`close_inactive``close_removed`Filebeatharvester\n\n    `close_eof`\n      \n\n    `close_timeout` \n    Filebeatharvester`close_timeout``close_timeout`Filebeat`scan_frequency`harvesterharvester`close_timeout`\n\n* `scan_frequency`\nFilebeatPS /var/log/* `scan_frequency`PS110`scan_frequency``close_inactive`\n\n`log`[](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html)\n## \nFilebeat \n### 4.1 input\nfilebeat.ymlfilebeat.config.inputspath \n```yaml\nfilebeat.config.inputs:\n  enabled: true\n  path: configs/*.yml\n```\npathinput\n```yaml\n- type: log\n  paths:\n    - /var/log/mysql.log\n  scan_frequency: 10s\n\n- type: log\n  paths:\n    - /var/log/apache.log\n  scan_frequency: 5s\n```\n### 4.2 \nfilebeat.ymlfilebeat.config.modulespath Filebeatmodules.d \n```yaml\nfilebeat.config.modules:\n  enabled: true\n  path: ${path.config}/modules.d/*.yml\n```\n\n```\n- module: apache2\n  access:\n    enabled: true\n    var.paths: [/var/log/apache2/access.log*]\n  error:\n    enabled: true\n    var.paths: [/var/log/apache2/error.log*]\n```\n### 4.3 output\nfilebeat.ymlFilebeat `Elasticsearch`, `Logstash`, `Kafka`, `Redis`, `File`, `Console`, `Cloud`\n#### 4.3.1 Elasticsearch\nElasticsearchFilebeatElasticsearch HTTP APIElasticsearch\n```yaml\noutput.elasticsearch:\n  hosts: [\"https://localhost:9200\"]\n  index: \"filebeat-%{[beat.version]}-%{+yyyy.MM.dd}\"\n  ssl.certificate_authorities: [\"/etc/pki/root/ca.pem\"]\n  ssl.certificate: \"/etc/pki/client/cert.pem\"\n  ssl.key: \"/etc/pki/client/cert.key\"\n```\nSSLhostsURLhttps\n```yaml\noutput.elasticsearch:\n  hosts: [\"https://localhost:9200\"]\n  username: \"filebeat_internal\"\n  password: \"YOUR_PASSWORD\"\n```\nElasticsearchIP:PORTprotocol:https\n```yaml\noutput.elasticsearch:\n  hosts: [\"localhost\"]\n  protocol: \"https\"\n  username: \"{beatname_lc}_internal\"\n  password: \"{pwd}\"\n```\n#### 4.3.2 Elasticsearch\n`enabled`\ntrue\n\n`hosts`\nElasticsearchURLIP:PORT9200\n```yaml\noutput.elasticsearch:\n  hosts: [\"10.45.3.2:9220\", \"10.45.3.1:9230\"]\n  protocol: https\n  path: /elasticsearch\n```\n`username`\n\n\n`password`\n\n\n`protocol`\nhttp  httpshttp\n\n`path`\nHTTP APIHTTPElasticsearchHTTP\n\n`headers`\nHTTPElasticsearch\n\n`index`\nPS`\"filebeat-%{[beat.version]}-%{+yyyy.MM.dd}\"`\"filebeat-6.3.2-2017.04.26\" `setup.template.name`  `setup.template.pattern` Kibana dashboards`setup.dashboards.index`\n\n`indices`\nindex\n```yaml\noutput.elasticsearch:\n  hosts: [\"http://localhost:9200\"]\n  index: \"logs-%{[beat.version]}-%{+yyyy.MM.dd}\"\n  indices:\n    - index: \"critical-%{[beat.version]}-%{+yyyy.MM.dd}\"\n      when.contains:\n        message: \"CRITICAL\"\n    - index: \"error-%{[beat.version]}-%{+yyyy.MM.dd}\"\n      when.contains:\n        message: \"ERR\"\n```\n`timeout`\n90\n\nelasticsearch[](https://www.elastic.co/guide/en/beats/filebeat/current/elasticsearch-output.html#_configuration_options_8)\nelasticsearchoutput [](https://www.elastic.co/guide/en/beats/filebeat/current/configuring-output.html)\n### 4.4 \nfilebeat.yml`setup.template`ElasticsearchFilebeatElasticsearch\n\n`setup.template.enabled`\nfalse\n\n`setup.template.name`\nfilebeatFilebeat filebeat-%{[beat.version]}\n\n`setup.template.pattern`\nfilebeat-*\n```yaml\nsetup.template.name: \"filebeat\"\nsetup.template.pattern: \"filebeat-*\"\n```\n`setup.template.fields`\nYAML fields.yml\n\n`setup.template.overwrite`\nfalse\n\n`setup.template.settings._source`\n```yaml\nsetup.template.name: \"filebeat\"\nsetup.template.fields: \"fields.yml\"\nsetup.template.overwrite: false\nsetup.template.settings:\n  _source.enabled: false\n```\nfilebeat(https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html)","source":"_posts/filebeat.md","raw":"layout: post\ntitle: Elastic StackFilebeat7.0\nauthor: Pyker\ncategories: elastic\nimg: /images/bar/beats.png\ntags:\n  - filebeat\n  - efk\ntop: false\ncover: false\ndate: 2019-03-14 12:10:00\n---\n## Filebeat\n* `Filebeat`beats``LogstashElasticsearchKibana\n\n*  SSH Filebeat \n\n* Filebeat \n\n* `Filebeat` auditdApacheNGINXSystemMySQL  Elasticsearch  Kibana  Filebeat  Machine Learning \n\n## Filebeat\nFilebeat`inputs`  `harvesters`\n### 2.1 harvester\n`harvester`harvesterharvesterharvesterharvesterFilebeatharvesterFilebeatclose_inactive\n### 2.2 input\n`input`harvestersinputloginputpathsglobharvester\nFilebeatglob\n```yaml\nfilebeat.inputs:\n- type: log\n  paths:\n    - /var/log/*.log\n    - /var/path2/*.log\n```\n### 2.3 Filebeat\nFilebeatregistryharvesterElasticsearch  LogstashFilebeatFilebeatFilebeatFilebeatharvesterFilebeatFilebeat\n`clean_remove``clean_inactive``clean_inactive``clean_remove`\n### 2.4 Filebeatat-least-once\nFilebeatFilebeat\nFilebeat\nFilebeatFilebeatFilebeat`shutdown_timeout`Filebeat\n## Filebeat\nFilebeat`filebeat.yml``filebeat.reference.yml`\n### 3.1 \nFilebeat\n* `modules.d`\n* Filebea\n* `filebeat.yml`\n\n```bash\n# modules.d\n$ ./filebeat modules enable apache2 mysql\n\n# Filebea\n$ ./filebeat --modules nginx,mysql,system\n\n# `filebeat.yml`\nfilebeat.modules:\n - module: nginx\n - module: mysql\n - module: system\n```\n### 3.2 inputs\nFilebeatfilebeat.yml`filebeat.inputs`inputsYMALinputsinput\n```yaml\nfilebeat.inputs:\n- type: log\n  paths:\n    - /var/log/system.log\n    - /var/log/wifi.log\n- type: log\n  paths:\n    - \"/var/log/apache2/*\"\n  fields:\n    apache: true\n  fields_under_root: true\n```\n`log`inputpathsfields, include_lines, exclude_lines, multilineinputinput\n### 3.3 \n* `paths`\n/var/log/*/*.log /var/log.log/var/log`recursive_glob: true`.log\n\n* `recursive_glob.enabled`\n\\*\\*glob\\*\\*glob`/foo/**``/foo` `/foo/*` `/foo/**`\\*\\*8\\*`recursive_glob.enabled: false`\n\n* `encoding`\n[W3CHTML5](http://www.w3.org/TR/encoding)`plain`, `latin1`, `utf-8`, `utf-16be-bom`, `utf-16be`, `utf-16le`, `big5`, `gb18030`, `gbk`, `hz-gb-2312``plain`\n\n* `exclude_lines`\nFilebeat`multiline``exclude_lines`PS\nFilebeatDBG\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      exclude_lines: ['^DBG']\n    ```\n* `include_lines`\nFilebeat`multipline``include_lines`\nFilebeat`ERRWARN`\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      include_lines: ['^ERR', '^WARN']\n    ```\n>`include_lines`  `exclude_lines` Filebeatinclude_linesexclude_lines\nDGBsometext\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      include_lines: ['sometext']\n      exclude_lines: ['^DBG']\n    ```\n* `exclude_files`\n  Filebeat \n.gz:\n    ```yaml\n    filebeat.inputs:\n    - type: log\n      ...\n      exclude_files: ['\\.gz$']\n    ```\n\n\n* `fields`\n \n\n* `fields_under_root`\ntrue Filebeat\n\n* `harvester_buffer_size`\nharvesterbuffer16384\n\n* `max_bytes`\nmax_bytes10MB10485760\n\n* `json`\n    `json.keys_under_root`\n    JSON\"json\"keykeyfalse\n\n    `json.overwrite_keys`\n    keys_under_rootJSONFilebeat\n\n    `json.add_error_key`\n    JSONFilebeat `error.message` `error.type: json`keymessage_key\n\n    `json.message_key`\n    JSON keykeyJSON\n\n    `ignore_decoding_error`\n    JSONtruefalse\n    ```yaml\n    json.keys_under_root: true\n    json.add_error_key: true\n    json.message_key: log\n    ```\n* `multiline`\n    `multiline.pattern`\n     negate\n    `multiline.negate`\n     false\n    `multiline.match`\n    Filebeat  negate\n    ```yaml\n    multiline.pattern: '^\\['\n    multiline.negate: true\n    multiline.match: after\n    ```\n\nmultiline.negate | multiline.match | Result\n--- | --- | ---\nfalse | after | \nfalse | before | \ntrue | after | \ntrue | before | \n![](/images/pic/multiline.jpg)\n\nJava\n```\nException in thread \"main\" java.lang.NullPointerException\n        at com.example.myproject.Book.getTitle(Book.java:16)\n        at com.example.myproject.Author.getBookTitles(Author.java:25)\n        at com.example.myproject.Bootstrap.main(Bootstrap.java:14)\n```\n\n```yaml\nmultiline.pattern: '^[[:space:]]'\nmultiline.negate: false\nmultiline.match: after\n```\n\n```\nException in thread \"main\" java.lang.IllegalStateException: A book has a null property\n       at com.example.myproject.Author.getBookIds(Author.java:38)\n       at com.example.myproject.Bootstrap.main(Bootstrap.java:14)\nCaused by: java.lang.NullPointerException\n       at com.example.myproject.Book.getId(Book.java:22)\n       at com.example.myproject.Author.getBookIds(Author.java:35)\n       ... 1 more\n```\n\n```yaml\nmultiline.pattern: '^[[:space:]]+(at|\\.{3})\\b|^Caused by:'\nmultiline.negate: false\nmultiline.match: after\n```\n\n1.  at  ... \n2.  Caused by: \n\n* `ignore_older`\nFilebeat`ignore_older`Filebeat2h25m50`ignore_older``close_inactive`\n\n* `close_*`\nclose_*`harvester`harvesterharvester`scan_frequency`harvesterFilebeatharvester\n\n    `close_inactive`\n    Filebeatharvesterharvester`scan_frequency`\n    `close_inactive``close_inactive`1m`close_inactive`harvester\n    Filebeat`close_inactive`5harvester52h25m55m\n\n    `close_renamed`\n    Filebeatharvester`close_rename`Filebeat\n\n    `close_removed`\n    Filebeatharvester`close_inactive``close_removed`Filebeatharvester\n\n    `close_eof`\n      \n\n    `close_timeout` \n    Filebeatharvester`close_timeout``close_timeout`Filebeat`scan_frequency`harvesterharvester`close_timeout`\n\n* `scan_frequency`\nFilebeatPS /var/log/* `scan_frequency`PS110`scan_frequency``close_inactive`\n\n`log`[](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html)\n## \nFilebeat \n### 4.1 input\nfilebeat.ymlfilebeat.config.inputspath \n```yaml\nfilebeat.config.inputs:\n  enabled: true\n  path: configs/*.yml\n```\npathinput\n```yaml\n- type: log\n  paths:\n    - /var/log/mysql.log\n  scan_frequency: 10s\n\n- type: log\n  paths:\n    - /var/log/apache.log\n  scan_frequency: 5s\n```\n### 4.2 \nfilebeat.ymlfilebeat.config.modulespath Filebeatmodules.d \n```yaml\nfilebeat.config.modules:\n  enabled: true\n  path: ${path.config}/modules.d/*.yml\n```\n\n```\n- module: apache2\n  access:\n    enabled: true\n    var.paths: [/var/log/apache2/access.log*]\n  error:\n    enabled: true\n    var.paths: [/var/log/apache2/error.log*]\n```\n### 4.3 output\nfilebeat.ymlFilebeat `Elasticsearch`, `Logstash`, `Kafka`, `Redis`, `File`, `Console`, `Cloud`\n#### 4.3.1 Elasticsearch\nElasticsearchFilebeatElasticsearch HTTP APIElasticsearch\n```yaml\noutput.elasticsearch:\n  hosts: [\"https://localhost:9200\"]\n  index: \"filebeat-%{[beat.version]}-%{+yyyy.MM.dd}\"\n  ssl.certificate_authorities: [\"/etc/pki/root/ca.pem\"]\n  ssl.certificate: \"/etc/pki/client/cert.pem\"\n  ssl.key: \"/etc/pki/client/cert.key\"\n```\nSSLhostsURLhttps\n```yaml\noutput.elasticsearch:\n  hosts: [\"https://localhost:9200\"]\n  username: \"filebeat_internal\"\n  password: \"YOUR_PASSWORD\"\n```\nElasticsearchIP:PORTprotocol:https\n```yaml\noutput.elasticsearch:\n  hosts: [\"localhost\"]\n  protocol: \"https\"\n  username: \"{beatname_lc}_internal\"\n  password: \"{pwd}\"\n```\n#### 4.3.2 Elasticsearch\n`enabled`\ntrue\n\n`hosts`\nElasticsearchURLIP:PORT9200\n```yaml\noutput.elasticsearch:\n  hosts: [\"10.45.3.2:9220\", \"10.45.3.1:9230\"]\n  protocol: https\n  path: /elasticsearch\n```\n`username`\n\n\n`password`\n\n\n`protocol`\nhttp  httpshttp\n\n`path`\nHTTP APIHTTPElasticsearchHTTP\n\n`headers`\nHTTPElasticsearch\n\n`index`\nPS`\"filebeat-%{[beat.version]}-%{+yyyy.MM.dd}\"`\"filebeat-6.3.2-2017.04.26\" `setup.template.name`  `setup.template.pattern` Kibana dashboards`setup.dashboards.index`\n\n`indices`\nindex\n```yaml\noutput.elasticsearch:\n  hosts: [\"http://localhost:9200\"]\n  index: \"logs-%{[beat.version]}-%{+yyyy.MM.dd}\"\n  indices:\n    - index: \"critical-%{[beat.version]}-%{+yyyy.MM.dd}\"\n      when.contains:\n        message: \"CRITICAL\"\n    - index: \"error-%{[beat.version]}-%{+yyyy.MM.dd}\"\n      when.contains:\n        message: \"ERR\"\n```\n`timeout`\n90\n\nelasticsearch[](https://www.elastic.co/guide/en/beats/filebeat/current/elasticsearch-output.html#_configuration_options_8)\nelasticsearchoutput [](https://www.elastic.co/guide/en/beats/filebeat/current/configuring-output.html)\n### 4.4 \nfilebeat.yml`setup.template`ElasticsearchFilebeatElasticsearch\n\n`setup.template.enabled`\nfalse\n\n`setup.template.name`\nfilebeatFilebeat filebeat-%{[beat.version]}\n\n`setup.template.pattern`\nfilebeat-*\n```yaml\nsetup.template.name: \"filebeat\"\nsetup.template.pattern: \"filebeat-*\"\n```\n`setup.template.fields`\nYAML fields.yml\n\n`setup.template.overwrite`\nfalse\n\n`setup.template.settings._source`\n```yaml\nsetup.template.name: \"filebeat\"\nsetup.template.fields: \"fields.yml\"\nsetup.template.overwrite: false\nsetup.template.settings:\n  _source.enabled: false\n```\nfilebeat(https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html)","slug":"filebeat","published":1,"updated":"2019-05-23T18:39:08.536Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf1w0036p4n7tcq9wuxw","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><ul>\n<li><p><code>Filebeat</code>beats<code></code>LogstashElasticsearchKibana</p>\n</li>\n<li><p> SSH Filebeat </p>\n</li>\n<li><p>Filebeat </p>\n</li>\n<li><p><code>Filebeat</code> auditdApacheNGINXSystemMySQL  Elasticsearch  Kibana  Filebeat  Machine Learning </p>\n</li>\n</ul>\n<h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><p>Filebeat<code>inputs</code>  <code>harvesters</code></p>\n<h3 id=\"2-1-harvester\"><a href=\"#2-1-harvester\" class=\"headerlink\" title=\"2.1 harvester\"></a>2.1 harvester</h3><p><code>harvester</code>harvesterharvesterharvesterharvesterFilebeatharvesterFilebeatclose_inactive</p>\n<h3 id=\"2-2-input\"><a href=\"#2-2-input\" class=\"headerlink\" title=\"2.2 input\"></a>2.2 input</h3><p><code>input</code>harvestersinputloginputpathsglobharvester<br>Filebeatglob<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/*.log</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/path2/*.log</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-3-Filebeat\"><a href=\"#2-3-Filebeat\" class=\"headerlink\" title=\"2.3 Filebeat\"></a>2.3 Filebeat</h3><p>FilebeatregistryharvesterElasticsearch  LogstashFilebeatFilebeatFilebeatFilebeatharvesterFilebeatFilebeat<br><code>clean_remove</code><code>clean_inactive</code><code>clean_inactive</code><code>clean_remove</code></p>\n<h3 id=\"2-4-Filebeatat-least-once\"><a href=\"#2-4-Filebeatat-least-once\" class=\"headerlink\" title=\"2.4 Filebeatat-least-once\"></a>2.4 Filebeatat-least-once</h3><p>FilebeatFilebeat<br>Filebeat<br>FilebeatFilebeatFilebeat<code>shutdown_timeout</code>Filebeat</p>\n<h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><p>Filebeat<code>filebeat.yml</code><code>filebeat.reference.yml</code></p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>Filebeat</p>\n<ul>\n<li><code>modules.d</code></li>\n<li>Filebea</li>\n<li><code>filebeat.yml</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># modules.d</span></span><br><span class=\"line\">$ ./filebeat modules <span class=\"built_in\">enable</span> apache2 mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Filebea</span></span><br><span class=\"line\">$ ./filebeat --modules nginx,mysql,system</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># `filebeat.yml`</span></span><br><span class=\"line\">filebeat.modules:</span><br><span class=\"line\"> - module: nginx</span><br><span class=\"line\"> - module: mysql</span><br><span class=\"line\"> - module: system</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-2-inputs\"><a href=\"#3-2-inputs\" class=\"headerlink\" title=\"3.2 inputs\"></a>3.2 inputs</h3><p>Filebeatfilebeat.yml<code>filebeat.inputs</code>inputsYMALinputsinput<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/system.log</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/wifi.log</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">\"/var/log/apache2/*\"</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    apache:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  fields_under_root:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p><code>log</code>inputpathsfields, include_lines, exclude_lines, multilineinputinput</p>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><ul>\n<li><p><code>paths</code><br>/var/log/<em>/</em>.log /var/log.log/var/log<code>recursive_glob: true</code>.log</p>\n</li>\n<li><p><code>recursive_glob.enabled</code><br>**glob**glob<code>/foo/**</code><code>/foo</code> <code>/foo/*</code> <code>/foo/**</code>**8*<code>recursive_glob.enabled: false</code></p>\n</li>\n<li><p><code>encoding</code><br><a href=\"http://www.w3.org/TR/encoding\" target=\"_blank\" rel=\"noopener\">W3CHTML5</a><code>plain</code>, <code>latin1</code>, <code>utf-8</code>, <code>utf-16be-bom</code>, <code>utf-16be</code>, <code>utf-16le</code>, <code>big5</code>, <code>gb18030</code>, <code>gbk</code>, <code>hz-gb-2312</code><code>plain</code></p>\n</li>\n<li><p><code>exclude_lines</code><br>Filebeat<code>multiline</code><code>exclude_lines</code>PS<br>FilebeatDBG</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['^DBG']</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>include_lines</code><br>Filebeat<code>multipline</code><code>include_lines</code><br>Filebeat<code>ERRWARN</code></p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  include_lines:</span> <span class=\"string\">['^ERR',</span> <span class=\"string\">'^WARN'</span><span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><code>include_lines</code>  <code>exclude_lines</code> Filebeatinclude_linesexclude_lines<br>DGBsometext<br>    <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  include_lines:</span> <span class=\"string\">['sometext']</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['^DBG']</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<ul>\n<li><p><code>exclude_files</code><br>  Filebeat <br>.gz:</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_files:</span> <span class=\"string\">['\\.gz$']</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>fields</code><br> </p>\n</li>\n<li><p><code>fields_under_root</code><br>true Filebeat</p>\n</li>\n<li><p><code>harvester_buffer_size</code><br>harvesterbuffer16384</p>\n</li>\n<li><p><code>max_bytes</code><br>max_bytes10MB10485760</p>\n</li>\n<li><p><code>json</code><br>  <code>json.keys_under_root</code><br>  JSONjsonkeykeyfalse</p>\n<p>  <code>json.overwrite_keys</code><br>  keys_under_rootJSONFilebeat</p>\n<p>  <code>json.add_error_key</code><br>  JSONFilebeat <code>error.message</code> <code>error.type: json</code>keymessage_key</p>\n<p>  <code>json.message_key</code><br>  JSON keykeyJSON</p>\n<p>  <code>ignore_decoding_error</code><br>  JSONtruefalse</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">json.keys_under_root:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">json.add_error_key:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">json.message_key:</span> <span class=\"string\">log</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>multiline</code><br>  <code>multiline.pattern</code><br>   negate<br>  <code>multiline.negate</code><br>   false<br>  <code>multiline.match</code><br>  Filebeat  negate</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^\\['</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>multiline.negate</th>\n<th>multiline.match</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>false</td>\n<td>after</td>\n<td></td>\n</tr>\n<tr>\n<td>false</td>\n<td>before</td>\n<td></td>\n</tr>\n<tr>\n<td>true</td>\n<td>after</td>\n<td></td>\n</tr>\n<tr>\n<td>true</td>\n<td>before</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"/images/pic/multiline.jpg\" alt=\"\"></p>\n<p>Java<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception <span class=\"keyword\">in</span> thread <span class=\"string\">\"main\"</span> java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span></span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Book</span><span class=\"selector-class\">.getTitle</span>(Book<span class=\"selector-class\">.java</span>:<span class=\"number\">16</span>)</span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookTitles</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">25</span>)</span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Bootstrap</span><span class=\"selector-class\">.main</span>(Bootstrap<span class=\"selector-class\">.java</span>:<span class=\"number\">14</span>)</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]'</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception <span class=\"keyword\">in</span> thread <span class=\"string\">\"main\"</span> java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.IllegalStateException</span>: A book has <span class=\"selector-tag\">a</span> null property</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookIds</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">38</span>)</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Bootstrap</span><span class=\"selector-class\">.main</span>(Bootstrap<span class=\"selector-class\">.java</span>:<span class=\"number\">14</span>)</span><br><span class=\"line\">Caused by: java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span></span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Book</span><span class=\"selector-class\">.getId</span>(Book<span class=\"selector-class\">.java</span>:<span class=\"number\">22</span>)</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookIds</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">35</span>)</span><br><span class=\"line\">       ... <span class=\"number\">1</span> more</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]+(at|\\.&#123;3&#125;)\\b|^Caused by:'</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ol>\n<li> at   </li>\n<li> Caused by: </li>\n</ol>\n<ul>\n<li><p><code>ignore_older</code><br>Filebeat<code>ignore_older</code>Filebeat2h25m50<code>ignore_older</code><code>close_inactive</code></p>\n</li>\n<li><p><code>close_*</code><br>close_*<code>harvester</code>harvesterharvester<code>scan_frequency</code>harvesterFilebeatharvester</p>\n<p>  <code>close_inactive</code><br>  Filebeatharvesterharvester<code>scan_frequency</code><br>  <code>close_inactive</code><code>close_inactive</code>1m<code>close_inactive</code>harvester<br>  Filebeat<code>close_inactive</code>5harvester52h25m55m</p>\n<p>  <code>close_renamed</code><br>  Filebeatharvester<code>close_rename</code>Filebeat</p>\n<p>  <code>close_removed</code><br>  Filebeatharvester<code>close_inactive</code><code>close_removed</code>Filebeatharvester</p>\n<p>  <code>close_eof</code><br>    </p>\n<p>  <code>close_timeout</code><br>  Filebeatharvester<code>close_timeout</code><code>close_timeout</code>Filebeat<code>scan_frequency</code>harvesterharvester<code>close_timeout</code></p>\n</li>\n<li><p><code>scan_frequency</code><br>FilebeatPS /var/log/* <code>scan_frequency</code>PS110<code>scan_frequency</code><code>close_inactive</code></p>\n</li>\n</ul>\n<p><code>log</code><a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Filebeat </p>\n<h3 id=\"4-1-input\"><a href=\"#4-1-input\" class=\"headerlink\" title=\"4.1 input\"></a>4.1 input</h3><p>filebeat.ymlfilebeat.config.inputspath <br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.config.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">configs/*.yml</span></span><br></pre></td></tr></table></figure></p>\n<p>pathinput<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/mysql.log</span></span><br><span class=\"line\"><span class=\"attr\">  scan_frequency:</span> <span class=\"number\">10</span><span class=\"string\">s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/apache.log</span></span><br><span class=\"line\"><span class=\"attr\">  scan_frequency:</span> <span class=\"number\">5</span><span class=\"string\">s</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><p>filebeat.ymlfilebeat.config.modulespath Filebeatmodules.d <br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.config.modules:</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- module: apache2</span><br><span class=\"line\">  access:</span><br><span class=\"line\">    enabled: <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"built_in\">var</span>.paths: [/<span class=\"built_in\">var</span>/<span class=\"built_in\">log</span>/apache2/access.<span class=\"built_in\">log</span>*]</span><br><span class=\"line\">  <span class=\"built_in\">error</span>:</span><br><span class=\"line\">    enabled: <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"built_in\">var</span>.paths: [/<span class=\"built_in\">var</span>/<span class=\"built_in\">log</span>/apache2/<span class=\"built_in\">error</span>.<span class=\"built_in\">log</span>*]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"4-3-output\"><a href=\"#4-3-output\" class=\"headerlink\" title=\"4.3 output\"></a>4.3 output</h3><p>filebeat.ymlFilebeat <code>Elasticsearch</code>, <code>Logstash</code>, <code>Kafka</code>, <code>Redis</code>, <code>File</code>, <code>Console</code>, <code>Cloud</code></p>\n<h4 id=\"4-3-1-Elasticsearch\"><a href=\"#4-3-1-Elasticsearch\" class=\"headerlink\" title=\"4.3.1 Elasticsearch\"></a>4.3.1 Elasticsearch</h4><p>ElasticsearchFilebeatElasticsearch HTTP APIElasticsearch<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"https://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  index:</span> <span class=\"string\">\"filebeat-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">  <span class=\"string\">ssl.certificate_authorities:</span> <span class=\"string\">[\"/etc/pki/root/ca.pem\"]</span></span><br><span class=\"line\">  <span class=\"string\">ssl.certificate:</span> <span class=\"string\">\"/etc/pki/client/cert.pem\"</span></span><br><span class=\"line\">  <span class=\"string\">ssl.key:</span> <span class=\"string\">\"/etc/pki/client/cert.key\"</span></span><br></pre></td></tr></table></figure></p>\n<p>SSLhostsURLhttps<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"https://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"filebeat_internal\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"YOUR_PASSWORD\"</span></span><br></pre></td></tr></table></figure></p>\n<p>ElasticsearchIP:PORTprotocol:https<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"localhost\"]</span></span><br><span class=\"line\"><span class=\"attr\">  protocol:</span> <span class=\"string\">\"https\"</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"&#123;beatname_lc&#125;_internal\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"&#123;pwd&#125;\"</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"4-3-2-Elasticsearch\"><a href=\"#4-3-2-Elasticsearch\" class=\"headerlink\" title=\"4.3.2 Elasticsearch\"></a>4.3.2 Elasticsearch</h4><p><code>enabled</code><br>true</p>\n<p><code>hosts</code><br>ElasticsearchURLIP:PORT9200<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"10.45.3.2:9220\",</span> <span class=\"string\">\"10.45.3.1:9230\"</span><span class=\"string\">]</span></span><br><span class=\"line\"><span class=\"attr\">  protocol:</span> <span class=\"string\">https</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">/elasticsearch</span></span><br></pre></td></tr></table></figure></p>\n<p><code>username</code><br></p>\n<p><code>password</code><br></p>\n<p><code>protocol</code><br>http  httpshttp</p>\n<p><code>path</code><br>HTTP APIHTTPElasticsearchHTTP</p>\n<p><code>headers</code><br>HTTPElasticsearch</p>\n<p><code>index</code><br>PS<code>&quot;filebeat-%{[beat.version]}-%{+yyyy.MM.dd}&quot;</code>filebeat-6.3.2-2017.04.26 <code>setup.template.name</code>  <code>setup.template.pattern</code> Kibana dashboards<code>setup.dashboards.index</code></p>\n<p><code>indices</code><br>index<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"http://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  index:</span> <span class=\"string\">\"logs-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"attr\">  indices:</span></span><br><span class=\"line\"><span class=\"attr\">    - index:</span> <span class=\"string\">\"critical-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">      <span class=\"string\">when.contains:</span></span><br><span class=\"line\"><span class=\"attr\">        message:</span> <span class=\"string\">\"CRITICAL\"</span></span><br><span class=\"line\"><span class=\"attr\">    - index:</span> <span class=\"string\">\"error-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">      <span class=\"string\">when.contains:</span></span><br><span class=\"line\"><span class=\"attr\">        message:</span> <span class=\"string\">\"ERR\"</span></span><br></pre></td></tr></table></figure></p>\n<p><code>timeout</code><br>90</p>\n<p>elasticsearch<a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/elasticsearch-output.html#_configuration_options_8\" target=\"_blank\" rel=\"noopener\"></a><br>elasticsearchoutput <a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/configuring-output.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"4-4-\"><a href=\"#4-4-\" class=\"headerlink\" title=\"4.4 \"></a>4.4 </h3><p>filebeat.yml<code>setup.template</code>ElasticsearchFilebeatElasticsearch</p>\n<p><code>setup.template.enabled</code><br>false</p>\n<p><code>setup.template.name</code><br>filebeatFilebeat filebeat-%{[beat.version]}</p>\n<p><code>setup.template.pattern</code><br>filebeat-*<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">setup.template.name:</span> <span class=\"string\">\"filebeat\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.pattern:</span> <span class=\"string\">\"filebeat-*\"</span></span><br></pre></td></tr></table></figure></p>\n<p><code>setup.template.fields</code><br>YAML fields.yml</p>\n<p><code>setup.template.overwrite</code><br>false</p>\n<p><code>setup.template.settings._source</code><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">setup.template.name:</span> <span class=\"string\">\"filebeat\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.fields:</span> <span class=\"string\">\"fields.yml\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.overwrite:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">setup.template.settings:</span></span><br><span class=\"line\">  <span class=\"string\">_source.enabled:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure></p>\n<p>filebeat(<a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html\" target=\"_blank\" rel=\"noopener\">https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html</a>)</p>\n","site":{"data":{}},"length":12138,"excerpt":"","more":"<h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><ul>\n<li><p><code>Filebeat</code>beats<code></code>LogstashElasticsearchKibana</p>\n</li>\n<li><p> SSH Filebeat </p>\n</li>\n<li><p>Filebeat </p>\n</li>\n<li><p><code>Filebeat</code> auditdApacheNGINXSystemMySQL  Elasticsearch  Kibana  Filebeat  Machine Learning </p>\n</li>\n</ul>\n<h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><p>Filebeat<code>inputs</code>  <code>harvesters</code></p>\n<h3 id=\"2-1-harvester\"><a href=\"#2-1-harvester\" class=\"headerlink\" title=\"2.1 harvester\"></a>2.1 harvester</h3><p><code>harvester</code>harvesterharvesterharvesterharvesterFilebeatharvesterFilebeatclose_inactive</p>\n<h3 id=\"2-2-input\"><a href=\"#2-2-input\" class=\"headerlink\" title=\"2.2 input\"></a>2.2 input</h3><p><code>input</code>harvestersinputloginputpathsglobharvester<br>Filebeatglob<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/*.log</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/path2/*.log</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-3-Filebeat\"><a href=\"#2-3-Filebeat\" class=\"headerlink\" title=\"2.3 Filebeat\"></a>2.3 Filebeat</h3><p>FilebeatregistryharvesterElasticsearch  LogstashFilebeatFilebeatFilebeatFilebeatharvesterFilebeatFilebeat<br><code>clean_remove</code><code>clean_inactive</code><code>clean_inactive</code><code>clean_remove</code></p>\n<h3 id=\"2-4-Filebeatat-least-once\"><a href=\"#2-4-Filebeatat-least-once\" class=\"headerlink\" title=\"2.4 Filebeatat-least-once\"></a>2.4 Filebeatat-least-once</h3><p>FilebeatFilebeat<br>Filebeat<br>FilebeatFilebeatFilebeat<code>shutdown_timeout</code>Filebeat</p>\n<h2 id=\"Filebeat\"><a href=\"#Filebeat\" class=\"headerlink\" title=\"Filebeat\"></a>Filebeat</h2><p>Filebeat<code>filebeat.yml</code><code>filebeat.reference.yml</code></p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>Filebeat</p>\n<ul>\n<li><code>modules.d</code></li>\n<li>Filebea</li>\n<li><code>filebeat.yml</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># modules.d</span></span><br><span class=\"line\">$ ./filebeat modules <span class=\"built_in\">enable</span> apache2 mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Filebea</span></span><br><span class=\"line\">$ ./filebeat --modules nginx,mysql,system</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># `filebeat.yml`</span></span><br><span class=\"line\">filebeat.modules:</span><br><span class=\"line\"> - module: nginx</span><br><span class=\"line\"> - module: mysql</span><br><span class=\"line\"> - module: system</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-2-inputs\"><a href=\"#3-2-inputs\" class=\"headerlink\" title=\"3.2 inputs\"></a>3.2 inputs</h3><p>Filebeatfilebeat.yml<code>filebeat.inputs</code>inputsYMALinputsinput<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/system.log</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/wifi.log</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">\"/var/log/apache2/*\"</span></span><br><span class=\"line\"><span class=\"attr\">  fields:</span></span><br><span class=\"line\"><span class=\"attr\">    apache:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  fields_under_root:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p><code>log</code>inputpathsfields, include_lines, exclude_lines, multilineinputinput</p>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><ul>\n<li><p><code>paths</code><br>/var/log/<em>/</em>.log /var/log.log/var/log<code>recursive_glob: true</code>.log</p>\n</li>\n<li><p><code>recursive_glob.enabled</code><br>**glob**glob<code>/foo/**</code><code>/foo</code> <code>/foo/*</code> <code>/foo/**</code>**8*<code>recursive_glob.enabled: false</code></p>\n</li>\n<li><p><code>encoding</code><br><a href=\"http://www.w3.org/TR/encoding\" target=\"_blank\" rel=\"noopener\">W3CHTML5</a><code>plain</code>, <code>latin1</code>, <code>utf-8</code>, <code>utf-16be-bom</code>, <code>utf-16be</code>, <code>utf-16le</code>, <code>big5</code>, <code>gb18030</code>, <code>gbk</code>, <code>hz-gb-2312</code><code>plain</code></p>\n</li>\n<li><p><code>exclude_lines</code><br>Filebeat<code>multiline</code><code>exclude_lines</code>PS<br>FilebeatDBG</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['^DBG']</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>include_lines</code><br>Filebeat<code>multipline</code><code>include_lines</code><br>Filebeat<code>ERRWARN</code></p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  include_lines:</span> <span class=\"string\">['^ERR',</span> <span class=\"string\">'^WARN'</span><span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><code>include_lines</code>  <code>exclude_lines</code> Filebeatinclude_linesexclude_lines<br>DGBsometext<br>    <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  include_lines:</span> <span class=\"string\">['sometext']</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_lines:</span> <span class=\"string\">['^DBG']</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<ul>\n<li><p><code>exclude_files</code><br>  Filebeat <br>.gz:</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\">  <span class=\"string\">...</span></span><br><span class=\"line\"><span class=\"attr\">  exclude_files:</span> <span class=\"string\">['\\.gz$']</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>fields</code><br> </p>\n</li>\n<li><p><code>fields_under_root</code><br>true Filebeat</p>\n</li>\n<li><p><code>harvester_buffer_size</code><br>harvesterbuffer16384</p>\n</li>\n<li><p><code>max_bytes</code><br>max_bytes10MB10485760</p>\n</li>\n<li><p><code>json</code><br>  <code>json.keys_under_root</code><br>  JSONjsonkeykeyfalse</p>\n<p>  <code>json.overwrite_keys</code><br>  keys_under_rootJSONFilebeat</p>\n<p>  <code>json.add_error_key</code><br>  JSONFilebeat <code>error.message</code> <code>error.type: json</code>keymessage_key</p>\n<p>  <code>json.message_key</code><br>  JSON keykeyJSON</p>\n<p>  <code>ignore_decoding_error</code><br>  JSONtruefalse</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">json.keys_under_root:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">json.add_error_key:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">json.message_key:</span> <span class=\"string\">log</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>multiline</code><br>  <code>multiline.pattern</code><br>   negate<br>  <code>multiline.negate</code><br>   false<br>  <code>multiline.match</code><br>  Filebeat  negate</p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^\\['</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>multiline.negate</th>\n<th>multiline.match</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>false</td>\n<td>after</td>\n<td></td>\n</tr>\n<tr>\n<td>false</td>\n<td>before</td>\n<td></td>\n</tr>\n<tr>\n<td>true</td>\n<td>after</td>\n<td></td>\n</tr>\n<tr>\n<td>true</td>\n<td>before</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"/images/pic/multiline.jpg\" alt=\"\"></p>\n<p>Java<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception <span class=\"keyword\">in</span> thread <span class=\"string\">\"main\"</span> java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span></span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Book</span><span class=\"selector-class\">.getTitle</span>(Book<span class=\"selector-class\">.java</span>:<span class=\"number\">16</span>)</span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookTitles</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">25</span>)</span><br><span class=\"line\">        at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Bootstrap</span><span class=\"selector-class\">.main</span>(Bootstrap<span class=\"selector-class\">.java</span>:<span class=\"number\">14</span>)</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]'</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception <span class=\"keyword\">in</span> thread <span class=\"string\">\"main\"</span> java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.IllegalStateException</span>: A book has <span class=\"selector-tag\">a</span> null property</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookIds</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">38</span>)</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Bootstrap</span><span class=\"selector-class\">.main</span>(Bootstrap<span class=\"selector-class\">.java</span>:<span class=\"number\">14</span>)</span><br><span class=\"line\">Caused by: java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span></span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Book</span><span class=\"selector-class\">.getId</span>(Book<span class=\"selector-class\">.java</span>:<span class=\"number\">22</span>)</span><br><span class=\"line\">       at com<span class=\"selector-class\">.example</span><span class=\"selector-class\">.myproject</span><span class=\"selector-class\">.Author</span><span class=\"selector-class\">.getBookIds</span>(Author<span class=\"selector-class\">.java</span>:<span class=\"number\">35</span>)</span><br><span class=\"line\">       ... <span class=\"number\">1</span> more</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">multiline.pattern:</span> <span class=\"string\">'^[[:space:]]+(at|\\.&#123;3&#125;)\\b|^Caused by:'</span></span><br><span class=\"line\"><span class=\"string\">multiline.negate:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">multiline.match:</span> <span class=\"string\">after</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ol>\n<li> at   </li>\n<li> Caused by: </li>\n</ol>\n<ul>\n<li><p><code>ignore_older</code><br>Filebeat<code>ignore_older</code>Filebeat2h25m50<code>ignore_older</code><code>close_inactive</code></p>\n</li>\n<li><p><code>close_*</code><br>close_*<code>harvester</code>harvesterharvester<code>scan_frequency</code>harvesterFilebeatharvester</p>\n<p>  <code>close_inactive</code><br>  Filebeatharvesterharvester<code>scan_frequency</code><br>  <code>close_inactive</code><code>close_inactive</code>1m<code>close_inactive</code>harvester<br>  Filebeat<code>close_inactive</code>5harvester52h25m55m</p>\n<p>  <code>close_renamed</code><br>  Filebeatharvester<code>close_rename</code>Filebeat</p>\n<p>  <code>close_removed</code><br>  Filebeatharvester<code>close_inactive</code><code>close_removed</code>Filebeatharvester</p>\n<p>  <code>close_eof</code><br>    </p>\n<p>  <code>close_timeout</code><br>  Filebeatharvester<code>close_timeout</code><code>close_timeout</code>Filebeat<code>scan_frequency</code>harvesterharvester<code>close_timeout</code></p>\n</li>\n<li><p><code>scan_frequency</code><br>FilebeatPS /var/log/* <code>scan_frequency</code>PS110<code>scan_frequency</code><code>close_inactive</code></p>\n</li>\n</ul>\n<p><code>log</code><a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-log.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Filebeat </p>\n<h3 id=\"4-1-input\"><a href=\"#4-1-input\" class=\"headerlink\" title=\"4.1 input\"></a>4.1 input</h3><p>filebeat.ymlfilebeat.config.inputspath <br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.config.inputs:</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">configs/*.yml</span></span><br></pre></td></tr></table></figure></p>\n<p>pathinput<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/mysql.log</span></span><br><span class=\"line\"><span class=\"attr\">  scan_frequency:</span> <span class=\"number\">10</span><span class=\"string\">s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">- type:</span> <span class=\"string\">log</span></span><br><span class=\"line\"><span class=\"attr\">  paths:</span></span><br><span class=\"line\"><span class=\"bullet\">    -</span> <span class=\"string\">/var/log/apache.log</span></span><br><span class=\"line\"><span class=\"attr\">  scan_frequency:</span> <span class=\"number\">5</span><span class=\"string\">s</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><p>filebeat.ymlfilebeat.config.modulespath Filebeatmodules.d <br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">filebeat.config.modules:</span></span><br><span class=\"line\"><span class=\"attr\">  enabled:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">$&#123;path.config&#125;/modules.d/*.yml</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- module: apache2</span><br><span class=\"line\">  access:</span><br><span class=\"line\">    enabled: <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"built_in\">var</span>.paths: [/<span class=\"built_in\">var</span>/<span class=\"built_in\">log</span>/apache2/access.<span class=\"built_in\">log</span>*]</span><br><span class=\"line\">  <span class=\"built_in\">error</span>:</span><br><span class=\"line\">    enabled: <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"built_in\">var</span>.paths: [/<span class=\"built_in\">var</span>/<span class=\"built_in\">log</span>/apache2/<span class=\"built_in\">error</span>.<span class=\"built_in\">log</span>*]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"4-3-output\"><a href=\"#4-3-output\" class=\"headerlink\" title=\"4.3 output\"></a>4.3 output</h3><p>filebeat.ymlFilebeat <code>Elasticsearch</code>, <code>Logstash</code>, <code>Kafka</code>, <code>Redis</code>, <code>File</code>, <code>Console</code>, <code>Cloud</code></p>\n<h4 id=\"4-3-1-Elasticsearch\"><a href=\"#4-3-1-Elasticsearch\" class=\"headerlink\" title=\"4.3.1 Elasticsearch\"></a>4.3.1 Elasticsearch</h4><p>ElasticsearchFilebeatElasticsearch HTTP APIElasticsearch<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"https://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  index:</span> <span class=\"string\">\"filebeat-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">  <span class=\"string\">ssl.certificate_authorities:</span> <span class=\"string\">[\"/etc/pki/root/ca.pem\"]</span></span><br><span class=\"line\">  <span class=\"string\">ssl.certificate:</span> <span class=\"string\">\"/etc/pki/client/cert.pem\"</span></span><br><span class=\"line\">  <span class=\"string\">ssl.key:</span> <span class=\"string\">\"/etc/pki/client/cert.key\"</span></span><br></pre></td></tr></table></figure></p>\n<p>SSLhostsURLhttps<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"https://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"filebeat_internal\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"YOUR_PASSWORD\"</span></span><br></pre></td></tr></table></figure></p>\n<p>ElasticsearchIP:PORTprotocol:https<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"localhost\"]</span></span><br><span class=\"line\"><span class=\"attr\">  protocol:</span> <span class=\"string\">\"https\"</span></span><br><span class=\"line\"><span class=\"attr\">  username:</span> <span class=\"string\">\"&#123;beatname_lc&#125;_internal\"</span></span><br><span class=\"line\"><span class=\"attr\">  password:</span> <span class=\"string\">\"&#123;pwd&#125;\"</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"4-3-2-Elasticsearch\"><a href=\"#4-3-2-Elasticsearch\" class=\"headerlink\" title=\"4.3.2 Elasticsearch\"></a>4.3.2 Elasticsearch</h4><p><code>enabled</code><br>true</p>\n<p><code>hosts</code><br>ElasticsearchURLIP:PORT9200<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"10.45.3.2:9220\",</span> <span class=\"string\">\"10.45.3.1:9230\"</span><span class=\"string\">]</span></span><br><span class=\"line\"><span class=\"attr\">  protocol:</span> <span class=\"string\">https</span></span><br><span class=\"line\"><span class=\"attr\">  path:</span> <span class=\"string\">/elasticsearch</span></span><br></pre></td></tr></table></figure></p>\n<p><code>username</code><br></p>\n<p><code>password</code><br></p>\n<p><code>protocol</code><br>http  httpshttp</p>\n<p><code>path</code><br>HTTP APIHTTPElasticsearchHTTP</p>\n<p><code>headers</code><br>HTTPElasticsearch</p>\n<p><code>index</code><br>PS<code>&quot;filebeat-%{[beat.version]}-%{+yyyy.MM.dd}&quot;</code>filebeat-6.3.2-2017.04.26 <code>setup.template.name</code>  <code>setup.template.pattern</code> Kibana dashboards<code>setup.dashboards.index</code></p>\n<p><code>indices</code><br>index<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">output.elasticsearch:</span></span><br><span class=\"line\"><span class=\"attr\">  hosts:</span> <span class=\"string\">[\"http://localhost:9200\"]</span></span><br><span class=\"line\"><span class=\"attr\">  index:</span> <span class=\"string\">\"logs-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\"><span class=\"attr\">  indices:</span></span><br><span class=\"line\"><span class=\"attr\">    - index:</span> <span class=\"string\">\"critical-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">      <span class=\"string\">when.contains:</span></span><br><span class=\"line\"><span class=\"attr\">        message:</span> <span class=\"string\">\"CRITICAL\"</span></span><br><span class=\"line\"><span class=\"attr\">    - index:</span> <span class=\"string\">\"error-<span class=\"template-variable\">%&#123;[beat.version]&#125;</span>-<span class=\"template-variable\">%&#123;+yyyy.MM.dd&#125;</span>\"</span></span><br><span class=\"line\">      <span class=\"string\">when.contains:</span></span><br><span class=\"line\"><span class=\"attr\">        message:</span> <span class=\"string\">\"ERR\"</span></span><br></pre></td></tr></table></figure></p>\n<p><code>timeout</code><br>90</p>\n<p>elasticsearch<a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/elasticsearch-output.html#_configuration_options_8\" target=\"_blank\" rel=\"noopener\"></a><br>elasticsearchoutput <a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/configuring-output.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"4-4-\"><a href=\"#4-4-\" class=\"headerlink\" title=\"4.4 \"></a>4.4 </h3><p>filebeat.yml<code>setup.template</code>ElasticsearchFilebeatElasticsearch</p>\n<p><code>setup.template.enabled</code><br>false</p>\n<p><code>setup.template.name</code><br>filebeatFilebeat filebeat-%{[beat.version]}</p>\n<p><code>setup.template.pattern</code><br>filebeat-*<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">setup.template.name:</span> <span class=\"string\">\"filebeat\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.pattern:</span> <span class=\"string\">\"filebeat-*\"</span></span><br></pre></td></tr></table></figure></p>\n<p><code>setup.template.fields</code><br>YAML fields.yml</p>\n<p><code>setup.template.overwrite</code><br>false</p>\n<p><code>setup.template.settings._source</code><br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">setup.template.name:</span> <span class=\"string\">\"filebeat\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.fields:</span> <span class=\"string\">\"fields.yml\"</span></span><br><span class=\"line\"><span class=\"string\">setup.template.overwrite:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"string\">setup.template.settings:</span></span><br><span class=\"line\">  <span class=\"string\">_source.enabled:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure></p>\n<p>filebeat(<a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html\" target=\"_blank\" rel=\"noopener\">https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html</a>)</p>\n"},{"layout":"post","title":"Mysql","author":"Pyker","img":"/images/bar/mysql.jpg","top":false,"cover":false,"date":"2018-10-22T13:47:00.000Z","_content":"Mysqlmysqlmysqlmysqlmysql\n\n### mysql\n\n#### mysql\n```\nmysql> show global status;\nMySQLMySQL\n```\n```\nmysql> show variables;\nMysql\n```\n```\nmysql> show processlist;\nMysql\n```\n#### \n```\nmysql> show variables like '%slow%'; \n+------------------+-------+ \n| Variable_name | Value | \n+------------------+-------+ \n| log_slow_queries | ON | \n| slow_launch_time | 2 | \n+------------------+-------+ \n\nmysql> show global status like '%slow%'; \n+---------------------+-------+ \n| Variable_name | Value | \n+---------------------+-------+ \n| Slow_launch_threads | 0 | \n| Slow_queries | 4148 | \n+---------------------+-------+\n```\n24148SQL5[MySQL](http://www.percona.com/docs/wiki/release:start) \n\nMySQL-\n\n#### \n`MySQL: ERROR 1040: Too many connections`MySQLMySQLmax_connections\n```\nmysql> show variables like 'max_connections'; \n+-----------------+-------+ \n| Variable_name | Value | \n+-----------------+-------+ \n| max_connections | 256 | \n+-----------------+-------+\n```\nMySQL256\n```\nmysql> show global status like Max_used_connections;\n```\nMySQL2452561040`Max_used_connections / max_connections * 100%  85%` 85%10%MySQL\n\n#### Key_buffer_size \nkey_buffer_sizeMyISAMMyISAM \n```\nmysql> show variables like key_buffer_size; \n+-----------------+------------+ \n| Variable_name | Value | \n+-----------------+------------+ \n| key_buffer_size | 536870912 | \n+-----------------+------------+\n```\n512MBkey_buffer_sizekey_buffer_size \n```\nmysql> show global status like 'key_read%'; \n+------------------------+-------------+ \n| Variable_name | Value | mysql \n+------------------------+-------------+ \n| Key_read_requests | 27813678764 | \n| Key_reads | 6798830 | \n+------------------------+-------------+\n```\n278136787646798830`key_cache_miss_rate = Key_reads / Key_read_requests * 100%`\nkey_cache_miss_rate0.0244%4000BT,key_cache_miss_rate0.1%(1000)key_cache_miss_rate0.01%key_buffer_size\nMySQLkey_blocks_* \n```\nmysql> show global status like 'key_blocks_u%'; \n+------------------------+-------------+ \n| Variable_name | Value | \n+------------------------+-------------+ \n| Key_blocks_unused | 0 | \n| Key_blocks_used | 413543 | \n+------------------------+-------------+\n```\nKey_blocks_unused(blocks)Key_blocks_usedblockskey_buffer_size \nKey_blocks_used / (Key_blocks_unused + Key_blocks_used) * 100%  80%\n\n#### \n``` \nmysql> show global status like 'created_tmp%'; \n+-------------------------+---------+ \n| Variable_name | Value | \n+-------------------------+---------+ \n| Created_tmp_disk_tables | 21197 | \n| Created_tmp_files | 58 | \n| Created_tmp_tables | 1771587 | \n+-------------------------+---------+\n```\nCreated_tmp_tablesCreated_tmp_disk_tables,Created_tmp_filesMySQL\n`Created_tmp_disk_tables / Created_tmp_tables * 100% <= 25% `\n`Created_tmp_disk_tables / Created_tmp_tables * 100% = 1.20%`, MySQL \n```\nmysql> show variables where Variable_name in ('tmp_table_size', 'max_heap_table_size'); \n+---------------------+-----------+ \n| Variable_name | Value | \n+---------------------+-----------+ \n| max_heap_table_size | 268435456 | \n| tmp_table_size | 536870912 | \n+---------------------+-----------+\n```\n256MB\n\n#### Open Table\n```\nmysql> show global status like 'open%tables%'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| Open_tables | 919 | \n| Opened_tables | 1951 | \n+---------------+-------+\n```\nOpen_tablesOpened_tablesOpened_tablestable_cache(5.1.3table_open_cache)table_cache \n```\nmysql> show variables like 'table_cache'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| table_cache | 2048 | \n+---------------+-------+\n```\n \n`Open_tables / Opened_tables * 100% >= 85%`, `Open_tables / table_cache * 100% <= 95%``\n\n\n```\nmysql> show global status like Thread%; \n+-------------------+-------+ \n| Variable_name | Value | \n+-------------------+-------+ \n| Threads_cached | 46 | \n| Threads_connected | 2 | \n| Threads_created | 570 | \n| Threads_running | 1 | \n+-------------------+-------+\n```\nMySQL`thread_cache_size` ()Threads_createdThreads_createdMySQLthread_cache_sizethread_cache_size \n```\nmysql> show variables like 'thread_cache_size'; \n+-------------------+-------+ \n| Variable_name | Value | \n+-------------------+-------+ \n| thread_cache_size | 64 | \n+-------------------+-------+\n```\n\n\n#### (query cache) \n```\nmysql> show global status like 'qcache%'; \n+-------------------------+-----------+ \n| Variable_name | Value | \n+-------------------------+-----------+ \n| Qcache_free_blocks | 22756 | \n| Qcache_free_memory | 76764704 | \n| Qcache_hits | 213028692 | \n| Qcache_inserts | 208894227 | \n| Qcache_lowmem_prunes | 4010916 | \n| Qcache_not_cached | 13385031 | \n| Qcache_queries_in_cache | 43560 | \n| Qcache_total_blocks | 111212 | \n+-------------------------+-----------+\n```\nMySQL\n`Qcache_free_blocks` FLUSH QUERY CACHE\n`Qcache_free_memory`  \n`Qcache_hits` \n`Qcache_inserts` \n`Qcache_lowmem_prunes` ;( free_blocksfree_memory) \n`Qcache_not_cached`  SELECT now()\n`Qcache_queries_in_cache` ()\n`Qcache_total_blocks` \n\nquery_cache \n```\nmysql> show variables like 'query_cache%'; \n+------------------------------+-----------+ \n| Variable_name | Value | \n+------------------------------+-----------+ \n| query_cache_limit | 2097152 | \n| query_cache_min_res_unit | 4096 | \n| query_cache_size | 203423744 | \n| query_cache_type | ON | \n| query_cache_wlock_invalidate | OFF |\n+++\n```\n\n`query_cache_limit` \n`query_cache_min_res_unit` \n`query_cache_size` \n`query_cache_type`  select sql_no_cache  \n`query_cache_wlock_invalidate` MyISAMquery cachecache\n`query_cache_min_res_unit` 4KB\n\n = `Qcache_free_blocks / Qcache_total_blocks * 100%`\n20%FLUSH QUERY CACHEquery_cache_min_res_unit\n = `(query_cache_size - Qcache_free_memory) / query_cache_size * 100%`\n25%`query_cache_size`;80%Qcache_lowmem_prunes > 50query_cache_size \n = `(Qcache_hits - Qcache_inserts) / Qcache_hits * 100%`\n  = 20.46% = 62.26% = 1.94%\n\n####  \n```\nmysql> show global status like 'sort%'; \n+-------------------+------------+ \n| Variable_name | Value | \n+-------------------+------------+ \n| Sort_merge_passes | 29 | \n| Sort_range | 37432840 | \n| Sort_rows | 9178691532 | \n| Sort_scan | 1860569 | \n+-------------------+------------+\n```\n`Sort_merge_passes` MySQL  Sort_buffer_size MySQL  MySQL  Sort_merge_passesMySQL  Sort_merge_passes  Sort_buffer_size  Sort_merge_passes   Sort_buffer_size \nread_rnd_buffer_size(3.2.3record_rnd_buffer_size)<http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/>\n\n#### (open_files) \n```\nmysql> show global status like 'open_files'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| Open_files | 1410 | \n+---------------+-------+ \nmysql> show variables like 'open_files_limit'; \n+------------------+-------+ \n| Variable_name | Value | \n+------------------+-------+ \n| open_files_limit | 4590 | \n+------------------+-------+\n```\n`Open_files / open_files_limit * 100% <= 75%`\n\n####  \n```\nmysql> show global status like 'table_locks%'; \n+-----------------------+-----------+ \n| Variable_name | Value | \n+-----------------------+-----------+ \n| Table_locks_immediate | 490206328 | \n| Table_locks_waited | 2084912 | \n+-----------------------+-----------+\n```\n`Table_locks_immediate` `Table_locks_waited` Table_locks_immediate / Table_locks_waited > 5000InnoDBInnoDBMyISAMInnoDBTable_locks_immediate / Table_locks_waited = 235MyISAM\n\n####  \n```\nmysql> show global status like 'handler_read%'; \n+-----------------------+-------------+ \n| Variable_name | Value | \n+-----------------------+-------------+ \n| Handler_read_first | 5803750 | \n| Handler_read_key | 6049319850 | \n| Handler_read_next | 94440908210 | \n| Handler_read_prev | 34822001724 | \n| Handler_read_rnd | 405482605 | \n| Handler_read_rnd_next | 18912877839 | \n+-----------------------+-------------+\n\nmysql> show global status like 'com_select'; \n+---------------+-----------+ \n| Variable_name | Value | \n+---------------+-----------+ \n| Com_select | 222693559 | \n+---------------+-----------+\n```\n\n = Handler_read_rnd_next / Com_select\n4000read_buffer_size8MB\n### MysqlQPS/TPS/\n#### QPS(Query) \n```\nQPS = Questions(or Queries) / seconds \nmysql > show  global  status like 'Question%'; \n ```\n#### TPS() \n```\nTPS = (Com_commit + Com_rollback) / seconds \nmysql > show global status like 'Com_commit'; \nmysql > show global status like 'Com_rollback'; \n```\n#### key Buffer  \n```\nmysql>show  global   status  like   'key%'; \nkey_buffer_read_hits = (1-key_reads / key_read_requests) * 100% \nkey_buffer_write_hits = (1-key_writes / key_write_requests) * 100% \n``` \n#### InnoDB Buffer \n```\nmysql> show status like 'innodb_buffer_pool_read%'; \ninnodb_buffer_read_hits = (1 - innodb_buffer_pool_reads / innodb_buffer_pool_read_requests) * 100% \n```\n#### Query Cache \n````\nmysql> show status like 'Qcache%'; \nQuery_cache_hits = (Qcahce_hits / (Qcache_hits + Qcache_inserts )) * 100%; \n``` \n#### Table Cache \n```\nmysql> show global  status like 'open%'; \n```\n open_tables   opend_tables  \n \n#### Thread Cache  \n```\nmysql> show global status like 'Thread%'; \nmysql> show global status like 'Connections'; \nThread_cache_hits = (1 - Threads_created / connections ) * 100% \n``` \n####  \n```\nmysql> show global  status like '%lock%'; \nTable_locks_waited/Table_locks_immediate=0.3%   \nInnodb_row_lock_waits innodb \n```\n####  \n```\nmysql > show slave status \n \n``` \n#### Tmp Table () \n```\nmysql > show status like 'Create_tmp%'; \nCreated_tmp_disk_tables/Created_tmp_tables10%Created_tmp_tables \n \n``` \n#### Binlog Cache  \n```\nmysql > show status like 'Binlog_cache%'; \nBinlog_cache_disk_use0  binlog_cache_size \n```\n#### Innodb_log_waits  \n```\nmysql > show status like 'innodb_log_waits'; \nInnodb_log_waits0 innodb log  buffer  \n```\n### Mysql\n<DeadLock>,,..InnoDB\n\n\n* ****\n1.\n```\nmysql> show OPEN TABLES where In_use > 0;\n```\n2.SUPER\n```\nmysql> show processlist;\n```\n3.idid\n```\nmysql> kill id\n```\n* ****\n1. \n```\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;\n```\n2.idtrx_mysql_thread_id\n```\nmysql> kill ID\n```\n\n>\nmysql> SHOW PROCESSLIST\n: mysql> KILL 420821;\n\n\n\n```\n1\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;\n2\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS;\n3\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;\n```\n\n \nMySQLstatustop,iostatiostatIOiostat.\n","source":"_posts/mysql-status.md","raw":"layout: post\ntitle: Mysql\nauthor: Pyker\ncategories: SQL\nimg: /images/bar/mysql.jpg\ntags:\n  - mysql\ntop: false\ncover: false\ndate: 2018-10-22 21:47:00\n---\nMysqlmysqlmysqlmysqlmysql\n\n### mysql\n\n#### mysql\n```\nmysql> show global status;\nMySQLMySQL\n```\n```\nmysql> show variables;\nMysql\n```\n```\nmysql> show processlist;\nMysql\n```\n#### \n```\nmysql> show variables like '%slow%'; \n+------------------+-------+ \n| Variable_name | Value | \n+------------------+-------+ \n| log_slow_queries | ON | \n| slow_launch_time | 2 | \n+------------------+-------+ \n\nmysql> show global status like '%slow%'; \n+---------------------+-------+ \n| Variable_name | Value | \n+---------------------+-------+ \n| Slow_launch_threads | 0 | \n| Slow_queries | 4148 | \n+---------------------+-------+\n```\n24148SQL5[MySQL](http://www.percona.com/docs/wiki/release:start) \n\nMySQL-\n\n#### \n`MySQL: ERROR 1040: Too many connections`MySQLMySQLmax_connections\n```\nmysql> show variables like 'max_connections'; \n+-----------------+-------+ \n| Variable_name | Value | \n+-----------------+-------+ \n| max_connections | 256 | \n+-----------------+-------+\n```\nMySQL256\n```\nmysql> show global status like Max_used_connections;\n```\nMySQL2452561040`Max_used_connections / max_connections * 100%  85%` 85%10%MySQL\n\n#### Key_buffer_size \nkey_buffer_sizeMyISAMMyISAM \n```\nmysql> show variables like key_buffer_size; \n+-----------------+------------+ \n| Variable_name | Value | \n+-----------------+------------+ \n| key_buffer_size | 536870912 | \n+-----------------+------------+\n```\n512MBkey_buffer_sizekey_buffer_size \n```\nmysql> show global status like 'key_read%'; \n+------------------------+-------------+ \n| Variable_name | Value | mysql \n+------------------------+-------------+ \n| Key_read_requests | 27813678764 | \n| Key_reads | 6798830 | \n+------------------------+-------------+\n```\n278136787646798830`key_cache_miss_rate = Key_reads / Key_read_requests * 100%`\nkey_cache_miss_rate0.0244%4000BT,key_cache_miss_rate0.1%(1000)key_cache_miss_rate0.01%key_buffer_size\nMySQLkey_blocks_* \n```\nmysql> show global status like 'key_blocks_u%'; \n+------------------------+-------------+ \n| Variable_name | Value | \n+------------------------+-------------+ \n| Key_blocks_unused | 0 | \n| Key_blocks_used | 413543 | \n+------------------------+-------------+\n```\nKey_blocks_unused(blocks)Key_blocks_usedblockskey_buffer_size \nKey_blocks_used / (Key_blocks_unused + Key_blocks_used) * 100%  80%\n\n#### \n``` \nmysql> show global status like 'created_tmp%'; \n+-------------------------+---------+ \n| Variable_name | Value | \n+-------------------------+---------+ \n| Created_tmp_disk_tables | 21197 | \n| Created_tmp_files | 58 | \n| Created_tmp_tables | 1771587 | \n+-------------------------+---------+\n```\nCreated_tmp_tablesCreated_tmp_disk_tables,Created_tmp_filesMySQL\n`Created_tmp_disk_tables / Created_tmp_tables * 100% <= 25% `\n`Created_tmp_disk_tables / Created_tmp_tables * 100% = 1.20%`, MySQL \n```\nmysql> show variables where Variable_name in ('tmp_table_size', 'max_heap_table_size'); \n+---------------------+-----------+ \n| Variable_name | Value | \n+---------------------+-----------+ \n| max_heap_table_size | 268435456 | \n| tmp_table_size | 536870912 | \n+---------------------+-----------+\n```\n256MB\n\n#### Open Table\n```\nmysql> show global status like 'open%tables%'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| Open_tables | 919 | \n| Opened_tables | 1951 | \n+---------------+-------+\n```\nOpen_tablesOpened_tablesOpened_tablestable_cache(5.1.3table_open_cache)table_cache \n```\nmysql> show variables like 'table_cache'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| table_cache | 2048 | \n+---------------+-------+\n```\n \n`Open_tables / Opened_tables * 100% >= 85%`, `Open_tables / table_cache * 100% <= 95%``\n\n\n```\nmysql> show global status like Thread%; \n+-------------------+-------+ \n| Variable_name | Value | \n+-------------------+-------+ \n| Threads_cached | 46 | \n| Threads_connected | 2 | \n| Threads_created | 570 | \n| Threads_running | 1 | \n+-------------------+-------+\n```\nMySQL`thread_cache_size` ()Threads_createdThreads_createdMySQLthread_cache_sizethread_cache_size \n```\nmysql> show variables like 'thread_cache_size'; \n+-------------------+-------+ \n| Variable_name | Value | \n+-------------------+-------+ \n| thread_cache_size | 64 | \n+-------------------+-------+\n```\n\n\n#### (query cache) \n```\nmysql> show global status like 'qcache%'; \n+-------------------------+-----------+ \n| Variable_name | Value | \n+-------------------------+-----------+ \n| Qcache_free_blocks | 22756 | \n| Qcache_free_memory | 76764704 | \n| Qcache_hits | 213028692 | \n| Qcache_inserts | 208894227 | \n| Qcache_lowmem_prunes | 4010916 | \n| Qcache_not_cached | 13385031 | \n| Qcache_queries_in_cache | 43560 | \n| Qcache_total_blocks | 111212 | \n+-------------------------+-----------+\n```\nMySQL\n`Qcache_free_blocks` FLUSH QUERY CACHE\n`Qcache_free_memory`  \n`Qcache_hits` \n`Qcache_inserts` \n`Qcache_lowmem_prunes` ;( free_blocksfree_memory) \n`Qcache_not_cached`  SELECT now()\n`Qcache_queries_in_cache` ()\n`Qcache_total_blocks` \n\nquery_cache \n```\nmysql> show variables like 'query_cache%'; \n+------------------------------+-----------+ \n| Variable_name | Value | \n+------------------------------+-----------+ \n| query_cache_limit | 2097152 | \n| query_cache_min_res_unit | 4096 | \n| query_cache_size | 203423744 | \n| query_cache_type | ON | \n| query_cache_wlock_invalidate | OFF |\n+++\n```\n\n`query_cache_limit` \n`query_cache_min_res_unit` \n`query_cache_size` \n`query_cache_type`  select sql_no_cache  \n`query_cache_wlock_invalidate` MyISAMquery cachecache\n`query_cache_min_res_unit` 4KB\n\n = `Qcache_free_blocks / Qcache_total_blocks * 100%`\n20%FLUSH QUERY CACHEquery_cache_min_res_unit\n = `(query_cache_size - Qcache_free_memory) / query_cache_size * 100%`\n25%`query_cache_size`;80%Qcache_lowmem_prunes > 50query_cache_size \n = `(Qcache_hits - Qcache_inserts) / Qcache_hits * 100%`\n  = 20.46% = 62.26% = 1.94%\n\n####  \n```\nmysql> show global status like 'sort%'; \n+-------------------+------------+ \n| Variable_name | Value | \n+-------------------+------------+ \n| Sort_merge_passes | 29 | \n| Sort_range | 37432840 | \n| Sort_rows | 9178691532 | \n| Sort_scan | 1860569 | \n+-------------------+------------+\n```\n`Sort_merge_passes` MySQL  Sort_buffer_size MySQL  MySQL  Sort_merge_passesMySQL  Sort_merge_passes  Sort_buffer_size  Sort_merge_passes   Sort_buffer_size \nread_rnd_buffer_size(3.2.3record_rnd_buffer_size)<http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/>\n\n#### (open_files) \n```\nmysql> show global status like 'open_files'; \n+---------------+-------+ \n| Variable_name | Value | \n+---------------+-------+ \n| Open_files | 1410 | \n+---------------+-------+ \nmysql> show variables like 'open_files_limit'; \n+------------------+-------+ \n| Variable_name | Value | \n+------------------+-------+ \n| open_files_limit | 4590 | \n+------------------+-------+\n```\n`Open_files / open_files_limit * 100% <= 75%`\n\n####  \n```\nmysql> show global status like 'table_locks%'; \n+-----------------------+-----------+ \n| Variable_name | Value | \n+-----------------------+-----------+ \n| Table_locks_immediate | 490206328 | \n| Table_locks_waited | 2084912 | \n+-----------------------+-----------+\n```\n`Table_locks_immediate` `Table_locks_waited` Table_locks_immediate / Table_locks_waited > 5000InnoDBInnoDBMyISAMInnoDBTable_locks_immediate / Table_locks_waited = 235MyISAM\n\n####  \n```\nmysql> show global status like 'handler_read%'; \n+-----------------------+-------------+ \n| Variable_name | Value | \n+-----------------------+-------------+ \n| Handler_read_first | 5803750 | \n| Handler_read_key | 6049319850 | \n| Handler_read_next | 94440908210 | \n| Handler_read_prev | 34822001724 | \n| Handler_read_rnd | 405482605 | \n| Handler_read_rnd_next | 18912877839 | \n+-----------------------+-------------+\n\nmysql> show global status like 'com_select'; \n+---------------+-----------+ \n| Variable_name | Value | \n+---------------+-----------+ \n| Com_select | 222693559 | \n+---------------+-----------+\n```\n\n = Handler_read_rnd_next / Com_select\n4000read_buffer_size8MB\n### MysqlQPS/TPS/\n#### QPS(Query) \n```\nQPS = Questions(or Queries) / seconds \nmysql > show  global  status like 'Question%'; \n ```\n#### TPS() \n```\nTPS = (Com_commit + Com_rollback) / seconds \nmysql > show global status like 'Com_commit'; \nmysql > show global status like 'Com_rollback'; \n```\n#### key Buffer  \n```\nmysql>show  global   status  like   'key%'; \nkey_buffer_read_hits = (1-key_reads / key_read_requests) * 100% \nkey_buffer_write_hits = (1-key_writes / key_write_requests) * 100% \n``` \n#### InnoDB Buffer \n```\nmysql> show status like 'innodb_buffer_pool_read%'; \ninnodb_buffer_read_hits = (1 - innodb_buffer_pool_reads / innodb_buffer_pool_read_requests) * 100% \n```\n#### Query Cache \n````\nmysql> show status like 'Qcache%'; \nQuery_cache_hits = (Qcahce_hits / (Qcache_hits + Qcache_inserts )) * 100%; \n``` \n#### Table Cache \n```\nmysql> show global  status like 'open%'; \n```\n open_tables   opend_tables  \n \n#### Thread Cache  \n```\nmysql> show global status like 'Thread%'; \nmysql> show global status like 'Connections'; \nThread_cache_hits = (1 - Threads_created / connections ) * 100% \n``` \n####  \n```\nmysql> show global  status like '%lock%'; \nTable_locks_waited/Table_locks_immediate=0.3%   \nInnodb_row_lock_waits innodb \n```\n####  \n```\nmysql > show slave status \n \n``` \n#### Tmp Table () \n```\nmysql > show status like 'Create_tmp%'; \nCreated_tmp_disk_tables/Created_tmp_tables10%Created_tmp_tables \n \n``` \n#### Binlog Cache  \n```\nmysql > show status like 'Binlog_cache%'; \nBinlog_cache_disk_use0  binlog_cache_size \n```\n#### Innodb_log_waits  \n```\nmysql > show status like 'innodb_log_waits'; \nInnodb_log_waits0 innodb log  buffer  \n```\n### Mysql\n<DeadLock>,,..InnoDB\n\n\n* ****\n1.\n```\nmysql> show OPEN TABLES where In_use > 0;\n```\n2.SUPER\n```\nmysql> show processlist;\n```\n3.idid\n```\nmysql> kill id\n```\n* ****\n1. \n```\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;\n```\n2.idtrx_mysql_thread_id\n```\nmysql> kill ID\n```\n\n>\nmysql> SHOW PROCESSLIST\n: mysql> KILL 420821;\n\n\n\n```\n1\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;\n2\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS;\n3\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;\n```\n\n \nMySQLstatustop,iostatiostatIOiostat.\n","slug":"mysql-status","published":1,"updated":"2019-05-23T18:38:07.189Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf200038p4n7lavirhxc","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><p>Mysqlmysqlmysqlmysqlmysql</p>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"built_in\">show</span> global <span class=\"built_in\">status</span>;</span><br><span class=\"line\">MySQLMySQL</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show <span class=\"keyword\">variables</span>;</span><br><span class=\"line\">Mysql</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"keyword\">show </span>processlist<span class=\"comment\">;</span></span><br><span class=\"line\">Mysql</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like '%slow%'; </span><br><span class=\"line\">+------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> log_slow_queries </span>|<span class=\"string\"> ON </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> slow_launch_time </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show global status like '%slow%'; </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Slow_launch_threads </span>|<span class=\"string\"> 0 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Slow_queries </span>|<span class=\"string\"> 4148 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p>24148SQL5<a href=\"http://www.percona.com/docs/wiki/release:start\" target=\"_blank\" rel=\"noopener\">MySQL</a> </p>\n<p>MySQL-</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>MySQL: ERROR 1040: Too many connections</code>MySQLMySQLmax_connections<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'max_connections'; </span><br><span class=\"line\">+-----------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> max_connections </span>|<span class=\"string\"> 256 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p>MySQL256<br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"built_in\">show</span> global <span class=\"built_in\">status</span> like Max_used_connections;</span><br></pre></td></tr></table></figure></p>\n<p>MySQL2452561040<code>Max_used_connections / max_connections * 100%  85%</code> 85%10%MySQL</p>\n<h4 id=\"Key-buffer-size\"><a href=\"#Key-buffer-size\" class=\"headerlink\" title=\"Key_buffer_size\"></a>Key_buffer_size</h4><p>key_buffer_sizeMyISAMMyISAM<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like key_buffer_size; </span><br><span class=\"line\">+-----------------+------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> key_buffer_size </span>|<span class=\"string\"> 536870912 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>512MBkey_buffer_sizekey_buffer_size<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'key_read%'; </span><br><span class=\"line\">+------------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> mysql </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Key_read_requests </span>|<span class=\"string\"> 27813678764 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Key_reads </span>|<span class=\"string\"> 6798830 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>278136787646798830<code>key_cache_miss_rate = Key_reads / Key_read_requests * 100%</code><br>key_cache_miss_rate0.0244%4000BT,key_cache_miss_rate0.1%(1000)key_cache_miss_rate0.01%key_buffer_size<br>MySQLkey_blocks_*<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'key_blocks_u%'; </span><br><span class=\"line\">+------------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Key_blocks_unused </span>|<span class=\"string\"> 0 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Key_blocks_used </span>|<span class=\"string\"> 413543 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>Key_blocks_unused(blocks)Key_blocks_usedblockskey_buffer_size<br>Key_blocks_used / (Key_blocks_unused + Key_blocks_used) * 100%  80%</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'created_tmp%'; </span><br><span class=\"line\">+-------------------------+---------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+---------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_disk_tables </span>|<span class=\"string\"> 21197 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_files </span>|<span class=\"string\"> 58 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_tables </span>|<span class=\"string\"> 1771587 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+---------+</span></span><br></pre></td></tr></table></figure>\n<p>Created_tmp_tablesCreated_tmp_disk_tables,Created_tmp_filesMySQL<br><code>Created_tmp_disk_tables / Created_tmp_tables * 100% &lt;= 25%</code><br><code>Created_tmp_disk_tables / Created_tmp_tables * 100% = 1.20%</code>, MySQL<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables where Variable<span class=\"emphasis\">_name in ('tmp_</span>table<span class=\"emphasis\">_size', 'max_</span>heap<span class=\"emphasis\">_table_</span>size'); </span><br><span class=\"line\"><span class=\"code\">+---------------------+</span>-----------+ </span><br><span class=\"line\">| Variable<span class=\"emphasis\">_name | Value | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------------+-----------+ </span></span><br><span class=\"line\"><span class=\"emphasis\">| max_</span>heap<span class=\"emphasis\">_table_</span>size | 268435456 | </span><br><span class=\"line\">| tmp<span class=\"emphasis\">_table_</span>size | 536870912 | </span><br><span class=\"line\"><span class=\"code\">+---------------------+</span>-----------+</span><br></pre></td></tr></table></figure></p>\n<p>256MB</p>\n<h4 id=\"Open-Table\"><a href=\"#Open-Table\" class=\"headerlink\" title=\"Open Table\"></a>Open Table</h4><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like <span class=\"emphasis\">'open%tables%'</span>; </span><br><span class=\"line\"><span class=\"code\">+---------------+</span>-------+ </span><br><span class=\"line\">| Variable<span class=\"emphasis\">_name | Value | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------+-------+ </span></span><br><span class=\"line\"><span class=\"emphasis\">| Open_</span>tables | 919 | </span><br><span class=\"line\">| Opened<span class=\"emphasis\">_tables | 1951 | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p>Open_tablesOpened_tablesOpened_tablestable_cache(5.1.3table_open_cache)table_cache<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'table_cache'; </span><br><span class=\"line\">+---------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> table_cache </span>|<span class=\"string\"> 2048 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p><br><code>Open_tables / Opened_tables * 100% &gt;= 85%</code>, <code>Open_tables / table_cache * 100% &lt;= 95%`</code></p>\n<p><br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like Thread%; </span><br><span class=\"line\">+-------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_cached </span>|<span class=\"string\"> 46 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_connected </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_created </span>|<span class=\"string\"> 570 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_running </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p>MySQL<code>thread_cache_size</code> ()Threads_createdThreads_createdMySQLthread_cache_sizethread_cache_size<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'thread_cache_size'; </span><br><span class=\"line\">+-------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> thread_cache_size </span>|<span class=\"string\"> 64 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"-query-cache\"><a href=\"#-query-cache\" class=\"headerlink\" title=\"(query cache)\"></a>(query cache)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'qcache%'; </span><br><span class=\"line\">+-------------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_free_blocks </span>|<span class=\"string\"> 22756 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_free_memory </span>|<span class=\"string\"> 76764704 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_hits </span>|<span class=\"string\"> 213028692 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_inserts </span>|<span class=\"string\"> 208894227 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_lowmem_prunes </span>|<span class=\"string\"> 4010916 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_not_cached </span>|<span class=\"string\"> 13385031 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_queries_in_cache </span>|<span class=\"string\"> 43560 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_total_blocks </span>|<span class=\"string\"> 111212 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p>MySQL<br><code>Qcache_free_blocks</code> FLUSH QUERY CACHE<br><code>Qcache_free_memory</code> <br><code>Qcache_hits</code> <br><code>Qcache_inserts</code> <br><code>Qcache_lowmem_prunes</code> ;( free_blocksfree_memory)<br><code>Qcache_not_cached</code>  SELECT now()<br><code>Qcache_queries_in_cache</code> ()<br><code>Qcache_total_blocks</code> </p>\n<p>query_cache<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'query_cache%'; </span><br><span class=\"line\">+------------------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_limit </span>|<span class=\"string\"> 2097152 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_min_res_unit </span>|<span class=\"string\"> 4096 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_size </span>|<span class=\"string\"> 203423744 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_type </span>|<span class=\"string\"> ON </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_wlock_invalidate </span>|<span class=\"string\"> OFF </span>|</span><br><span class=\"line\">+++</span><br></pre></td></tr></table></figure></p>\n<p><br><code>query_cache_limit</code> <br><code>query_cache_min_res_unit</code> <br><code>query_cache_size</code> <br><code>query_cache_type</code>  select sql_no_cache <br><code>query_cache_wlock_invalidate</code> MyISAMquery cachecache<br><code>query_cache_min_res_unit</code> 4KB</p>\n<p> = <code>Qcache_free_blocks / Qcache_total_blocks * 100%</code><br>20%FLUSH QUERY CACHEquery_cache_min_res_unit<br> = <code>(query_cache_size - Qcache_free_memory) / query_cache_size * 100%</code><br>25%<code>query_cache_size</code>;80%Qcache_lowmem_prunes &gt; 50query_cache_size<br> = <code>(Qcache_hits - Qcache_inserts) / Qcache_hits * 100%</code><br>  = 20.46% = 62.26% = 1.94%</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'sort%'; </span><br><span class=\"line\">+-------------------+------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_merge_passes </span>|<span class=\"string\"> 29 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_range </span>|<span class=\"string\"> 37432840 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_rows </span>|<span class=\"string\"> 9178691532 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_scan </span>|<span class=\"string\"> 1860569 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+------------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Sort_merge_passes</code> MySQL  Sort_buffer_size MySQL  MySQL  Sort_merge_passesMySQL  Sort_merge_passes  Sort_buffer_size  Sort_merge_passes   Sort_buffer_size <br>read_rnd_buffer_size(3.2.3record_rnd_buffer_size)<a href=\"http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/\" target=\"_blank\" rel=\"noopener\">http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/</a></p>\n<h4 id=\"-open-files\"><a href=\"#-open-files\" class=\"headerlink\" title=\"(open_files)\"></a>(open_files)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'open_files'; </span><br><span class=\"line\">+---------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Open_files </span>|<span class=\"string\"> 1410 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show variables like 'open_files_limit'; </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> open_files_limit </span>|<span class=\"string\"> 4590 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Open_files / open_files_limit * 100% &lt;= 75%</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'table_locks%'; </span><br><span class=\"line\">+-----------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Table_locks_immediate </span>|<span class=\"string\"> 490206328 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Table_locks_waited </span>|<span class=\"string\"> 2084912 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Table_locks_immediate</code> <code>Table_locks_waited</code> Table_locks_immediate / Table_locks_waited &gt; 5000InnoDBInnoDBMyISAMInnoDBTable_locks_immediate / Table_locks_waited = 235MyISAM</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'handler_read%'; </span><br><span class=\"line\">+-----------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_first </span>|<span class=\"string\"> 5803750 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_key </span>|<span class=\"string\"> 6049319850 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_next </span>|<span class=\"string\"> 94440908210 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_prev </span>|<span class=\"string\"> 34822001724 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_rnd </span>|<span class=\"string\"> 405482605 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_rnd_next </span>|<span class=\"string\"> 18912877839 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show global status like 'com_select'; </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Com_select </span>|<span class=\"string\"> 222693559 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p><br> = Handler_read_rnd_next / Com_select<br>4000read_buffer_size8MB</p>\n<h3 id=\"MysqlQPS-TPS-\"><a href=\"#MysqlQPS-TPS-\" class=\"headerlink\" title=\"MysqlQPS/TPS/\"></a>MysqlQPS/TPS/</h3><h4 id=\"QPS-Query\"><a href=\"#QPS-Query\" class=\"headerlink\" title=\"QPS(Query)\"></a>QPS(Query)</h4><figure class=\"highlight vbnet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QPS = Questions(<span class=\"keyword\">or</span> Queries) / seconds </span><br><span class=\"line\">mysql &gt; show  <span class=\"keyword\">global</span>  status <span class=\"keyword\">like</span> <span class=\"comment\">'Question%';</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"TPS-\"><a href=\"#TPS-\" class=\"headerlink\" title=\"TPS()\"></a>TPS()</h4><figure class=\"highlight vbnet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TPS = (Com_commit + Com_rollback) / seconds </span><br><span class=\"line\">mysql &gt; show <span class=\"keyword\">global</span> status <span class=\"keyword\">like</span> <span class=\"comment\">'Com_commit'; </span></span><br><span class=\"line\">mysql &gt; show <span class=\"keyword\">global</span> status <span class=\"keyword\">like</span> <span class=\"comment\">'Com_rollback';</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"key-Buffer-\"><a href=\"#key-Buffer-\" class=\"headerlink\" title=\"key Buffer \"></a>key Buffer </h4><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt;show  global   status  like   <span class=\"string\">'key%'</span>; </span><br><span class=\"line\">key_buffer_read_hits = (<span class=\"number\">1</span>-key_reads / key_read_requests) * <span class=\"number\">100</span>% </span><br><span class=\"line\">key_buffer_write_hits = (<span class=\"number\">1</span>-key_writes / key_write_requests) * <span class=\"number\">100</span>% </span><br><span class=\"line\">``` </span><br><span class=\"line\">#### InnoDB Buffer</span><br></pre></td></tr></table></figure>\n<p>mysql&gt; show status like innodb_buffer_pool_read%;<br>innodb_buffer_read_hits = (1 - innodb_buffer_pool_reads / innodb_buffer_pool_read_requests) * 100%<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Query Cache </span><br><span class=\"line\">`</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show status like Qcache%;<br>Query_cache_hits = (Qcahce_hits / (Qcache_hits + Qcache_inserts )) * 100%;<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Table Cache</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global  status like open%;<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> open_tables   opend_tables  </span><br><span class=\"line\"> </span><br><span class=\"line\">#### Thread Cache </span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global status like Thread%;<br>mysql&gt; show global status like Connections;<br>Thread_cache_hits = (1 - Threads_created / connections ) * 100%<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### </span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global  status like %lock%;<br>Table_locks_waited/Table_locks_immediate=0.3%  <br>Innodb_row_lock_waits innodb<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show slave status<br><br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Tmp Table ()</span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like Create_tmp%;<br>Created_tmp_disk_tables/Created_tmp_tables10%Created_tmp_tables<br><br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Binlog Cache </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like Binlog_cache%;<br>Binlog_cache_disk_use0  binlog_cache_size<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Innodb_log_waits </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like innodb_log_waits;<br>Innodb_log_waits0 innodb log  buffer <br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">### Mysql</span><br><span class=\"line\">&lt;DeadLock&gt;,,..InnoDB</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">* ****</span><br><span class=\"line\"><span class=\"number\">1.</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show OPEN TABLES where In_use &gt; 0;<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span>.<span class=\"keyword\">SUPER</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show processlist;<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3.</span><span class=\"built_in\">id</span><span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; kill id<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span>*<span class=\"strong\">**</span><span class=\"strong\">*</span></span><br><span class=\"line\"><span class=\"strong\">1.</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2.</span><span class=\"built_in\">id</span>trx_mysql_thread_id</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; kill ID<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">SHOW </span>PROCESSLIST</span><br><span class=\"line\">: mysql&gt; KILL <span class=\"number\">420821</span><span class=\"comment\">;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>1<br>mysql&gt; SELECT <em> FROM INFORMATION_SCHEMA.INNODB_TRX;<br>2<br>mysql&gt; SELECT </em> FROM INFORMATION_SCHEMA.INNODB_LOCKS;<br>3<br>mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;<br><code>`</code></p>\n<p><br>MySQLstatustop,iostatiostatIOiostat.<br></p>\n","site":{"data":{}},"length":12329,"excerpt":"","more":"<p>Mysqlmysqlmysqlmysqlmysql</p>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"built_in\">show</span> global <span class=\"built_in\">status</span>;</span><br><span class=\"line\">MySQLMySQL</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show <span class=\"keyword\">variables</span>;</span><br><span class=\"line\">Mysql</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"keyword\">show </span>processlist<span class=\"comment\">;</span></span><br><span class=\"line\">Mysql</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like '%slow%'; </span><br><span class=\"line\">+------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> log_slow_queries </span>|<span class=\"string\"> ON </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> slow_launch_time </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show global status like '%slow%'; </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Slow_launch_threads </span>|<span class=\"string\"> 0 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Slow_queries </span>|<span class=\"string\"> 4148 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p>24148SQL5<a href=\"http://www.percona.com/docs/wiki/release:start\" target=\"_blank\" rel=\"noopener\">MySQL</a> </p>\n<p>MySQL-</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>MySQL: ERROR 1040: Too many connections</code>MySQLMySQLmax_connections<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'max_connections'; </span><br><span class=\"line\">+-----------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> max_connections </span>|<span class=\"string\"> 256 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p>MySQL256<br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; <span class=\"built_in\">show</span> global <span class=\"built_in\">status</span> like Max_used_connections;</span><br></pre></td></tr></table></figure></p>\n<p>MySQL2452561040<code>Max_used_connections / max_connections * 100%  85%</code> 85%10%MySQL</p>\n<h4 id=\"Key-buffer-size\"><a href=\"#Key-buffer-size\" class=\"headerlink\" title=\"Key_buffer_size\"></a>Key_buffer_size</h4><p>key_buffer_sizeMyISAMMyISAM<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like key_buffer_size; </span><br><span class=\"line\">+-----------------+------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> key_buffer_size </span>|<span class=\"string\"> 536870912 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------+------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>512MBkey_buffer_sizekey_buffer_size<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'key_read%'; </span><br><span class=\"line\">+------------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> mysql </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Key_read_requests </span>|<span class=\"string\"> 27813678764 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Key_reads </span>|<span class=\"string\"> 6798830 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>278136787646798830<code>key_cache_miss_rate = Key_reads / Key_read_requests * 100%</code><br>key_cache_miss_rate0.0244%4000BT,key_cache_miss_rate0.1%(1000)key_cache_miss_rate0.01%key_buffer_size<br>MySQLkey_blocks_*<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'key_blocks_u%'; </span><br><span class=\"line\">+------------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Key_blocks_unused </span>|<span class=\"string\"> 0 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Key_blocks_used </span>|<span class=\"string\"> 413543 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------+-------------+</span></span><br></pre></td></tr></table></figure></p>\n<p>Key_blocks_unused(blocks)Key_blocks_usedblockskey_buffer_size<br>Key_blocks_used / (Key_blocks_unused + Key_blocks_used) * 100%  80%</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'created_tmp%'; </span><br><span class=\"line\">+-------------------------+---------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+---------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_disk_tables </span>|<span class=\"string\"> 21197 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_files </span>|<span class=\"string\"> 58 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Created_tmp_tables </span>|<span class=\"string\"> 1771587 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+---------+</span></span><br></pre></td></tr></table></figure>\n<p>Created_tmp_tablesCreated_tmp_disk_tables,Created_tmp_filesMySQL<br><code>Created_tmp_disk_tables / Created_tmp_tables * 100% &lt;= 25%</code><br><code>Created_tmp_disk_tables / Created_tmp_tables * 100% = 1.20%</code>, MySQL<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables where Variable<span class=\"emphasis\">_name in ('tmp_</span>table<span class=\"emphasis\">_size', 'max_</span>heap<span class=\"emphasis\">_table_</span>size'); </span><br><span class=\"line\"><span class=\"code\">+---------------------+</span>-----------+ </span><br><span class=\"line\">| Variable<span class=\"emphasis\">_name | Value | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------------+-----------+ </span></span><br><span class=\"line\"><span class=\"emphasis\">| max_</span>heap<span class=\"emphasis\">_table_</span>size | 268435456 | </span><br><span class=\"line\">| tmp<span class=\"emphasis\">_table_</span>size | 536870912 | </span><br><span class=\"line\"><span class=\"code\">+---------------------+</span>-----------+</span><br></pre></td></tr></table></figure></p>\n<p>256MB</p>\n<h4 id=\"Open-Table\"><a href=\"#Open-Table\" class=\"headerlink\" title=\"Open Table\"></a>Open Table</h4><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like <span class=\"emphasis\">'open%tables%'</span>; </span><br><span class=\"line\"><span class=\"code\">+---------------+</span>-------+ </span><br><span class=\"line\">| Variable<span class=\"emphasis\">_name | Value | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------+-------+ </span></span><br><span class=\"line\"><span class=\"emphasis\">| Open_</span>tables | 919 | </span><br><span class=\"line\">| Opened<span class=\"emphasis\">_tables | 1951 | </span></span><br><span class=\"line\"><span class=\"emphasis\">+---------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p>Open_tablesOpened_tablesOpened_tablestable_cache(5.1.3table_open_cache)table_cache<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'table_cache'; </span><br><span class=\"line\">+---------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> table_cache </span>|<span class=\"string\"> 2048 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p><br><code>Open_tables / Opened_tables * 100% &gt;= 85%</code>, <code>Open_tables / table_cache * 100% &lt;= 95%`</code></p>\n<p><br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like Thread%; </span><br><span class=\"line\">+-------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_cached </span>|<span class=\"string\"> 46 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_connected </span>|<span class=\"string\"> 2 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_created </span>|<span class=\"string\"> 570 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Threads_running </span>|<span class=\"string\"> 1 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p>MySQL<code>thread_cache_size</code> ()Threads_createdThreads_createdMySQLthread_cache_sizethread_cache_size<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'thread_cache_size'; </span><br><span class=\"line\">+-------------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> thread_cache_size </span>|<span class=\"string\"> 64 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+-------+</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"-query-cache\"><a href=\"#-query-cache\" class=\"headerlink\" title=\"(query cache)\"></a>(query cache)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'qcache%'; </span><br><span class=\"line\">+-------------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_free_blocks </span>|<span class=\"string\"> 22756 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_free_memory </span>|<span class=\"string\"> 76764704 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_hits </span>|<span class=\"string\"> 213028692 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_inserts </span>|<span class=\"string\"> 208894227 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_lowmem_prunes </span>|<span class=\"string\"> 4010916 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_not_cached </span>|<span class=\"string\"> 13385031 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_queries_in_cache </span>|<span class=\"string\"> 43560 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Qcache_total_blocks </span>|<span class=\"string\"> 111212 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p>MySQL<br><code>Qcache_free_blocks</code> FLUSH QUERY CACHE<br><code>Qcache_free_memory</code> <br><code>Qcache_hits</code> <br><code>Qcache_inserts</code> <br><code>Qcache_lowmem_prunes</code> ;( free_blocksfree_memory)<br><code>Qcache_not_cached</code>  SELECT now()<br><code>Qcache_queries_in_cache</code> ()<br><code>Qcache_total_blocks</code> </p>\n<p>query_cache<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'query_cache%'; </span><br><span class=\"line\">+------------------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_limit </span>|<span class=\"string\"> 2097152 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_min_res_unit </span>|<span class=\"string\"> 4096 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_size </span>|<span class=\"string\"> 203423744 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_type </span>|<span class=\"string\"> ON </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> query_cache_wlock_invalidate </span>|<span class=\"string\"> OFF </span>|</span><br><span class=\"line\">+++</span><br></pre></td></tr></table></figure></p>\n<p><br><code>query_cache_limit</code> <br><code>query_cache_min_res_unit</code> <br><code>query_cache_size</code> <br><code>query_cache_type</code>  select sql_no_cache <br><code>query_cache_wlock_invalidate</code> MyISAMquery cachecache<br><code>query_cache_min_res_unit</code> 4KB</p>\n<p> = <code>Qcache_free_blocks / Qcache_total_blocks * 100%</code><br>20%FLUSH QUERY CACHEquery_cache_min_res_unit<br> = <code>(query_cache_size - Qcache_free_memory) / query_cache_size * 100%</code><br>25%<code>query_cache_size</code>;80%Qcache_lowmem_prunes &gt; 50query_cache_size<br> = <code>(Qcache_hits - Qcache_inserts) / Qcache_hits * 100%</code><br>  = 20.46% = 62.26% = 1.94%</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'sort%'; </span><br><span class=\"line\">+-------------------+------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_merge_passes </span>|<span class=\"string\"> 29 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_range </span>|<span class=\"string\"> 37432840 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_rows </span>|<span class=\"string\"> 9178691532 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Sort_scan </span>|<span class=\"string\"> 1860569 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-------------------+------------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Sort_merge_passes</code> MySQL  Sort_buffer_size MySQL  MySQL  Sort_merge_passesMySQL  Sort_merge_passes  Sort_buffer_size  Sort_merge_passes   Sort_buffer_size <br>read_rnd_buffer_size(3.2.3record_rnd_buffer_size)<a href=\"http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/\" target=\"_blank\" rel=\"noopener\">http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/</a></p>\n<h4 id=\"-open-files\"><a href=\"#-open-files\" class=\"headerlink\" title=\"(open_files)\"></a>(open_files)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'open_files'; </span><br><span class=\"line\">+---------------+-------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Open_files </span>|<span class=\"string\"> 1410 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-------+ </span></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show variables like 'open_files_limit'; </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+ </span></span><br><span class=\"line\">|<span class=\"string\"> open_files_limit </span>|<span class=\"string\"> 4590 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+------------------+-------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Open_files / open_files_limit * 100% &lt;= 75%</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'table_locks%'; </span><br><span class=\"line\">+-----------------------+-----------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Table_locks_immediate </span>|<span class=\"string\"> 490206328 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Table_locks_waited </span>|<span class=\"string\"> 2084912 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p><code>Table_locks_immediate</code> <code>Table_locks_waited</code> Table_locks_immediate / Table_locks_waited &gt; 5000InnoDBInnoDBMyISAMInnoDBTable_locks_immediate / Table_locks_waited = 235MyISAM</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show global status like 'handler_read%'; </span><br><span class=\"line\">+-----------------------+-------------+ </span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-------------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_first </span>|<span class=\"string\"> 5803750 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_key </span>|<span class=\"string\"> 6049319850 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_next </span>|<span class=\"string\"> 94440908210 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_prev </span>|<span class=\"string\"> 34822001724 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_rnd </span>|<span class=\"string\"> 405482605 </span>|<span class=\"string\"> </span></span><br><span class=\"line\">|<span class=\"string\"> Handler_read_rnd_next </span>|<span class=\"string\"> 18912877839 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+-----------------------+-------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">mysql&gt; show global status like 'com_select'; </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Variable_name </span>|<span class=\"string\"> Value </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+ </span></span><br><span class=\"line\">|<span class=\"string\"> Com_select </span>|<span class=\"string\"> 222693559 </span>|<span class=\"string\"> </span></span><br><span class=\"line\"><span class=\"string\">+---------------+-----------+</span></span><br></pre></td></tr></table></figure>\n<p><br> = Handler_read_rnd_next / Com_select<br>4000read_buffer_size8MB</p>\n<h3 id=\"MysqlQPS-TPS-\"><a href=\"#MysqlQPS-TPS-\" class=\"headerlink\" title=\"MysqlQPS/TPS/\"></a>MysqlQPS/TPS/</h3><h4 id=\"QPS-Query\"><a href=\"#QPS-Query\" class=\"headerlink\" title=\"QPS(Query)\"></a>QPS(Query)</h4><figure class=\"highlight vbnet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QPS = Questions(<span class=\"keyword\">or</span> Queries) / seconds </span><br><span class=\"line\">mysql &gt; show  <span class=\"keyword\">global</span>  status <span class=\"keyword\">like</span> <span class=\"comment\">'Question%';</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"TPS-\"><a href=\"#TPS-\" class=\"headerlink\" title=\"TPS()\"></a>TPS()</h4><figure class=\"highlight vbnet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TPS = (Com_commit + Com_rollback) / seconds </span><br><span class=\"line\">mysql &gt; show <span class=\"keyword\">global</span> status <span class=\"keyword\">like</span> <span class=\"comment\">'Com_commit'; </span></span><br><span class=\"line\">mysql &gt; show <span class=\"keyword\">global</span> status <span class=\"keyword\">like</span> <span class=\"comment\">'Com_rollback';</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"key-Buffer-\"><a href=\"#key-Buffer-\" class=\"headerlink\" title=\"key Buffer \"></a>key Buffer </h4><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt;show  global   status  like   <span class=\"string\">'key%'</span>; </span><br><span class=\"line\">key_buffer_read_hits = (<span class=\"number\">1</span>-key_reads / key_read_requests) * <span class=\"number\">100</span>% </span><br><span class=\"line\">key_buffer_write_hits = (<span class=\"number\">1</span>-key_writes / key_write_requests) * <span class=\"number\">100</span>% </span><br><span class=\"line\">``` </span><br><span class=\"line\">#### InnoDB Buffer</span><br></pre></td></tr></table></figure>\n<p>mysql&gt; show status like innodb_buffer_pool_read%;<br>innodb_buffer_read_hits = (1 - innodb_buffer_pool_reads / innodb_buffer_pool_read_requests) * 100%<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Query Cache </span><br><span class=\"line\">`</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show status like Qcache%;<br>Query_cache_hits = (Qcahce_hits / (Qcache_hits + Qcache_inserts )) * 100%;<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Table Cache</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global  status like open%;<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> open_tables   opend_tables  </span><br><span class=\"line\"> </span><br><span class=\"line\">#### Thread Cache </span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global status like Thread%;<br>mysql&gt; show global status like Connections;<br>Thread_cache_hits = (1 - Threads_created / connections ) * 100%<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### </span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show global  status like %lock%;<br>Table_locks_waited/Table_locks_immediate=0.3%  <br>Innodb_row_lock_waits innodb<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show slave status<br><br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Tmp Table ()</span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like Create_tmp%;<br>Created_tmp_disk_tables/Created_tmp_tables10%Created_tmp_tables<br><br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Binlog Cache </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like Binlog_cache%;<br>Binlog_cache_disk_use0  binlog_cache_size<br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#### Innodb_log_waits </span><br></pre></td></tr></table></figure></p>\n<p>mysql &gt; show status like innodb_log_waits;<br>Innodb_log_waits0 innodb log  buffer <br><figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">### Mysql</span><br><span class=\"line\">&lt;DeadLock&gt;,,..InnoDB</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">* ****</span><br><span class=\"line\"><span class=\"number\">1.</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show OPEN TABLES where In_use &gt; 0;<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span>.<span class=\"keyword\">SUPER</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; show processlist;<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3.</span><span class=\"built_in\">id</span><span class=\"built_in\">id</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; kill id<br><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">* </span>*<span class=\"strong\">**</span><span class=\"strong\">*</span></span><br><span class=\"line\"><span class=\"strong\">1.</span></span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2.</span><span class=\"built_in\">id</span>trx_mysql_thread_id</span><br></pre></td></tr></table></figure></p>\n<p>mysql&gt; kill ID<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">SHOW </span>PROCESSLIST</span><br><span class=\"line\">: mysql&gt; KILL <span class=\"number\">420821</span><span class=\"comment\">;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>1<br>mysql&gt; SELECT <em> FROM INFORMATION_SCHEMA.INNODB_TRX;<br>2<br>mysql&gt; SELECT </em> FROM INFORMATION_SCHEMA.INNODB_LOCKS;<br>3<br>mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;<br><code>`</code></p>\n<p><br>MySQLstatustop,iostatiostatIOiostat.<br></p>\n"},{"layout":"post","title":"nginxlocation","author":"Pyker","img":"/images/bar/nginx.jpg","top":true,"cover":false,"date":"2018-01-23T10:47:00.000Z","_content":"### location \n location \n###  location  location \n location  location  location  location location  location  location  location  location  location  location  location  1  location  ^~  Nginx  location  2 location \n\n**   location  location  location **\n> (location =) > (location ) > (location ^~ ) > (location ~,~* ) > (location ) > (/)\n\n****<http://wiki.nginx.org/NginxHttpCoreModule#location>\n```\nlocation\nsyntax: `location [=|~|~*|^~|@] /uri/ {  }`\ndefault: no\ncontext: server\n```\n>This directive allows different configurations depending on the URI.\n\n1 different configurations depending on the URI `location [=|~|~*|^~|@] /uri/ {  }` `= ^~ ~ ~* `[A] , location /uri/ 2 URI/films.htm?fid=123 URI /films.htm \nIt can be configured using both literal strings and regular expressions. To use regular expressions, you must use a prefix:\n`~`for case sensitive matching\n`~*`for case insensitive matching\n`location /uri/` 2 location location using regular expressions location location using literal strings ~ ~* location ~ ~* =^~ @ location \n\n>To determine which location directive matches a particular query, the literal strings are checked first.\n\n HTTP  a particular query  nginx  location  nginx.conf  location  location location location \n>Literal strings match the beginning portion of the query  the most specific match will be used.\n\nlocation location location location location location location 1match the beginning portion of the query URI beginning portion  2 the most specific match will be used location HTTP location ``location /prefix/mid/ {}`` `location /prefix/ {}` HTTP /prefix/mid/t.html location the most specific match `location /prefix/mid/ {}` \n>Afterwards, regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search.\n\nAfterwards, regular expressions are checked , location nginx location location location regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search. location locationlocation location location location location location location location location location location \n>If no regular expression matches are found, the result from the literal string search is used.\n\nlocation location location location  location location location location location \nFor case insensitive operating systems, like Mac OS X or Windows with Cygwin, literal string matching is done in a case insensitive way (0.7.7). However, comparison is limited to single-byte locales only.\nRegular expression may contain captures (0.7.40), which can then be used in other directives.\n\n>It is possible to disable regular expression checks after literal string matching by using ^~ prefix.If the most specific match literal location has this prefix: regular expressions arent checked.\n\nlocation location Nginx location location location ^~ ^ ~ \n>By using the = prefix we define the exact match between request URI and location. When matched search stops immediately. E.g., if the request / occurs frequently, using location = / will speed up processing of this request a bit as search will stop after first comparison.\n\n^~ location = ^~ = location location ^~ = exact match \n`location / {} location = / {} `location / {} location URI / URI specific specific / URI / location / {} specificoverwrite location / {} location = / {} exact match  http://host:port/ location GET / location = / {} location location / {} GET / \n>On exact match with literal location without = or ^~ prefixes search is also immediately terminated.\n\nlocation location nginx location ^~ = location exact match exact match location = ^~ \n\nlocation /exact/match/test.html { 1}location /prefix/ { 2}  location ~ \\.html$ { 3}  GET /prefix/index.html 3 location /prefix/ location GET /exact/match/test.html 1 location exact match location \n\n**To summarize, the order in which directives are checked is as follows:**\n1. Directives with the = prefix that match the query exactly. If found, searching stops.\n2. All remaining directives with conventional strings. If this match used the ^~ prefix, searching stops.\n3. Regular expressions, in the order they are defined in the configuration file.\n4. If #3 yielded a match, that result is used. Otherwise, the match from #2 is used.\n\n location location  location \n>It is important to know that nginx does the comparison against decoded URIs. For example, if you wish to match /images/ /test, then you must use /images/ /test to determine the location.\n\nURL URLEncode   Nginx URL URLDecode /images/ /test location /images/ /test \n\n**Example:**\n```\nlocation   = / {\n # matches the query / only.\n [ configuration A ]\n}\n\nlocation   / {\n  # matches any query, since all queries begin with /, but regular\n  # expressions and any longer conventional blocks will be\n  # matched first.\n [ configuration B ]\n}\n\nlocation ^~ /images/ {\n    # matches any query beginning with /images/ and halts searching,\n    # so regular expressions will not be checked.\n [ configuration C ]\n}\n\nlocation ~* \\.(gif|jpg|jpeg)$ {\n # matches any request ending in gif, jpg, or jpeg. However, all\n # requests to the /images/ directory will be handled by\n # Configuration C.  \n [ configuration D ]\n}\n```\n4 location location / {[configuration B]} location location matches any query, since all queries begin with /, butregular expressions and any longer conventional blocks will be matched first. location / {} HTTP HTTP / location / location location / {} location location location = / {}  location ^~ / {} matched first   but regular expressions will be matched first.  location  location / {} location / {}  location  location  location  any longer conventional blocks  location / {} \n\nExample requests:\n\n* / -> configuration A\n* /documents/document.html -> configuration B\n* /images/1.gif -> configuration C\n* /documents/1.jpg -> configuration D\n\n>Note that you could define these 4 configurations in any order and the results would remain the same.\n\nin any order  remain the same location location \n>While nested locations are allowed by the configuration file parser, their use is discouraged and may produce unexpected results.\n\n nginx  location  location / { location /uri/ {} }  nginx \n>The prefix @ specifies a named location. Such locations are not used during normal processing of requests, they are intended only to process internally redirected requests (see error_page ,try_files ).\n\nlocation = ^~ ~ ~* @ @ @ Named Location location location using literal strings location location using regular expressions Named Location HTTP internally redirected internally redirected forward internally redirected \n\n### location \nNginx `location [=|~|~*|^~|@] /uri/ {  } ` =  ~*  ~  ^~  @  [A]  A  A|B  A  B  /uri/ {}  /uri/  {} \n\n location  location  location using   literal strings  location  location using regular expressions  location  =  ^~  /uri/  location  ~  ~*  /uri/ \n server  location  Nginx  HTTP  location  Nginx  location  location   location  location \n\n* ** location  location**\n nginx  location  location  nginx  location  location  location  exact match  Literal strings match the beginning portion of the query  the most specific match will be used. \n\n 1  nginx \n```\nserver {\n       listen       9090;\n       server_name  localhost;\n       location / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n nginx  nginx->html->index.html\n location / { deny all;}  location  /  URI  HTTP /  /  location ~\\.html$ {allow all;}  location .html  URI \n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/\n<html>\n<head><title>403 Forbidden</title></head>\n<body bgcolor=white>\n<center><h1>403 Forbidden</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n\n[root@web108 ~]# curl http://localhost:9090/index.html\n<html>\n<head>\n<title>Welcome to nginx!</title>\n</head>\n<body bgcolor=white text=black>\n<center><h1>Welcome to nginx!</h1></center>\n</body>\n</html>\n\n[root@web108 ~]# curl http://localhost:9090/index_notfound.html\n<html>\n<head><title>404 Not Found</title></head>\n<body bgcolor=white>\n<center><h1>404 Not Found</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n\n\nURI | HTTP\n:--- | :---:\ncurl http://localhost:9090/ | 403 Forbidden\ncurl http://localhost:9090/index.html|Welcome to nginx!\ncurl http://localhost:9090/index_notfound.html|404 Not Found\n\n`curl http://localhost:9090/`  403 Forbidden  location / {..deny all;} HTTP  GET /  location / {}  location \n\n`curl http://localhost:9090/index.html`  Welcome to nginx!  location / {deny all;}  403 Forbidden  /index.html  /  location /  Nginx  location  location ~ \\.html$  .html  allow all;  index.html \n\n`curl http://localhost:9090/index_notfound.html`    location / {}  location  location  location ~ \\.html$ {}  allow all  index_notfound.html  404 Not Found \n\n http://localhost:9090/index.txt  deny all  location / {..deny all;}  location  location  /index.txt  .html location  location  deny all \n```bash\n[root@web108 ~]# curl http://localhost:9090/index.txt\n<html>\n<head><title>403 Forbidden</title></head>\n<body bgcolor=white>\n<center><h1>403 Forbidden</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n* ** location **\n\n 2  1 \n\n```\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/exact/match.html\n<html>\n<head><title>404 Not Found</title></head>\n<body bgcolor=white>\n<center><h1>404 Not Found</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n\n location  location  location location  location  location  location  exact match  nginx  location  location  location  location  location location  location \n\n* ** location  ^~  **\n\n location  location  ^~  =  ^~ location  location  nginx  nginx  location  location  =  location \n\n 3  ^~ \n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location ^~ / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n 2  location / {}  location ^~ / {} \n\nURL |  | \n---- | :----: | :----:\ncurl http://localhost:9090/ | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/index.html | Welcome to nginx! | 403 Forbidden\ncurl http://localhost:9090/index_notfound.html | 404 Not Found | 403 Forbidden\ncurl http://localhost:9090/exact/match.html | 404 Not Found | 404 Not Found\n\n GET /exact/match.html  404 Not Found  403 Forbidden  /  /  location  location /exact/match.html  location /exact/match.html {allow all;}  location ^~ / {deny all;} \n\n 4  = \n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location = / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n 4  2  location / {}  location = / {} \n\nURL |  | \n---- | :----: | :----:\ncurl http://localhost:9090/ | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/index.html | Welcome to nginx! | Welcome to nginx!\ncurl http://localhost:9090/index_notfound.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/exact/match.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/test.jsp | 403 Forbidden | 404 Not Found\n\n GET /test.jsp  /test.jsp  location  location ~\\.html$  location = / {}  location / {}  location / {}  deny all \n\n* ** location **\nlocation  location  ^~  =  =  location  location \n\n```bash\n 3.1\n\nserver {\n       listen       9090;\n       server_name  localhost;\n       location ~ \\.html$ {\n           allow all; \n       }  \n       location ~ ^/prefix/.*\\.html$ {\n           deny all;  \n       }  \n}\n 3.2\n\nserver {\n       listen       9090;\n       server_name  localhost;     \n       location ~ ^/prefix/.*\\.html$ {\n           deny all;  \n       }            \n       location ~ \\.html$ {\n           allow all; \n       } \n}\n```\n\n\nURL | 3.1 | 3.2\n---- | :----: | :----:\ncurl http://localhost:9090/regextest.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/prefix/regextest.html | 404 Not Found | 403 Forbidden\n\n\n`Location ~ ^/prefix/.*\\.html$ {deny all;}`  location  /prefix/  .html  URI    `location ~\\.html${allow all;}`  location  .html  URI  prefix  ~\\.html$ \n\n 3.1  `location ~\\.html$ {allow all;}`  404 Not Found  3.2  /regextest.html  prefix  ~\\.html$  404 Not Found  /prefix/regextest.html  prefix  deny all  403 Forbidden \n```\n 3.3\n\nserver {\n       listen       9090;\n       server_name  localhost; \n       location  /prefix/ {\n               deny all;  \n       }           \n       location  /prefix/mid/ {\n               allow all; \n       }  \n}\n 3.4\n\nserver {\n       listen       9090;\n       server_name  localhost;    \n       location  /prefix/mid/ {\n               allow all; \n       }  \n        location  /prefix/ {\n               deny all;  \n       }  \n}\n```\n\n\nURL | 3.3 | 3.4\n---- | :----: | :----:\ncurl http://localhost:9090/prefix/t.html | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/prefix/mid/t.html | 404 Not Found | 404 Not Found\n\n location \n\n* **@  Named Location **\nREFER:  <http://wiki.nginx.org/HttpCoreModule#error_page>\n\n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location  / {\n           root   html;\n           index  index.html index.htm;\n           allow all;\n       }\n       #error_page 404 http://www.baidu.com # \n       error_page 404 = @fallback;\n\t   \n       location @fallback {\n           proxy_pass http://www.baidu.com;\n       }\n}\n```\n URI  nginx baidu.com  nginx  URI  HTTP_StatusCode  404 error_page 404 \n\n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/nofound.html -i\nHTTP/1.1 302 Found\nServer: nginx/1.1.0\nDate: Sat, 06 Aug 2011 08:17:21 GMT\nContent-Type: text/html; charset=iso-8859-1\nLocation: http://localhost:9090/search/error.html\nConnection: keep-alive\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:17:21 GMT\nContent-Length: 222\n\n<!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN>\n<html><head>\n<title>302 Found</title>\n</head><body>\n<h1>Found</h1>\n<p>The document has moved <a href=http://www.baidu.com/search/error.html>here</a>.</p>\n</body></html>\n```\n GET /nofound.html  nginx  nginx  error_page 404 = @fallback  http://www.baidu.com  nginx  http://www.baidu.com  GET /nofound.html /nofound.html  302 \n http://www.baidu.com/nofound.html \n\n```bash\n[root@web108 ~]# curl http://www.baidu.com/nofound.html -i\nHTTP/1.1 302 Found\nDate: Sat, 06 Aug 2011 08:20:05 GMT\nServer: Apache\nLocation: http://www.baidu.com/search/error.html\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:20:05 GMT\nContent-Length: 222\nConnection: Keep-Alive\nContent-Type: text/html; charset=iso-8859-1\n \n<!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN>\n<html><head>\n<title>302 Found</title>\n</head><body>\n<h1>Found</h1>\n<p>The document has moved <a href=http://www.baidu.com/search/error.html>here</a>.</p>\n</body></html>\n```\n nginx  baidu \n```bash\n[root@web108 ~]# curl http://www.baidu.com/duty/ -i\nHTTP/1.1 200 OK\nDate: Sat, 06 Aug 2011 08:21:56 GMT\nServer: Apache\nP3P: CP= OTI DSP COR IVA OUR IND COM \nP3P: CP= OTI DSP COR IVA OUR IND COM \nSet-Cookie: BAIDUID=5C5D2B2FD083737A0C88CA7075A6601A:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nSet-Cookie: BAIDUID=5C5D2B2FD083737A2337F78F909CCB90:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nLast-Modified: Wed, 05 Jan 2011 06:44:53 GMT\nETag: d66-49913b8efe340\nAccept-Ranges: bytes\nContent-Length: 3430\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:21:56 GMT\nVary: Accept-Encoding,User-Agent\nConnection: Keep-Alive\nContent-Type: text/html\n\n<!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN\nhttp://www.w3.org/TR/html4/loose.dtd>\n\n</body>\n</html>\n```\n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/duty/ -i\nHTTP/1.1 200 OK\nServer: nginx/1.1.0\nDate: Sat, 06 Aug 2011 08:23:23 GMT\nContent-Type: text/html\nConnection: keep-alive\nP3P: CP= OTI DSP COR IVA OUR IND COM \nP3P: CP= OTI DSP COR IVA OUR IND COM \nSet-Cookie: BAIDUID=8FEF0A3A2C31D277DCB4CC5F80B7F457:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nSet-Cookie: BAIDUID=8FEF0A3A2C31D277B1F87691AFFD7440:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nLast-Modified: Wed, 05 Jan 2011 06:44:53 GMT\nETag: d66-49913b8efe340\nAccept-Ranges: bytes\nContent-Length: 3430\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:23:23 GMT\nVary: Accept-Encoding,User-Agent\n\n<!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN\nhttp://www.w3.org/TR/html4/loose.dtd>\n<html>\n\n</body>\n</html>\n```\n `curl http://localhost:9090/duty/ -i`  nginx  error_page = @fallback  baidu.com  error_page = @fallback  internally redirected forward \n\n### proxy_pass URL /\n>Proxy_pass/\nhostnamelocation\nhostnamelocation\n\n```\n1\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/tobaidu\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/tobaidu/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/tobaidu/xxxx\n\n```\n2\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/define;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/define\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n```\n3\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/tobaidu/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/tobaidu/xxxx\n\n```\n4\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/define;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n```\n5\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087//\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087//xxxx\n\n```\n6\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/define/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define//\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define//xxxx\n\n```\n7\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/xxxx\n\n```\n8\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/define/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n****\n*URL `protocol://ip:port` /,nginx,,,/tobaidu/xxxx/xxxx*","source":"_posts/Nginx-location.md","raw":"layout: post\ntitle: nginxlocation\nauthor: Pyker\ncategories: web\nimg: /images/bar/nginx.jpg\ntags:\n  - nginx\ntop: true\ncover: false\ndate: 2018-01-23 18:47:00\n---\n### location \n location \n###  location  location \n location  location  location  location location  location  location  location  location  location  location  location  1  location  ^~  Nginx  location  2 location \n\n**   location  location  location **\n> (location =) > (location ) > (location ^~ ) > (location ~,~* ) > (location ) > (/)\n\n****<http://wiki.nginx.org/NginxHttpCoreModule#location>\n```\nlocation\nsyntax: `location [=|~|~*|^~|@] /uri/ {  }`\ndefault: no\ncontext: server\n```\n>This directive allows different configurations depending on the URI.\n\n1 different configurations depending on the URI `location [=|~|~*|^~|@] /uri/ {  }` `= ^~ ~ ~* `[A] , location /uri/ 2 URI/films.htm?fid=123 URI /films.htm \nIt can be configured using both literal strings and regular expressions. To use regular expressions, you must use a prefix:\n`~`for case sensitive matching\n`~*`for case insensitive matching\n`location /uri/` 2 location location using regular expressions location location using literal strings ~ ~* location ~ ~* =^~ @ location \n\n>To determine which location directive matches a particular query, the literal strings are checked first.\n\n HTTP  a particular query  nginx  location  nginx.conf  location  location location location \n>Literal strings match the beginning portion of the query  the most specific match will be used.\n\nlocation location location location location location location 1match the beginning portion of the query URI beginning portion  2 the most specific match will be used location HTTP location ``location /prefix/mid/ {}`` `location /prefix/ {}` HTTP /prefix/mid/t.html location the most specific match `location /prefix/mid/ {}` \n>Afterwards, regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search.\n\nAfterwards, regular expressions are checked , location nginx location location location regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search. location locationlocation location location location location location location location location location location \n>If no regular expression matches are found, the result from the literal string search is used.\n\nlocation location location location  location location location location location \nFor case insensitive operating systems, like Mac OS X or Windows with Cygwin, literal string matching is done in a case insensitive way (0.7.7). However, comparison is limited to single-byte locales only.\nRegular expression may contain captures (0.7.40), which can then be used in other directives.\n\n>It is possible to disable regular expression checks after literal string matching by using ^~ prefix.If the most specific match literal location has this prefix: regular expressions arent checked.\n\nlocation location Nginx location location location ^~ ^ ~ \n>By using the = prefix we define the exact match between request URI and location. When matched search stops immediately. E.g., if the request / occurs frequently, using location = / will speed up processing of this request a bit as search will stop after first comparison.\n\n^~ location = ^~ = location location ^~ = exact match \n`location / {} location = / {} `location / {} location URI / URI specific specific / URI / location / {} specificoverwrite location / {} location = / {} exact match  http://host:port/ location GET / location = / {} location location / {} GET / \n>On exact match with literal location without = or ^~ prefixes search is also immediately terminated.\n\nlocation location nginx location ^~ = location exact match exact match location = ^~ \n\nlocation /exact/match/test.html { 1}location /prefix/ { 2}  location ~ \\.html$ { 3}  GET /prefix/index.html 3 location /prefix/ location GET /exact/match/test.html 1 location exact match location \n\n**To summarize, the order in which directives are checked is as follows:**\n1. Directives with the = prefix that match the query exactly. If found, searching stops.\n2. All remaining directives with conventional strings. If this match used the ^~ prefix, searching stops.\n3. Regular expressions, in the order they are defined in the configuration file.\n4. If #3 yielded a match, that result is used. Otherwise, the match from #2 is used.\n\n location location  location \n>It is important to know that nginx does the comparison against decoded URIs. For example, if you wish to match /images/ /test, then you must use /images/ /test to determine the location.\n\nURL URLEncode   Nginx URL URLDecode /images/ /test location /images/ /test \n\n**Example:**\n```\nlocation   = / {\n # matches the query / only.\n [ configuration A ]\n}\n\nlocation   / {\n  # matches any query, since all queries begin with /, but regular\n  # expressions and any longer conventional blocks will be\n  # matched first.\n [ configuration B ]\n}\n\nlocation ^~ /images/ {\n    # matches any query beginning with /images/ and halts searching,\n    # so regular expressions will not be checked.\n [ configuration C ]\n}\n\nlocation ~* \\.(gif|jpg|jpeg)$ {\n # matches any request ending in gif, jpg, or jpeg. However, all\n # requests to the /images/ directory will be handled by\n # Configuration C.  \n [ configuration D ]\n}\n```\n4 location location / {[configuration B]} location location matches any query, since all queries begin with /, butregular expressions and any longer conventional blocks will be matched first. location / {} HTTP HTTP / location / location location / {} location location location = / {}  location ^~ / {} matched first   but regular expressions will be matched first.  location  location / {} location / {}  location  location  location  any longer conventional blocks  location / {} \n\nExample requests:\n\n* / -> configuration A\n* /documents/document.html -> configuration B\n* /images/1.gif -> configuration C\n* /documents/1.jpg -> configuration D\n\n>Note that you could define these 4 configurations in any order and the results would remain the same.\n\nin any order  remain the same location location \n>While nested locations are allowed by the configuration file parser, their use is discouraged and may produce unexpected results.\n\n nginx  location  location / { location /uri/ {} }  nginx \n>The prefix @ specifies a named location. Such locations are not used during normal processing of requests, they are intended only to process internally redirected requests (see error_page ,try_files ).\n\nlocation = ^~ ~ ~* @ @ @ Named Location location location using literal strings location location using regular expressions Named Location HTTP internally redirected internally redirected forward internally redirected \n\n### location \nNginx `location [=|~|~*|^~|@] /uri/ {  } ` =  ~*  ~  ^~  @  [A]  A  A|B  A  B  /uri/ {}  /uri/  {} \n\n location  location  location using   literal strings  location  location using regular expressions  location  =  ^~  /uri/  location  ~  ~*  /uri/ \n server  location  Nginx  HTTP  location  Nginx  location  location   location  location \n\n* ** location  location**\n nginx  location  location  nginx  location  location  location  exact match  Literal strings match the beginning portion of the query  the most specific match will be used. \n\n 1  nginx \n```\nserver {\n       listen       9090;\n       server_name  localhost;\n       location / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n nginx  nginx->html->index.html\n location / { deny all;}  location  /  URI  HTTP /  /  location ~\\.html$ {allow all;}  location .html  URI \n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/\n<html>\n<head><title>403 Forbidden</title></head>\n<body bgcolor=white>\n<center><h1>403 Forbidden</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n\n[root@web108 ~]# curl http://localhost:9090/index.html\n<html>\n<head>\n<title>Welcome to nginx!</title>\n</head>\n<body bgcolor=white text=black>\n<center><h1>Welcome to nginx!</h1></center>\n</body>\n</html>\n\n[root@web108 ~]# curl http://localhost:9090/index_notfound.html\n<html>\n<head><title>404 Not Found</title></head>\n<body bgcolor=white>\n<center><h1>404 Not Found</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n\n\nURI | HTTP\n:--- | :---:\ncurl http://localhost:9090/ | 403 Forbidden\ncurl http://localhost:9090/index.html|Welcome to nginx!\ncurl http://localhost:9090/index_notfound.html|404 Not Found\n\n`curl http://localhost:9090/`  403 Forbidden  location / {..deny all;} HTTP  GET /  location / {}  location \n\n`curl http://localhost:9090/index.html`  Welcome to nginx!  location / {deny all;}  403 Forbidden  /index.html  /  location /  Nginx  location  location ~ \\.html$  .html  allow all;  index.html \n\n`curl http://localhost:9090/index_notfound.html`    location / {}  location  location  location ~ \\.html$ {}  allow all  index_notfound.html  404 Not Found \n\n http://localhost:9090/index.txt  deny all  location / {..deny all;}  location  location  /index.txt  .html location  location  deny all \n```bash\n[root@web108 ~]# curl http://localhost:9090/index.txt\n<html>\n<head><title>403 Forbidden</title></head>\n<body bgcolor=white>\n<center><h1>403 Forbidden</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n* ** location **\n\n 2  1 \n\n```\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/exact/match.html\n<html>\n<head><title>404 Not Found</title></head>\n<body bgcolor=white>\n<center><h1>404 Not Found</h1></center>\n<hr><center>nginx/1.1.0</center>\n</body>\n</html>\n```\n\n location  location  location location  location  location  location  exact match  nginx  location  location  location  location  location location  location \n\n* ** location  ^~  **\n\n location  location  ^~  =  ^~ location  location  nginx  nginx  location  location  =  location \n\n 3  ^~ \n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location ^~ / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n 2  location / {}  location ^~ / {} \n\nURL |  | \n---- | :----: | :----:\ncurl http://localhost:9090/ | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/index.html | Welcome to nginx! | 403 Forbidden\ncurl http://localhost:9090/index_notfound.html | 404 Not Found | 403 Forbidden\ncurl http://localhost:9090/exact/match.html | 404 Not Found | 404 Not Found\n\n GET /exact/match.html  404 Not Found  403 Forbidden  /  /  location  location /exact/match.html  location /exact/match.html {allow all;}  location ^~ / {deny all;} \n\n 4  = \n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location /exact/match.html {\n           allow all;\n       }\n       location = / {\n           root   html;\n           index  index.html index.htm;\n           deny all;\n       }\n       location ~ \\.html$ {\n           allow all;\n       }\n}\n```\n 4  2  location / {}  location = / {} \n\nURL |  | \n---- | :----: | :----:\ncurl http://localhost:9090/ | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/index.html | Welcome to nginx! | Welcome to nginx!\ncurl http://localhost:9090/index_notfound.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/exact/match.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/test.jsp | 403 Forbidden | 404 Not Found\n\n GET /test.jsp  /test.jsp  location  location ~\\.html$  location = / {}  location / {}  location / {}  deny all \n\n* ** location **\nlocation  location  ^~  =  =  location  location \n\n```bash\n 3.1\n\nserver {\n       listen       9090;\n       server_name  localhost;\n       location ~ \\.html$ {\n           allow all; \n       }  \n       location ~ ^/prefix/.*\\.html$ {\n           deny all;  \n       }  \n}\n 3.2\n\nserver {\n       listen       9090;\n       server_name  localhost;     \n       location ~ ^/prefix/.*\\.html$ {\n           deny all;  \n       }            \n       location ~ \\.html$ {\n           allow all; \n       } \n}\n```\n\n\nURL | 3.1 | 3.2\n---- | :----: | :----:\ncurl http://localhost:9090/regextest.html | 404 Not Found | 404 Not Found\ncurl http://localhost:9090/prefix/regextest.html | 404 Not Found | 403 Forbidden\n\n\n`Location ~ ^/prefix/.*\\.html$ {deny all;}`  location  /prefix/  .html  URI    `location ~\\.html${allow all;}`  location  .html  URI  prefix  ~\\.html$ \n\n 3.1  `location ~\\.html$ {allow all;}`  404 Not Found  3.2  /regextest.html  prefix  ~\\.html$  404 Not Found  /prefix/regextest.html  prefix  deny all  403 Forbidden \n```\n 3.3\n\nserver {\n       listen       9090;\n       server_name  localhost; \n       location  /prefix/ {\n               deny all;  \n       }           \n       location  /prefix/mid/ {\n               allow all; \n       }  \n}\n 3.4\n\nserver {\n       listen       9090;\n       server_name  localhost;    \n       location  /prefix/mid/ {\n               allow all; \n       }  \n        location  /prefix/ {\n               deny all;  \n       }  \n}\n```\n\n\nURL | 3.3 | 3.4\n---- | :----: | :----:\ncurl http://localhost:9090/prefix/t.html | 403 Forbidden | 403 Forbidden\ncurl http://localhost:9090/prefix/mid/t.html | 404 Not Found | 404 Not Found\n\n location \n\n* **@  Named Location **\nREFER:  <http://wiki.nginx.org/HttpCoreModule#error_page>\n\n```bash\nserver {\n       listen       9090;\n       server_name  localhost;\n       location  / {\n           root   html;\n           index  index.html index.htm;\n           allow all;\n       }\n       #error_page 404 http://www.baidu.com # \n       error_page 404 = @fallback;\n\t   \n       location @fallback {\n           proxy_pass http://www.baidu.com;\n       }\n}\n```\n URI  nginx baidu.com  nginx  URI  HTTP_StatusCode  404 error_page 404 \n\n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/nofound.html -i\nHTTP/1.1 302 Found\nServer: nginx/1.1.0\nDate: Sat, 06 Aug 2011 08:17:21 GMT\nContent-Type: text/html; charset=iso-8859-1\nLocation: http://localhost:9090/search/error.html\nConnection: keep-alive\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:17:21 GMT\nContent-Length: 222\n\n<!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN>\n<html><head>\n<title>302 Found</title>\n</head><body>\n<h1>Found</h1>\n<p>The document has moved <a href=http://www.baidu.com/search/error.html>here</a>.</p>\n</body></html>\n```\n GET /nofound.html  nginx  nginx  error_page 404 = @fallback  http://www.baidu.com  nginx  http://www.baidu.com  GET /nofound.html /nofound.html  302 \n http://www.baidu.com/nofound.html \n\n```bash\n[root@web108 ~]# curl http://www.baidu.com/nofound.html -i\nHTTP/1.1 302 Found\nDate: Sat, 06 Aug 2011 08:20:05 GMT\nServer: Apache\nLocation: http://www.baidu.com/search/error.html\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:20:05 GMT\nContent-Length: 222\nConnection: Keep-Alive\nContent-Type: text/html; charset=iso-8859-1\n \n<!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN>\n<html><head>\n<title>302 Found</title>\n</head><body>\n<h1>Found</h1>\n<p>The document has moved <a href=http://www.baidu.com/search/error.html>here</a>.</p>\n</body></html>\n```\n nginx  baidu \n```bash\n[root@web108 ~]# curl http://www.baidu.com/duty/ -i\nHTTP/1.1 200 OK\nDate: Sat, 06 Aug 2011 08:21:56 GMT\nServer: Apache\nP3P: CP= OTI DSP COR IVA OUR IND COM \nP3P: CP= OTI DSP COR IVA OUR IND COM \nSet-Cookie: BAIDUID=5C5D2B2FD083737A0C88CA7075A6601A:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nSet-Cookie: BAIDUID=5C5D2B2FD083737A2337F78F909CCB90:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nLast-Modified: Wed, 05 Jan 2011 06:44:53 GMT\nETag: d66-49913b8efe340\nAccept-Ranges: bytes\nContent-Length: 3430\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:21:56 GMT\nVary: Accept-Encoding,User-Agent\nConnection: Keep-Alive\nContent-Type: text/html\n\n<!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN\nhttp://www.w3.org/TR/html4/loose.dtd>\n\n</body>\n</html>\n```\n\n\n```bash\n[root@web108 ~]# curl http://localhost:9090/duty/ -i\nHTTP/1.1 200 OK\nServer: nginx/1.1.0\nDate: Sat, 06 Aug 2011 08:23:23 GMT\nContent-Type: text/html\nConnection: keep-alive\nP3P: CP= OTI DSP COR IVA OUR IND COM \nP3P: CP= OTI DSP COR IVA OUR IND COM \nSet-Cookie: BAIDUID=8FEF0A3A2C31D277DCB4CC5F80B7F457:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nSet-Cookie: BAIDUID=8FEF0A3A2C31D277B1F87691AFFD7440:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1\nLast-Modified: Wed, 05 Jan 2011 06:44:53 GMT\nETag: d66-49913b8efe340\nAccept-Ranges: bytes\nContent-Length: 3430\nCache-Control: max-age=86400\nExpires: Sun, 07 Aug 2011 08:23:23 GMT\nVary: Accept-Encoding,User-Agent\n\n<!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN\nhttp://www.w3.org/TR/html4/loose.dtd>\n<html>\n\n</body>\n</html>\n```\n `curl http://localhost:9090/duty/ -i`  nginx  error_page = @fallback  baidu.com  error_page = @fallback  internally redirected forward \n\n### proxy_pass URL /\n>Proxy_pass/\nhostnamelocation\nhostnamelocation\n\n```\n1\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/tobaidu\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/tobaidu/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/tobaidu/xxxx\n\n```\n2\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/define;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/define\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n```\n3\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/tobaidu/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/tobaidu/xxxx\n\n```\n4\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/define;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n```\n5\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087//\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087//xxxx\n\n```\n6\nlocation /tobaidu {\n    proxy_pass http://127.0.0.1:8087/define/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define//\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define//xxxx\n\n```\n7\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/xxxx\n\n```\n8\nlocation /tobaidu/ {\n    proxy_pass http://127.0.0.1:8087/define/;\n}\n```\n\n\nURL | \n---- | ----\ncurl http://127.0.0.1/tobaidu | http://127.0.0.1/tobaidu/\ncurl http://127.0.0.1/tobaidu/ | http://127.0.0.1:8087/define/\ncurl http://127.0.0.1/tobaidu/xxxx | http://127.0.0.1:8087/define/xxxx\n\n****\n*URL `protocol://ip:port` /,nginx,,,/tobaidu/xxxx/xxxx*","slug":"Nginx-location","published":1,"updated":"2019-05-23T18:37:55.990Z","comments":1,"photos":[],"link":"","_id":"cjw6jlf52003ip4n79gf889i9","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h3 id=\"location-\"><a href=\"#location-\" class=\"headerlink\" title=\"location \"></a>location </h3><p> location </p>\n<h3 id=\"location--location-\"><a href=\"#location--location-\" class=\"headerlink\" title=\"location  location \"></a>location  location </h3><p> location  location  location  location location  location  location  location  location  location  location  location  1  location  ^~  Nginx  location  2 location </p>\n<p><strong>   location  location  location </strong></p>\n<blockquote>\n<p> (location =) &gt; (location ) &gt; (location ^~ ) &gt; (location ~,~* ) &gt; (location ) &gt; (/)</p>\n</blockquote>\n<p><strong></strong><a href=\"http://wiki.nginx.org/NginxHttpCoreModule#location\" target=\"_blank\" rel=\"noopener\">http://wiki.nginx.org/NginxHttpCoreModule#location</a><br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">location</span><br><span class=\"line\">syntax: `<span class=\"keyword\">location</span> <span class=\"title\">[=|~|~*|^~|@] /uri</span>/ &#123;  &#125;`</span><br><span class=\"line\">default: no</span><br><span class=\"line\">context: server</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>This directive allows different configurations depending on the URI.</p>\n</blockquote>\n<p>1 different configurations depending on the URI <code>location [=|~|~*|^~|@] /uri/ {  }</code> <code>= ^~ ~ ~* </code>[A] , location /uri/ 2 URI/films.htm?fid=123 URI /films.htm <br>It can be configured using both literal strings and regular expressions. To use regular expressions, you must use a prefix:<br><code>~</code>for case sensitive matching<br><code>~*</code>for case insensitive matching<br><code>location /uri/</code> 2 location location using regular expressions location location using literal strings ~ ~<em> location ~ ~</em> =^~ @ location </p>\n<blockquote>\n<p>To determine which location directive matches a particular query, the literal strings are checked first.</p>\n</blockquote>\n<p> HTTP  a particular query  nginx  location  nginx.conf  location  location location location </p>\n<blockquote>\n<p>Literal strings match the beginning portion of the query  the most specific match will be used.</p>\n</blockquote>\n<p>location location location location location location location 1match the beginning portion of the query URI beginning portion  2 the most specific match will be used location HTTP location <code>location /prefix/mid/ {}</code> <code>location /prefix/ {}</code> HTTP /prefix/mid/t.html location the most specific match <code>location /prefix/mid/ {}</code> </p>\n<blockquote>\n<p>Afterwards, regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search.</p>\n</blockquote>\n<p>Afterwards, regular expressions are checked , location nginx location location location regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search. location locationlocation location location location location location location location location location location </p>\n<blockquote>\n<p>If no regular expression matches are found, the result from the literal string search is used.</p>\n</blockquote>\n<p>location location location location  location location location location location <br>For case insensitive operating systems, like Mac OS X or Windows with Cygwin, literal string matching is done in a case insensitive way (0.7.7). However, comparison is limited to single-byte locales only.<br>Regular expression may contain captures (0.7.40), which can then be used in other directives.</p>\n<blockquote>\n<p>It is possible to disable regular expression checks after literal string matching by using ^~ prefix.If the most specific match literal location has this prefix: regular expressions arent checked.</p>\n</blockquote>\n<p>location location Nginx location location location ^~ ^ ~ </p>\n<blockquote>\n<p>By using the = prefix we define the exact match between request URI and location. When matched search stops immediately. E.g., if the request / occurs frequently, using location = / will speed up processing of this request a bit as search will stop after first comparison.</p>\n</blockquote>\n<p>^~ location = ^~ = location location ^~ = exact match <br><code>location / {} location = / {} </code>location / {} location URI / URI specific specific / URI / location / {} specificoverwrite location / {} location = / {} exact match  <a href=\"http://host:port/\" target=\"_blank\" rel=\"noopener\">http://host:port/</a> location GET / location = / {} location location / {} GET / </p>\n<blockquote>\n<p>On exact match with literal location without = or ^~ prefixes search is also immediately terminated.</p>\n</blockquote>\n<p>location location nginx location ^~ = location exact match exact match location = ^~ </p>\n<p>location /exact/match/test.html { 1}location /prefix/ { 2}  location ~ .html$ { 3}  GET /prefix/index.html 3 location /prefix/ location GET /exact/match/test.html 1 location exact match location </p>\n<p><strong>To summarize, the order in which directives are checked is as follows:</strong></p>\n<ol>\n<li>Directives with the = prefix that match the query exactly. If found, searching stops.</li>\n<li>All remaining directives with conventional strings. If this match used the ^~ prefix, searching stops.</li>\n<li>Regular expressions, in the order they are defined in the configuration file.</li>\n<li>If #3 yielded a match, that result is used. Otherwise, the match from #2 is used.</li>\n</ol>\n<p> location location  location </p>\n<blockquote>\n<p>It is important to know that nginx does the comparison against decoded URIs. For example, if you wish to match /images/ /test, then you must use /images/ /test to determine the location.</p>\n</blockquote>\n<p>URL URLEncode   Nginx URL URLDecode /images/ /test location /images/ /test </p>\n<p><strong>Example:</strong><br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">location</span>   <span class=\"title\">= / &#123;</span></span><br><span class=\"line\"><span class=\"title\"> # matches</span> the query / only.</span><br><span class=\"line\"> [ configuration A ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span>   <span class=\"title\">/ &#123;</span></span><br><span class=\"line\"><span class=\"title\">  # matches</span> any query, since all queries begin with /, but regular</span><br><span class=\"line\">  <span class=\"comment\"># expressions and any longer conventional blocks will be</span></span><br><span class=\"line\">  <span class=\"comment\"># matched first.</span></span><br><span class=\"line\"> [ configuration B ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">^~ /images</span>/ &#123;</span><br><span class=\"line\">    <span class=\"comment\"># matches any query beginning with /images/ and halts searching,</span></span><br><span class=\"line\">    <span class=\"comment\"># so regular expressions will not be checked.</span></span><br><span class=\"line\"> [ configuration C ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">~* \\.(gif</span>|jpg|jpeg)$ &#123;</span><br><span class=\"line\"> <span class=\"comment\"># matches any request ending in gif, jpg, or jpeg. However, all</span></span><br><span class=\"line\"> <span class=\"comment\"># requests to the /images/ directory will be handled by</span></span><br><span class=\"line\"> <span class=\"comment\"># Configuration C.  </span></span><br><span class=\"line\"> [ configuration D ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>4 location location / {[configuration B]} location location matches any query, since all queries begin with /, butregular expressions and any longer conventional blocks will be matched first. location / {} HTTP HTTP / location / location location / {} location location location = / {}  location ^~ / {} matched first   but regular expressions will be matched first.  location  location / {} location / {}  location  location  location  any longer conventional blocks  location / {} </p>\n<p>Example requests:</p>\n<ul>\n<li>/ -&gt; configuration A</li>\n<li>/documents/document.html -&gt; configuration B</li>\n<li>/images/1.gif -&gt; configuration C</li>\n<li>/documents/1.jpg -&gt; configuration D</li>\n</ul>\n<blockquote>\n<p>Note that you could define these 4 configurations in any order and the results would remain the same.</p>\n</blockquote>\n<p>in any order  remain the same location location </p>\n<blockquote>\n<p>While nested locations are allowed by the configuration file parser, their use is discouraged and may produce unexpected results.</p>\n</blockquote>\n<p> nginx  location  location / { location /uri/ {} }  nginx </p>\n<blockquote>\n<p>The prefix @ specifies a named location. Such locations are not used during normal processing of requests, they are intended only to process internally redirected requests (see error_page ,try_files ).</p>\n</blockquote>\n<p>location = ^~ ~ ~* @ @ @ Named Location location location using literal strings location location using regular expressions Named Location HTTP internally redirected internally redirected forward internally redirected </p>\n<h3 id=\"location-\"><a href=\"#location-\" class=\"headerlink\" title=\"location \"></a>location </h3><p>Nginx <code>location [=|~|~*|^~|@] /uri/ {  }</code> =  ~*  ~  ^~  @  [A]  A  A|B  A  B  /uri/ {}  /uri/  {} </p>\n<p> location  location  location using   literal strings  location  location using regular expressions  location  =  ^~  /uri/  location  ~  ~*  /uri/ <br> server  location  Nginx  HTTP  location  Nginx  location  location   location  location </p>\n<ul>\n<li><strong> location  location</strong><br> nginx  location  location  nginx  location  location  location  exact match  Literal strings match the beginning portion of the query  the most specific match will be used. </li>\n</ul>\n<p> 1  nginx <br><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">       <span class=\"attribute\">listen</span>       <span class=\"number\">9090</span>;</span><br><span class=\"line\">       <span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">           <span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">           <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">           <span class=\"attribute\">deny</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.html$</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> nginx  nginx-&gt;html-&gt;index.html<br> location / { deny all;}  location  /  URI  HTTP /  /  location ~.html$ {allow all;}  location .html  URI </p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white text=black&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index_notfound.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">URI</th>\n<th style=\"text-align:center\">HTTP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p><code>curl http://localhost:9090/</code>  403 Forbidden  location / {..deny all;} HTTP  GET /  location / {}  location </p>\n<p><code>curl http://localhost:9090/index.html</code>  Welcome to nginx!  location / {deny all;}  403 Forbidden  /index.html  /  location /  Nginx  location  location ~ .html$  .html  allow all;  index.html </p>\n<p><code>curl http://localhost:9090/index_notfound.html</code>    location / {}  location  location  location ~ .html$ {}  allow all  index_notfound.html  404 Not Found </p>\n<p> <a href=\"http://localhost:9090/index.txt\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.txt</a>  deny all  location / {..deny all;}  location  location  /index.txt  .html location  location  deny all <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index.txt</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><strong> location </strong></li>\n</ul>\n<p> 2  1 </p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">       <span class=\"attribute\">listen</span>       <span class=\"number\">9090</span>;</span><br><span class=\"line\">       <span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> /exact/match.html &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">           <span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">           <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">           <span class=\"attribute\">deny</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.html$</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/exact/match.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p> location  location  location location  location  location  location  exact match  nginx  location  location  location  location  location location  location </p>\n<ul>\n<li><strong> location  ^~  </strong></li>\n</ul>\n<p> location  location  ^~  =  ^~ location  location  nginx  nginx  location  location  =  location </p>\n<p> 3  ^~ <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location /exact/match.html &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ^~ / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           deny all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> 2  location / {}  location ^~ / {} </p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/exact/match.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/exact/match.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> GET /exact/match.html  404 Not Found  403 Forbidden  /  /  location  location /exact/match.html  location /exact/match.html {allow all;}  location ^~ / {deny all;} </p>\n<p> 4  = <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location /exact/match.html &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location = / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           deny all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> 4  2  location / {}  location = / {} </p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/exact/match.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/exact/match.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/test.jsp\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/test.jsp</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> GET /test.jsp  /test.jsp  location  location ~.html$  location = / {}  location / {}  location / {}  deny all </p>\n<ul>\n<li><strong> location </strong><br>location  location  ^~  =  =  location  location </li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 3.1</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">       location ~ ^/prefix/.*\\.html$ &#123;</span><br><span class=\"line\">           deny all;  </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> 3.2</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;     </span><br><span class=\"line\">       location ~ ^/prefix/.*\\.html$ &#123;</span><br><span class=\"line\">           deny all;  </span><br><span class=\"line\">       &#125;            </span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all; </span><br><span class=\"line\">       &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\">3.1</th>\n<th style=\"text-align:center\">3.2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/regextest.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/regextest.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/regextest.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/regextest.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n</tbody>\n</table>\n<p><br><code>Location ~ ^/prefix/.*\\.html$ {deny all;}</code>  location  /prefix/  .html  URI    <code>location ~\\.html${allow all;}</code>  location  .html  URI  prefix  ~.html$ </p>\n<p> 3.1  <code>location ~\\.html$ {allow all;}</code>  404 Not Found  3.2  /regextest.html  prefix  ~.html$  404 Not Found  /prefix/regextest.html  prefix  deny all  403 Forbidden <br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 3.3</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost; </span><br><span class=\"line\">       location  /prefix/ &#123;</span><br><span class=\"line\">               deny all;  </span><br><span class=\"line\">       &#125;           </span><br><span class=\"line\">       location  /prefix/mid/ &#123;</span><br><span class=\"line\">               allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> 3.4</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;    </span><br><span class=\"line\">       location  /prefix/mid/ &#123;</span><br><span class=\"line\">               allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">        location  /prefix/ &#123;</span><br><span class=\"line\">               deny all;  </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\">3.3</th>\n<th style=\"text-align:center\">3.4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/t.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/t.html</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/mid/t.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/mid/t.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> location </p>\n<ul>\n<li><strong>@  Named Location </strong><br>REFER:  <a href=\"http://wiki.nginx.org/HttpCoreModule#error_page\" target=\"_blank\" rel=\"noopener\">http://wiki.nginx.org/HttpCoreModule#error_page</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location  / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">#error_page 404 http://www.baidu.com # </span></span><br><span class=\"line\">       error_page 404 = @fallback;</span><br><span class=\"line\">\t   </span><br><span class=\"line\">       location @fallback &#123;</span><br><span class=\"line\">           proxy_pass http://www.baidu.com;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p> URI  nginx baidu.com  nginx  URI  HTTP_StatusCode  404 error_page 404 </p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/nofound.html -i</span></span><br><span class=\"line\">HTTP/1.1 302 Found</span><br><span class=\"line\">Server: nginx/1.1.0</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:17:21 GMT</span><br><span class=\"line\">Content-Type: text/html; charset=iso-8859-1</span><br><span class=\"line\">Location: http://localhost:9090/search/error.html</span><br><span class=\"line\">Connection: keep-alive</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:17:21 GMT</span><br><span class=\"line\">Content-Length: 222</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN&gt;</span><br><span class=\"line\">&lt;html&gt;&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;302 Found&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;Found&lt;/h1&gt;</span><br><span class=\"line\">&lt;p&gt;The document has moved &lt;a href=http://www.baidu.com/search/error.html&gt;here&lt;/a&gt;.&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> GET /nofound.html  nginx  nginx  error_page 404 = @fallback  <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com</a>  nginx  <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com</a>  GET /nofound.html /nofound.html  302 <br> <a href=\"http://www.baidu.com/nofound.html\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com/nofound.html</a> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://www.baidu.com/nofound.html -i</span></span><br><span class=\"line\">HTTP/1.1 302 Found</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:20:05 GMT</span><br><span class=\"line\">Server: Apache</span><br><span class=\"line\">Location: http://www.baidu.com/search/error.html</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:20:05 GMT</span><br><span class=\"line\">Content-Length: 222</span><br><span class=\"line\">Connection: Keep-Alive</span><br><span class=\"line\">Content-Type: text/html; charset=iso-8859-1</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN&gt;</span><br><span class=\"line\">&lt;html&gt;&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;302 Found&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;Found&lt;/h1&gt;</span><br><span class=\"line\">&lt;p&gt;The document has moved &lt;a href=http://www.baidu.com/search/error.html&gt;here&lt;/a&gt;.&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> nginx  baidu <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://www.baidu.com/duty/ -i</span></span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:21:56 GMT</span><br><span class=\"line\">Server: Apache</span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">Set-Cookie: BAIDUID=5C5D2B2FD083737A0C88CA7075A6601A:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Set-Cookie: BAIDUID=5C5D2B2FD083737A2337F78F909CCB90:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Last-Modified: Wed, 05 Jan 2011 06:44:53 GMT</span><br><span class=\"line\">ETag: d66-49913b8efe340</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Content-Length: 3430</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:21:56 GMT</span><br><span class=\"line\">Vary: Accept-Encoding,User-Agent</span><br><span class=\"line\">Connection: Keep-Alive</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN</span><br><span class=\"line\">http://www.w3.org/TR/html4/loose.dtd&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/duty/ -i</span></span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.1.0</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:23:23 GMT</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\">Connection: keep-alive</span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">Set-Cookie: BAIDUID=8FEF0A3A2C31D277DCB4CC5F80B7F457:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Set-Cookie: BAIDUID=8FEF0A3A2C31D277B1F87691AFFD7440:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Last-Modified: Wed, 05 Jan 2011 06:44:53 GMT</span><br><span class=\"line\">ETag: d66-49913b8efe340</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Content-Length: 3430</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:23:23 GMT</span><br><span class=\"line\">Vary: Accept-Encoding,User-Agent</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN</span><br><span class=\"line\">http://www.w3.org/TR/html4/loose.dtd&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> <code>curl http://localhost:9090/duty/ -i</code>  nginx  error_page = @fallback  baidu.com  error_page = @fallback  internally redirected forward </p>\n<h3 id=\"proxy-pass-URL--\"><a href=\"#proxy-pass-URL--\" class=\"headerlink\" title=\"proxy_pass URL /\"></a>proxy_pass URL /</h3><blockquote>\n<p>Proxy_pass/<br>hostnamelocation<br>hostnamelocation</p>\n</blockquote>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/define\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087//\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087//</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087//xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087//xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define//\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define//</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define//xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define//xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">8</span></span><br><span class=\"line\">location <span class=\"regexp\">/tobaidu/</span> &#123;</span><br><span class=\"line\">    proxy_pass http:<span class=\"regexp\">//</span><span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span><span class=\"regexp\">/define/</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<p><strong></strong><br><em>URL <code>protocol://ip:port</code> /,nginx,,,/tobaidu/xxxx/xxxx</em></p>\n","site":{"data":{}},"length":25385,"excerpt":"","more":"<h3 id=\"location-\"><a href=\"#location-\" class=\"headerlink\" title=\"location \"></a>location </h3><p> location </p>\n<h3 id=\"location--location-\"><a href=\"#location--location-\" class=\"headerlink\" title=\"location  location \"></a>location  location </h3><p> location  location  location  location location  location  location  location  location  location  location  location  1  location  ^~  Nginx  location  2 location </p>\n<p><strong>   location  location  location </strong></p>\n<blockquote>\n<p> (location =) &gt; (location ) &gt; (location ^~ ) &gt; (location ~,~* ) &gt; (location ) &gt; (/)</p>\n</blockquote>\n<p><strong></strong><a href=\"http://wiki.nginx.org/NginxHttpCoreModule#location\" target=\"_blank\" rel=\"noopener\">http://wiki.nginx.org/NginxHttpCoreModule#location</a><br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">location</span><br><span class=\"line\">syntax: `<span class=\"keyword\">location</span> <span class=\"title\">[=|~|~*|^~|@] /uri</span>/ &#123;  &#125;`</span><br><span class=\"line\">default: no</span><br><span class=\"line\">context: server</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>This directive allows different configurations depending on the URI.</p>\n</blockquote>\n<p>1 different configurations depending on the URI <code>location [=|~|~*|^~|@] /uri/ {  }</code> <code>= ^~ ~ ~* </code>[A] , location /uri/ 2 URI/films.htm?fid=123 URI /films.htm <br>It can be configured using both literal strings and regular expressions. To use regular expressions, you must use a prefix:<br><code>~</code>for case sensitive matching<br><code>~*</code>for case insensitive matching<br><code>location /uri/</code> 2 location location using regular expressions location location using literal strings ~ ~<em> location ~ ~</em> =^~ @ location </p>\n<blockquote>\n<p>To determine which location directive matches a particular query, the literal strings are checked first.</p>\n</blockquote>\n<p> HTTP  a particular query  nginx  location  nginx.conf  location  location location location </p>\n<blockquote>\n<p>Literal strings match the beginning portion of the query  the most specific match will be used.</p>\n</blockquote>\n<p>location location location location location location location 1match the beginning portion of the query URI beginning portion  2 the most specific match will be used location HTTP location <code>location /prefix/mid/ {}</code> <code>location /prefix/ {}</code> HTTP /prefix/mid/t.html location the most specific match <code>location /prefix/mid/ {}</code> </p>\n<blockquote>\n<p>Afterwards, regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search.</p>\n</blockquote>\n<p>Afterwards, regular expressions are checked , location nginx location location location regular expressions are checked in the order defined in the configuration file. The first regular expression to match the query will stop the search. location locationlocation location location location location location location location location location location </p>\n<blockquote>\n<p>If no regular expression matches are found, the result from the literal string search is used.</p>\n</blockquote>\n<p>location location location location  location location location location location <br>For case insensitive operating systems, like Mac OS X or Windows with Cygwin, literal string matching is done in a case insensitive way (0.7.7). However, comparison is limited to single-byte locales only.<br>Regular expression may contain captures (0.7.40), which can then be used in other directives.</p>\n<blockquote>\n<p>It is possible to disable regular expression checks after literal string matching by using ^~ prefix.If the most specific match literal location has this prefix: regular expressions arent checked.</p>\n</blockquote>\n<p>location location Nginx location location location ^~ ^ ~ </p>\n<blockquote>\n<p>By using the = prefix we define the exact match between request URI and location. When matched search stops immediately. E.g., if the request / occurs frequently, using location = / will speed up processing of this request a bit as search will stop after first comparison.</p>\n</blockquote>\n<p>^~ location = ^~ = location location ^~ = exact match <br><code>location / {} location = / {} </code>location / {} location URI / URI specific specific / URI / location / {} specificoverwrite location / {} location = / {} exact match  <a href=\"http://host:port/\" target=\"_blank\" rel=\"noopener\">http://host:port/</a> location GET / location = / {} location location / {} GET / </p>\n<blockquote>\n<p>On exact match with literal location without = or ^~ prefixes search is also immediately terminated.</p>\n</blockquote>\n<p>location location nginx location ^~ = location exact match exact match location = ^~ </p>\n<p>location /exact/match/test.html { 1}location /prefix/ { 2}  location ~ .html$ { 3}  GET /prefix/index.html 3 location /prefix/ location GET /exact/match/test.html 1 location exact match location </p>\n<p><strong>To summarize, the order in which directives are checked is as follows:</strong></p>\n<ol>\n<li>Directives with the = prefix that match the query exactly. If found, searching stops.</li>\n<li>All remaining directives with conventional strings. If this match used the ^~ prefix, searching stops.</li>\n<li>Regular expressions, in the order they are defined in the configuration file.</li>\n<li>If #3 yielded a match, that result is used. Otherwise, the match from #2 is used.</li>\n</ol>\n<p> location location  location </p>\n<blockquote>\n<p>It is important to know that nginx does the comparison against decoded URIs. For example, if you wish to match /images/ /test, then you must use /images/ /test to determine the location.</p>\n</blockquote>\n<p>URL URLEncode   Nginx URL URLDecode /images/ /test location /images/ /test </p>\n<p><strong>Example:</strong><br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">location</span>   <span class=\"title\">= / &#123;</span></span><br><span class=\"line\"><span class=\"title\"> # matches</span> the query / only.</span><br><span class=\"line\"> [ configuration A ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span>   <span class=\"title\">/ &#123;</span></span><br><span class=\"line\"><span class=\"title\">  # matches</span> any query, since all queries begin with /, but regular</span><br><span class=\"line\">  <span class=\"comment\"># expressions and any longer conventional blocks will be</span></span><br><span class=\"line\">  <span class=\"comment\"># matched first.</span></span><br><span class=\"line\"> [ configuration B ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">^~ /images</span>/ &#123;</span><br><span class=\"line\">    <span class=\"comment\"># matches any query beginning with /images/ and halts searching,</span></span><br><span class=\"line\">    <span class=\"comment\"># so regular expressions will not be checked.</span></span><br><span class=\"line\"> [ configuration C ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">~* \\.(gif</span>|jpg|jpeg)$ &#123;</span><br><span class=\"line\"> <span class=\"comment\"># matches any request ending in gif, jpg, or jpeg. However, all</span></span><br><span class=\"line\"> <span class=\"comment\"># requests to the /images/ directory will be handled by</span></span><br><span class=\"line\"> <span class=\"comment\"># Configuration C.  </span></span><br><span class=\"line\"> [ configuration D ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>4 location location / {[configuration B]} location location matches any query, since all queries begin with /, butregular expressions and any longer conventional blocks will be matched first. location / {} HTTP HTTP / location / location location / {} location location location = / {}  location ^~ / {} matched first   but regular expressions will be matched first.  location  location / {} location / {}  location  location  location  any longer conventional blocks  location / {} </p>\n<p>Example requests:</p>\n<ul>\n<li>/ -&gt; configuration A</li>\n<li>/documents/document.html -&gt; configuration B</li>\n<li>/images/1.gif -&gt; configuration C</li>\n<li>/documents/1.jpg -&gt; configuration D</li>\n</ul>\n<blockquote>\n<p>Note that you could define these 4 configurations in any order and the results would remain the same.</p>\n</blockquote>\n<p>in any order  remain the same location location </p>\n<blockquote>\n<p>While nested locations are allowed by the configuration file parser, their use is discouraged and may produce unexpected results.</p>\n</blockquote>\n<p> nginx  location  location / { location /uri/ {} }  nginx </p>\n<blockquote>\n<p>The prefix @ specifies a named location. Such locations are not used during normal processing of requests, they are intended only to process internally redirected requests (see error_page ,try_files ).</p>\n</blockquote>\n<p>location = ^~ ~ ~* @ @ @ Named Location location location using literal strings location location using regular expressions Named Location HTTP internally redirected internally redirected forward internally redirected </p>\n<h3 id=\"location-\"><a href=\"#location-\" class=\"headerlink\" title=\"location \"></a>location </h3><p>Nginx <code>location [=|~|~*|^~|@] /uri/ {  }</code> =  ~*  ~  ^~  @  [A]  A  A|B  A  B  /uri/ {}  /uri/  {} </p>\n<p> location  location  location using   literal strings  location  location using regular expressions  location  =  ^~  /uri/  location  ~  ~*  /uri/ <br> server  location  Nginx  HTTP  location  Nginx  location  location   location  location </p>\n<ul>\n<li><strong> location  location</strong><br> nginx  location  location  nginx  location  location  location  exact match  Literal strings match the beginning portion of the query  the most specific match will be used. </li>\n</ul>\n<p> 1  nginx <br><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">       <span class=\"attribute\">listen</span>       <span class=\"number\">9090</span>;</span><br><span class=\"line\">       <span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">           <span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">           <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">           <span class=\"attribute\">deny</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.html$</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> nginx  nginx-&gt;html-&gt;index.html<br> location / { deny all;}  location  /  URI  HTTP /  /  location ~.html$ {allow all;}  location .html  URI </p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white text=black&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index_notfound.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">URI</th>\n<th style=\"text-align:center\">HTTP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p><code>curl http://localhost:9090/</code>  403 Forbidden  location / {..deny all;} HTTP  GET /  location / {}  location </p>\n<p><code>curl http://localhost:9090/index.html</code>  Welcome to nginx!  location / {deny all;}  403 Forbidden  /index.html  /  location /  Nginx  location  location ~ .html$  .html  allow all;  index.html </p>\n<p><code>curl http://localhost:9090/index_notfound.html</code>    location / {}  location  location  location ~ .html$ {}  allow all  index_notfound.html  404 Not Found </p>\n<p> <a href=\"http://localhost:9090/index.txt\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.txt</a>  deny all  location / {..deny all;}  location  location  /index.txt  .html location  location  deny all <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/index.txt</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><strong> location </strong></li>\n</ul>\n<p> 2  1 </p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">       <span class=\"attribute\">listen</span>       <span class=\"number\">9090</span>;</span><br><span class=\"line\">       <span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> /exact/match.html &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">           <span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">           <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">           <span class=\"attribute\">deny</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.html$</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">allow</span> all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/exact/match.html</span></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;</span><br><span class=\"line\">&lt;body bgcolor=white&gt;</span><br><span class=\"line\">&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;</span><br><span class=\"line\">&lt;hr&gt;&lt;center&gt;nginx/1.1.0&lt;/center&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p> location  location  location location  location  location  location  exact match  nginx  location  location  location  location  location location  location </p>\n<ul>\n<li><strong> location  ^~  </strong></li>\n</ul>\n<p> location  location  ^~  =  ^~ location  location  nginx  nginx  location  location  =  location </p>\n<p> 3  ^~ <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location /exact/match.html &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ^~ / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           deny all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> 2  location / {}  location ^~ / {} </p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/exact/match.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/exact/match.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> GET /exact/match.html  404 Not Found  403 Forbidden  /  /  location  location /exact/match.html  location /exact/match.html {allow all;}  location ^~ / {deny all;} </p>\n<p> 4  = <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location /exact/match.html &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location = / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           deny all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> 4  2  location / {}  location = / {} </p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index.html</a></td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n<td style=\"text-align:center\">Welcome to nginx!</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/index_notfound.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/index_notfound.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/exact/match.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/exact/match.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/test.jsp\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/test.jsp</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> GET /test.jsp  /test.jsp  location  location ~.html$  location = / {}  location / {}  location / {}  deny all </p>\n<ul>\n<li><strong> location </strong><br>location  location  ^~  =  =  location  location </li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 3.1</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">       location ~ ^/prefix/.*\\.html$ &#123;</span><br><span class=\"line\">           deny all;  </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> 3.2</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;     </span><br><span class=\"line\">       location ~ ^/prefix/.*\\.html$ &#123;</span><br><span class=\"line\">           deny all;  </span><br><span class=\"line\">       &#125;            </span><br><span class=\"line\">       location ~ \\.html$ &#123;</span><br><span class=\"line\">           allow all; </span><br><span class=\"line\">       &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\">3.1</th>\n<th style=\"text-align:center\">3.2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/regextest.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/regextest.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/regextest.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/regextest.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n</tbody>\n</table>\n<p><br><code>Location ~ ^/prefix/.*\\.html$ {deny all;}</code>  location  /prefix/  .html  URI    <code>location ~\\.html${allow all;}</code>  location  .html  URI  prefix  ~.html$ </p>\n<p> 3.1  <code>location ~\\.html$ {allow all;}</code>  404 Not Found  3.2  /regextest.html  prefix  ~.html$  404 Not Found  /prefix/regextest.html  prefix  deny all  403 Forbidden <br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 3.3</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost; </span><br><span class=\"line\">       location  /prefix/ &#123;</span><br><span class=\"line\">               deny all;  </span><br><span class=\"line\">       &#125;           </span><br><span class=\"line\">       location  /prefix/mid/ &#123;</span><br><span class=\"line\">               allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> 3.4</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;    </span><br><span class=\"line\">       location  /prefix/mid/ &#123;</span><br><span class=\"line\">               allow all; </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">        location  /prefix/ &#123;</span><br><span class=\"line\">               deny all;  </span><br><span class=\"line\">       &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th style=\"text-align:center\">3.3</th>\n<th style=\"text-align:center\">3.4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/t.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/t.html</a></td>\n<td style=\"text-align:center\">403 Forbidden</td>\n<td style=\"text-align:center\">403 Forbidden</td>\n</tr>\n<tr>\n<td>curl <a href=\"http://localhost:9090/prefix/mid/t.html\" target=\"_blank\" rel=\"noopener\">http://localhost:9090/prefix/mid/t.html</a></td>\n<td style=\"text-align:center\">404 Not Found</td>\n<td style=\"text-align:center\">404 Not Found</td>\n</tr>\n</tbody>\n</table>\n<p> location </p>\n<ul>\n<li><strong>@  Named Location </strong><br>REFER:  <a href=\"http://wiki.nginx.org/HttpCoreModule#error_page\" target=\"_blank\" rel=\"noopener\">http://wiki.nginx.org/HttpCoreModule#error_page</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">       listen       9090;</span><br><span class=\"line\">       server_name  localhost;</span><br><span class=\"line\">       location  / &#123;</span><br><span class=\"line\">           root   html;</span><br><span class=\"line\">           index  index.html index.htm;</span><br><span class=\"line\">           allow all;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">#error_page 404 http://www.baidu.com # </span></span><br><span class=\"line\">       error_page 404 = @fallback;</span><br><span class=\"line\">\t   </span><br><span class=\"line\">       location @fallback &#123;</span><br><span class=\"line\">           proxy_pass http://www.baidu.com;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p> URI  nginx baidu.com  nginx  URI  HTTP_StatusCode  404 error_page 404 </p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/nofound.html -i</span></span><br><span class=\"line\">HTTP/1.1 302 Found</span><br><span class=\"line\">Server: nginx/1.1.0</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:17:21 GMT</span><br><span class=\"line\">Content-Type: text/html; charset=iso-8859-1</span><br><span class=\"line\">Location: http://localhost:9090/search/error.html</span><br><span class=\"line\">Connection: keep-alive</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:17:21 GMT</span><br><span class=\"line\">Content-Length: 222</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN&gt;</span><br><span class=\"line\">&lt;html&gt;&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;302 Found&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;Found&lt;/h1&gt;</span><br><span class=\"line\">&lt;p&gt;The document has moved &lt;a href=http://www.baidu.com/search/error.html&gt;here&lt;/a&gt;.&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> GET /nofound.html  nginx  nginx  error_page 404 = @fallback  <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com</a>  nginx  <a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com</a>  GET /nofound.html /nofound.html  302 <br> <a href=\"http://www.baidu.com/nofound.html\" target=\"_blank\" rel=\"noopener\">http://www.baidu.com/nofound.html</a> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://www.baidu.com/nofound.html -i</span></span><br><span class=\"line\">HTTP/1.1 302 Found</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:20:05 GMT</span><br><span class=\"line\">Server: Apache</span><br><span class=\"line\">Location: http://www.baidu.com/search/error.html</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:20:05 GMT</span><br><span class=\"line\">Content-Length: 222</span><br><span class=\"line\">Connection: Keep-Alive</span><br><span class=\"line\">Content-Type: text/html; charset=iso-8859-1</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//EN&gt;</span><br><span class=\"line\">&lt;html&gt;&lt;head&gt;</span><br><span class=\"line\">&lt;title&gt;302 Found&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;Found&lt;/h1&gt;</span><br><span class=\"line\">&lt;p&gt;The document has moved &lt;a href=http://www.baidu.com/search/error.html&gt;here&lt;/a&gt;.&lt;/p&gt;</span><br><span class=\"line\">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> nginx  baidu <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://www.baidu.com/duty/ -i</span></span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:21:56 GMT</span><br><span class=\"line\">Server: Apache</span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">Set-Cookie: BAIDUID=5C5D2B2FD083737A0C88CA7075A6601A:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Set-Cookie: BAIDUID=5C5D2B2FD083737A2337F78F909CCB90:FG=1; expires=Sun, 05-Aug-12 08:21:56 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Last-Modified: Wed, 05 Jan 2011 06:44:53 GMT</span><br><span class=\"line\">ETag: d66-49913b8efe340</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Content-Length: 3430</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:21:56 GMT</span><br><span class=\"line\">Vary: Accept-Encoding,User-Agent</span><br><span class=\"line\">Connection: Keep-Alive</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN</span><br><span class=\"line\">http://www.w3.org/TR/html4/loose.dtd&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@web108 ~]<span class=\"comment\"># curl http://localhost:9090/duty/ -i</span></span><br><span class=\"line\">HTTP/1.1 200 OK</span><br><span class=\"line\">Server: nginx/1.1.0</span><br><span class=\"line\">Date: Sat, 06 Aug 2011 08:23:23 GMT</span><br><span class=\"line\">Content-Type: text/html</span><br><span class=\"line\">Connection: keep-alive</span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">P3P: CP= OTI DSP COR IVA OUR IND COM </span><br><span class=\"line\">Set-Cookie: BAIDUID=8FEF0A3A2C31D277DCB4CC5F80B7F457:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Set-Cookie: BAIDUID=8FEF0A3A2C31D277B1F87691AFFD7440:FG=1; expires=Sun, 05-Aug-12 08:23:23 GMT; max-age=31536000; path=/; domain=.baidu.com; version=1</span><br><span class=\"line\">Last-Modified: Wed, 05 Jan 2011 06:44:53 GMT</span><br><span class=\"line\">ETag: d66-49913b8efe340</span><br><span class=\"line\">Accept-Ranges: bytes</span><br><span class=\"line\">Content-Length: 3430</span><br><span class=\"line\">Cache-Control: max-age=86400</span><br><span class=\"line\">Expires: Sun, 07 Aug 2011 08:23:23 GMT</span><br><span class=\"line\">Vary: Accept-Encoding,User-Agent</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC -//W3C//DTD HTML 4.01 Transitional//EN</span><br><span class=\"line\">http://www.w3.org/TR/html4/loose.dtd&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p> <code>curl http://localhost:9090/duty/ -i</code>  nginx  error_page = @fallback  baidu.com  error_page = @fallback  internally redirected forward </p>\n<h3 id=\"proxy-pass-URL--\"><a href=\"#proxy-pass-URL--\" class=\"headerlink\" title=\"proxy_pass URL /\"></a>proxy_pass URL /</h3><blockquote>\n<p>Proxy_pass/<br>hostnamelocation<br>hostnamelocation</p>\n</blockquote>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/define\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/tobaidu/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087//\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087//</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087//xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087//xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span> &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/define/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define//\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define//</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define//xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define//xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"keyword\">location</span> <span class=\"title\">/tobaidu</span>/ &#123;</span><br><span class=\"line\">    proxy_pass http://<span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span>/;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">8</span></span><br><span class=\"line\">location <span class=\"regexp\">/tobaidu/</span> &#123;</span><br><span class=\"line\">    proxy_pass http:<span class=\"regexp\">//</span><span class=\"number\">127.0</span>.<span class=\"number\">0.1</span>:<span class=\"number\">8087</span><span class=\"regexp\">/define/</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu</a></td>\n<td><a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/</a></td>\n</tr>\n<tr>\n<td>curl <a href=\"http://127.0.0.1/tobaidu/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1/tobaidu/xxxx</a></td>\n<td><a href=\"http://127.0.0.1:8087/define/xxxx\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8087/define/xxxx</a></td>\n</tr>\n</tbody>\n</table>\n<p><strong></strong><br><em>URL <code>protocol://ip:port</code> /,nginx,,,/tobaidu/xxxx/xxxx</em></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjw6jley00000p4n7rtkrzy0g","category_id":"cjw6jleyc0004p4n73b3ire6w","_id":"cjw6jleyq000hp4n7f5i4jabo"},{"post_id":"cjw6jley60002p4n7xpj2w6m8","category_id":"cjw6jleyc0004p4n73b3ire6w","_id":"cjw6jleyu000mp4n7lxku6vhe"},{"post_id":"cjw6jleyr000jp4n722c6b6pr","category_id":"cjw6jleyc0004p4n73b3ire6w","_id":"cjw6jleyy000tp4n75yv01fs5"},{"post_id":"cjw6jleye0006p4n7qla5itt2","category_id":"cjw6jleyq000gp4n73z1rp93k","_id":"cjw6jlez0000xp4n70dw6yfsl"},{"post_id":"cjw6jleyh0008p4n7w4j459wm","category_id":"cjw6jleyu000np4n72e96y9pf","_id":"cjw6jlez10010p4n7uvseq0xd"},{"post_id":"cjw6jleyk000ap4n74ccnzwe3","category_id":"cjw6jleyy000up4n7a1l4gum4","_id":"cjw6jlez40015p4n7rjwjx4f2"},{"post_id":"cjw6jleyo000ep4n7yaqnmszi","category_id":"cjw6jlez20011p4n7evn1dq8l","_id":"cjw6jlez6001ap4n7hbqcfwt7"},{"post_id":"cjw6jleyp000fp4n70fhjbu6m","category_id":"cjw6jleyu000np4n72e96y9pf","_id":"cjw6jlez8001fp4n7jnnzzyrx"},{"post_id":"cjw6jleyt000lp4n7lluv22oa","category_id":"cjw6jleyu000np4n72e96y9pf","_id":"cjw6jlez9001ip4n74nu4s64c"},{"post_id":"cjw6jleyv000qp4n781v9gg52","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jlezb001np4n7ctzxfi2n"},{"post_id":"cjw6jleyx000sp4n74h3vtq2v","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jleze001rp4n7fbue09dp"},{"post_id":"cjw6jleyz000wp4n7owjt9azi","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jlezf001vp4n7c8tb5qgt"},{"post_id":"cjw6jlez0000zp4n79apd6t0b","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jlezh001zp4n7lj15zw0n"},{"post_id":"cjw6jlez20012p4n7xaq1nk9y","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jlezj0022p4n71uln7b0k"},{"post_id":"cjw6jlez30014p4n7ypdhtw9j","category_id":"cjw6jlez7001ep4n7saz58jkg","_id":"cjw6jlezk0025p4n7b7ln9u2i"},{"post_id":"cjw6jlf0j0027p4n77u7evesf","category_id":"cjw6jlez20011p4n7evn1dq8l","_id":"cjw6jlf0n002dp4n73f6jvld3"},{"post_id":"cjw6jlf0k0028p4n7auqz2ccw","category_id":"cjw6jleyu000np4n72e96y9pf","_id":"cjw6jlf0p002gp4n70nr9djij"},{"post_id":"cjw6jlf0m002cp4n7dqhjquuz","category_id":"cjw6jlez20011p4n7evn1dq8l","_id":"cjw6jlf0s002mp4n7i6mpjbld"},{"post_id":"cjw6jlf0l002ap4n7m0pm300j","category_id":"cjw6jlf0n002ep4n7u2z2i4fl","_id":"cjw6jlf0u002rp4n7a3rprlpm"},{"post_id":"cjw6jlf0o002fp4n7d54m45ap","category_id":"cjw6jlf0n002ep4n7u2z2i4fl","_id":"cjw6jlf0v002tp4n7q87ncszn"},{"post_id":"cjw6jlf0q002jp4n7qrjpt5es","category_id":"cjw6jlf0u002qp4n7r13m2w8g","_id":"cjw6jlf0w002wp4n7ymhna2wt"},{"post_id":"cjw6jlf0s002lp4n76yld7u6h","category_id":"cjw6jlf0v002up4n7p5twjbg0","_id":"cjw6jlf0x002zp4n7kta587j8"},{"post_id":"cjw6jlf1v0035p4n7ir2wqrou","category_id":"cjw6jlez20011p4n7evn1dq8l","_id":"cjw6jlf22003ap4n7e7gy1um6"},{"post_id":"cjw6jlf1w0036p4n7tcq9wuxw","category_id":"cjw6jlf0n002ep4n7u2z2i4fl","_id":"cjw6jlf24003cp4n7cdpabmby"},{"post_id":"cjw6jlf200038p4n7lavirhxc","category_id":"cjw6jlf23003bp4n7ti3zh1b5","_id":"cjw6jlf27003gp4n7j62hzqa3"},{"post_id":"cjw6jlf52003ip4n79gf889i9","category_id":"cjw6jleyu000np4n72e96y9pf","_id":"cjw6jlf55003lp4n7ipysnwif"}],"PostTag":[{"post_id":"cjw6jley00000p4n7rtkrzy0g","tag_id":"cjw6jleyd0005p4n79gffs39f","_id":"cjw6jleyn000dp4n7yse063n1"},{"post_id":"cjw6jley60002p4n7xpj2w6m8","tag_id":"cjw6jleyl000cp4n76p6ey7zz","_id":"cjw6jleys000kp4n7izr35hrh"},{"post_id":"cjw6jleyr000jp4n722c6b6pr","tag_id":"cjw6jleyl000cp4n76p6ey7zz","_id":"cjw6jleyv000pp4n765oxjwqb"},{"post_id":"cjw6jleye0006p4n7qla5itt2","tag_id":"cjw6jleyr000ip4n7et5xzxyp","_id":"cjw6jleyw000rp4n7yzodrz4v"},{"post_id":"cjw6jleyh0008p4n7w4j459wm","tag_id":"cjw6jleyu000op4n772s02g8o","_id":"cjw6jlez0000yp4n7go2s2o52"},{"post_id":"cjw6jleyk000ap4n74ccnzwe3","tag_id":"cjw6jleyy000vp4n7fs8vrgj0","_id":"cjw6jlez50018p4n7tjzhvhww"},{"post_id":"cjw6jleyk000ap4n74ccnzwe3","tag_id":"cjw6jlez30013p4n74ove8bv3","_id":"cjw6jlez6001bp4n7mmmvyf37"},{"post_id":"cjw6jleyo000ep4n7yaqnmszi","tag_id":"cjw6jlez50017p4n7pfpdzegl","_id":"cjw6jlez7001dp4n7i974jb2j"},{"post_id":"cjw6jleyp000fp4n70fhjbu6m","tag_id":"cjw6jlez7001cp4n73aka15ab","_id":"cjw6jlez9001hp4n78fsrqmm1"},{"post_id":"cjw6jleyt000lp4n7lluv22oa","tag_id":"cjw6jlez9001gp4n7iuohej1i","_id":"cjw6jlezb001lp4n7dvbexyyz"},{"post_id":"cjw6jleyv000qp4n781v9gg52","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezd001pp4n7gfnf4tkx"},{"post_id":"cjw6jleyx000sp4n74h3vtq2v","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezf001tp4n7l71ktutl"},{"post_id":"cjw6jleyz000wp4n7owjt9azi","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezh001xp4n7epv0wsh7"},{"post_id":"cjw6jlez0000zp4n79apd6t0b","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezj0021p4n7bo2ztzx5"},{"post_id":"cjw6jlez20012p4n7xaq1nk9y","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezk0024p4n7e4iqicl7"},{"post_id":"cjw6jlez30014p4n7ypdhtw9j","tag_id":"cjw6jleza001kp4n74f4vskz3","_id":"cjw6jlezk0026p4n7tqnx0q4u"},{"post_id":"cjw6jlf0k0028p4n7auqz2ccw","tag_id":"cjw6jleyu000op4n772s02g8o","_id":"cjw6jlf0m002bp4n7ylc0hgx8"},{"post_id":"cjw6jlf0m002cp4n7dqhjquuz","tag_id":"cjw6jlez50017p4n7pfpdzegl","_id":"cjw6jlf0q002ip4n7e81ms78g"},{"post_id":"cjw6jlf0j0027p4n77u7evesf","tag_id":"cjw6jlf0k0029p4n7dw11ci2a","_id":"cjw6jlf0s002kp4n78jadpnxl"},{"post_id":"cjw6jlf0l002ap4n7m0pm300j","tag_id":"cjw6jlf0p002hp4n72u9f85f2","_id":"cjw6jlf0u002pp4n7a5xps7iv"},{"post_id":"cjw6jlf0o002fp4n7d54m45ap","tag_id":"cjw6jlf0t002op4n7dly6kahs","_id":"cjw6jlf0x002yp4n7f1euohb4"},{"post_id":"cjw6jlf0o002fp4n7d54m45ap","tag_id":"cjw6jlf0v002sp4n7c40k308i","_id":"cjw6jlf0x0030p4n7forhiard"},{"post_id":"cjw6jlf0o002fp4n7d54m45ap","tag_id":"cjw6jlf0w002vp4n7i2bz78m2","_id":"cjw6jlf0y0032p4n7kmgsl3qp"},{"post_id":"cjw6jlf0q002jp4n7qrjpt5es","tag_id":"cjw6jlf0w002xp4n7b2qts5i1","_id":"cjw6jlf0y0033p4n7y3ny5blv"},{"post_id":"cjw6jlf0s002lp4n76yld7u6h","tag_id":"cjw6jlf0y0031p4n7ltdgsqk3","_id":"cjw6jlf0z0034p4n7zskzjwds"},{"post_id":"cjw6jlf1v0035p4n7ir2wqrou","tag_id":"cjw6jlf0k0029p4n7dw11ci2a","_id":"cjw6jlf1z0037p4n7vzpdsngk"},{"post_id":"cjw6jlf1w0036p4n7tcq9wuxw","tag_id":"cjw6jlf0v002sp4n7c40k308i","_id":"cjw6jlf26003ep4n72bd7q8hk"},{"post_id":"cjw6jlf1w0036p4n7tcq9wuxw","tag_id":"cjw6jlf220039p4n7w32f0zqz","_id":"cjw6jlf27003fp4n7w4x0ws0g"},{"post_id":"cjw6jlf200038p4n7lavirhxc","tag_id":"cjw6jlf26003dp4n7a0m2g0fb","_id":"cjw6jlf27003hp4n78uma8mix"},{"post_id":"cjw6jlf52003ip4n79gf889i9","tag_id":"cjw6jlez7001cp4n73aka15ab","_id":"cjw6jlf54003kp4n7o3kz8m0a"}],"Tag":[{"name":"aliyun","_id":"cjw6jleyd0005p4n79gffs39f"},{"name":"Linux","_id":"cjw6jleyl000cp4n76p6ey7zz"},{"name":"hexo","_id":"cjw6jleyr000ip4n7et5xzxyp"},{"name":"https","_id":"cjw6jleyu000op4n772s02g8o"},{"name":"docker","_id":"cjw6jleyy000vp4n7fs8vrgj0"},{"name":"kubernetes","_id":"cjw6jlez30013p4n74ove8bv3"},{"name":"git","_id":"cjw6jlez50017p4n7pfpdzegl"},{"name":"nginx","_id":"cjw6jlez7001cp4n73aka15ab"},{"name":"tomcat","_id":"cjw6jlez9001gp4n7iuohej1i"},{"name":"zabbix","_id":"cjw6jleza001kp4n74f4vskz3"},{"name":"ansible","_id":"cjw6jlf0k0029p4n7dw11ci2a"},{"name":"x-pack","_id":"cjw6jlf0p002hp4n72u9f85f2"},{"name":"elasticsearch","_id":"cjw6jlf0t002op4n7dly6kahs"},{"name":"filebeat","_id":"cjw6jlf0v002sp4n7c40k308i"},{"name":"kibana","_id":"cjw6jlf0w002vp4n7i2bz78m2"},{"name":"markdown","_id":"cjw6jlf0w002xp4n7b2qts5i1"},{"name":"prometheus","_id":"cjw6jlf0y0031p4n7ltdgsqk3"},{"name":"efk","_id":"cjw6jlf220039p4n7w32f0zqz"},{"name":"mysql","_id":"cjw6jlf26003dp4n7a0m2g0fb"}]}}